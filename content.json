{"meta":{"title":"ç¼–ç¨‹å­¦ä¹ ä¹‹è·¯","subtitle":"ä¸€ä¸ªåšå®¢ã€ä¸€ä¸ªè®°å½•ã€ä¸€ä»½ç¬”è®°ï¼Œæ¸©æ•…è€ŒçŸ¥æ–°ï¼","description":"Kming çš„ä¸ªäººåšå®¢ï¼›å­¦ä¹  Javaã€WEBå‰ç«¯ã€ä¸­é—´ä»¶ã€å®¹å™¨ã€CI/CDï¼›è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚ä¸€å…¥ IT å­¦æ— æ­¢å¢ƒï¼Œä¸€ä¸ªåšå®¢ã€ä¸€ä¸ªè®°å½•ã€ä¸€ä»½ç¬”è®°ï¼Œæ¸©æ•…è€ŒçŸ¥æ–°ï¼","author":"Kming Liu","url":"https://www.kming6.com","root":"/"},"pages":[{"title":"","date":"2020-06-06T07:48:46.192Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"404.html","permalink":"https://www.kming6.com/404.html","excerpt":"","text":"var QZONE = window.QZONE || {}; function imagezoom(imgobj, box_w, box_h) { var src_w = imgobj.width; var src_h = imgobj.height; var r1 = src_w / src_h, r2 = box_w / box_h; var dst_w, dst_h; if (r1 > r2) { dst_w = box_w; dst_h = Math.round(dst_w / src_w * src_h); } else { if (r1 < r2) { dst_h = box_h; dst_w = Math.round(dst_h / src_h * src_w); } else { dst_w = box_w; dst_h = box_h; } } imgobj.style.marginLeft = (box_w - dst_w) / 2 + \"px\"; imgobj.style.marginTop = (box_h - dst_h) / 2 + \"px\"; imgobj.style.width = dst_w + \"px\"; imgobj.style.height = dst_h + \"px\"; imgobj.style.opacity = 1; } (function(_w, _d) { var ha = _d.head || _d.getElementsByTagName(\"head\")[0]; var $scope = {}; var current; var tmnow; var chId; var homePageUrl, homePageName; var scs = document.getElementsByTagName(\"script\"); if (location.href.indexOf(\"fm.qq.com\") > -1 || location.href.indexOf(\"fm.qzone.qq.com\") > -1) { homePageName = \"\\u8fd4\\u56de\\u4f01\\u9e45FM\"; homePageUrl = \"http://fm.qq.com\"; } else { if (location.href.indexOf(\"qzone.qq.com\") > -1) { homePageName = \"\\u8fd4\\u56de\\u6211\\u7684\\u7a7a\\u95f4\"; homePageUrl = \"http://qzone.qq.com\"; } else { homePageName = \"\\u8fd4\\u56de\\u817e\\u8baf\\u7f51\"; homePageUrl = \"http://www.qq.com\"; } } for (var i = 0;i < scs.length;i++) { if (scs[i].src.indexOf(\"404/search_children.js\") > -1) { if (scs[i].getAttribute(\"homePageUrl\")) { homePageUrl = scs[i].getAttribute(\"homePageUrl\"); } if (scs[i].getAttribute(\"homePageName\")) { homePageName = scs[i].getAttribute(\"homePageName\"); } break; } } $scope.rettext = homePageName; $scope.retlink = homePageUrl; function getData(srcUrl, callback) { var sc = _d.createElement(\"script\"); function orc() { if (sc.readyState === \"loaded\") { setTimeout(function() { callback && callback(); }, 0); } } if (sc.addEventListener) { if (callback) { sc.addEventListener(\"load\", callback, false); } } else { sc.attachEvent(\"onreadystatechange\", orc); } ha && ha.appendChild(sc); sc.src = srcUrl; } function resolveData(d) { var tid, len, ddata = [], tdata; if (\"object\" == typeof d && (d.data && (len = d.data.length))) { for (var i = 0;i < len;i++) { var expire = d.data[i].expire; d.data[i]._id = new Date * Math.random() * Math.random() * 1E7; if (expire && tmnow * 1E3 < Date.parse(expire.replace(/\\s[\\s\\S]*$/, \"\").replace(/\\-/g, \"/\"))) { var _c = d.data[i].city, _p = d.data[i].province; if (_c && city) { if ((\"_\" + _c + \"_\").indexOf(\"_\" + city + \"_\") > -1) { ddata.push(d.data[i]); continue; } } if (_p && province) { if ((\"_\" + _p + \"_\").indexOf(\"_\" + province + \"_\") > -1) { ddata.push(d.data[i]); } } } } tid = Math.floor(Math.random() * (ddata.length || len)); tdata = (ddata.length ? ddata : d.data)[chId = tid]; if (_w.foundjsondata) { tdata.ta = tdata.sex.indexOf(\"\\u5973\") > -1 ? \"\\u5979\" : \"\\u4ed6\"; tdata.name = \"\\u201c7\\u00b718\\u7279\\u5927\\u62d0\\u5356\\u5a74\\u513f\\u6848\\u201d\\u544a\\u7834\\uff0c\\u88ab\\u89e3\\u6551\\u768415\\u540d\\u5b69\\u5b50\\u4e2d\\uff0c2\\u4eba\\u7531\\u4eb2\\u751f\\u7236\\u6bcd\\u9886\\u56de\\uff0c\\u4ecd\\u670913\\u540d\\u5b69\\u5b50\\u672a\\u627e\\u5230\\u4eb2\\u751f\\u7236\\u6bcd\\uff0c\\u88ab\\u5b89\\u7f6e\\u5728\\u60e0\\u5dde\\u5e02\\u793e\\u4f1a\\u798f\\u5229\\u9662\\uff0c\" + tdata.ta + \"\\u662f\\u5176\\u4e2d\\u4e4b\\u4e00\\u3002\"; tdata.url = tdata.url.replace(/#p=(\\d{1,2})/, function(a, n) { return \"#p=\" + (+n + 1); }); return format(tmpl2, tdata); } if (!tdata.ext1) { tdata.ext1 = \"\\u4f46\\u6211\\u4eec\\u53ef\\u4ee5\\u4e00\\u8d77\\u5bfb\\u627e\\u5931\\u8e2a\\u5b9d\\u8d1d\"; } return tdata; } } function setTopData(tdata) { current = tdata; $scope.topname = tdata.name; $scope.topgender = tdata.sex; $scope.topbirth = tdata.birth_time; $scope.toplostdate = tdata.lost_time; $scope.toplostplace = tdata.lost_place; $scope.toplostdesc = tdata.child_feature; $scope.toplink = tdata.url; $scope.topimg = tdata.child_pic; $scope.topid = tdata._id; document.body.innerHTML = template(\"body\", $scope); } function init(data) { tmnow = data.tm_now * 1E3; var tdata = resolveData(jsondata); $scope.whichin = 0; jsondata.data.splice(chId, 1); $scope.otherdata = [tdata].concat(jsondata.data.slice(0, 5)); setTopData(tdata); } var timeout; window._Callback = function(d) { clearTimeout(timeout); init(d); }; timeout = setTimeout(function() { _Callback({tm_now:(new Date).getTime() / 1E3}); }, 2E3); _w.share = function(target) { var summary = [\"\\u80cc\\u666f\\uff1a\", current.name, \"\\uff0c\\u6027\\u522b\\uff1a\", current.sex, \"\\uff0c\\u51fa\\u751f\\u65f6\\u95f4\\uff1a\", current.birth_time, \"\\uff0c\\u5931\\u8e2a\\u65f6\\u95f4\\uff1a\", current.lost_time, \"\\uff0c\\u7279\\u5f81\\u63cf\\u8ff0\\uff1a\", current.child_feature].join(\"\"); if (summary) { summary = \"#\\u5bfb\\u627e\\u5931\\u8e2a\\u7684\\u5b9d\\u8d1d#\" + summary; } var stitle = \"\\u5931\\u8e2a\\u7684\\u5b9d\\u8d1d\\u8be6\\u60c5\"; var desc = \"\\u5931\\u8e2a\\u7684\\u5b9d\\u8d1d\\u8981\\u56de\\u5bb6\\uff0c\\u5feb\\u6765\\u53c2\\u4e0e\\u7231\\u5fc3\\u7684\\u4f20\\u9012\\u5427\\uff01\"; var encode = encodeURIComponent; var opts = {\"surl\":\"http://qzone.qq.com/gy/404/\" + current.id + \"/lostchild.html\", \"site\":\"QQ\\u7a7a\\u95f4\", \"summary\":summary || \"#\\u5b9d\\u8d1d\\u56de\\u5bb6#\\u817e\\u8baf\\u5fd7\\u613f\\u8005\\u7528\\u6280\\u672f\\u70b9\\u4eae\\u516c\\u76ca\\uff0c\\u8ba9\\u6211\\u4eec\\u4e00\\u8d77\\u5bfb\\u627e\\u8d70\\u5931\\u7684\\u513f\\u7ae5\\u5427\\uff01\", \"stitle\":stitle, \"pics\":current.child_pic, \"desc\":desc, \"origin_url\":current.url}; var surl = opts.surl || \"http://www.qq.com/404/\", summary = opts.summary || \"\\u8fd9\\u4e2a\\u662f\\u5206\\u4eab\\u7684\\u5185\\u5bb9\", stitle = opts.stitle || \"\\u8fd9\\u4e2a\\u662f\\u5206\\u4eab\\u7684\\u6807\\u9898\", pics = opts.pics || \"http://qzonestyle.gtimg.cn/qzone_v6/act/img/20120422_qzone_7_years/pop_up/icon-pop-seven-years.png\", site = opts.site || \"\\u8fd9\\u4e2a\\u662f\\u5206\\u4eab\\u94fe\\u63a5\\u7684\\u6587\\u5b57\", desc = opts.desc || \"\\u5931\\u8e2a\\u7684\\u5b9d\\u8d1d\\u8981\\u56de\\u5bb6\\uff0c\\u5feb\\u6765\\u53c2\\u4e0e\\u7231\\u5fc3\\u7684\\u4f20\\u9012\\u5427\\uff01\", origin_url = opts.origin_url || \"http://www.qq.com/404/\"; var shareList = {weibo:{method:function(evt) { var w = \"http://v.t.qq.com/share/share.php\", q = [\"?site=\", encode(surl + \"#via=share_t_weib\"), \"&title=\", encode(summary), \"&pic=\", encode(pics), \"&url=\", encode(surl)].join(\"\"), p = [w, q].join(\"\"); openit(p, \"weibo\", \"width=700, height=680, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no\"); }}, qzone:{method:function(evt) { var buff = [], ps = {url:surl + \"#via=404-qzoneshare\", desc:desc || \"\\u5931\\u8e2a\\u7684\\u5b9d\\u8d1d\\u8981\\u56de\\u5bb6\\uff0c\\u5feb\\u6765\\u53c2\\u4e0e\\u7231\\u5fc3\\u7684\\u4f20\\u9012\\u5427\\uff01\", summary:summary, title:stitle, pics:pics, site:site}; for (var k in ps) { buff.push(k + \"=\" + encode(ps[k] || \"\")); } var w = \"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?\" + buff.join(\"&\"), q = [\"#via=share_t_qzone\", \"&title=\", encode(summary), \"&pic=\", encode(pics), \"&url=\", encode(surl)].join(\"\"), p = [w, q].join(\"\"); openit(p, \"qzone\", \"width=700, height=680, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no\"); }}, sina:{method:function() { var w = \"http://v.t.sina.com.cn/share/share.php\", q = [\"?url=\", encode(surl + \"#via=share_x_weib\"), \"&title=\", encode(summary), \"&source=\", \"&sourceUrl=\", surl, \"&content=utf-8\", \"&pic=\", encode(pics)].join(\"\"), p = [w, q].join(\"\"); openit(p, \"sina\", \"toolbar=0,status=0,resizable=1,width=440,height=430\"); }}, kaixin:{method:function() { var n = \"http://www.kaixin001.com/repaste/bshare.php?rurl=\" + encode(surl + \"#via=share_kaixin\") + \"&rcontent=&rtitle=\" + encode(summary); openit(n, \"kaixin\", \"toolbar=0,status=0,resizable=1,width=600,height=360\"); }}, renren:{method:function() { var n = \"http://www.connect.renren.com/share/sharer?title=\" + encode(summary) + \"&url=\" + encode(surl + \"#via=share_renren\"), p = window.open(n, \"rr\", \"toolbar=0,status=0,resizable=1,width=510,height=300\"); if (p) { p.focus(); } }}, weixin:{method:function() { var n = \"http://qzone.qq.com/gy/404/page/qrcode.html?url=\" + encode(origin_url + \"#via=share_weixin\"), p = window.open(n, \"rr\", \"toolbar=0,status=0,resizable=1,width=620,height=430\"); if (p) { p.focus(); } }}}; var openit = function(u, n, p) { function o() { var z; if (!(z = window.open(u, n, p))) { location.href = u; } else { z.focus(); } } o(); }; shareList[target] && shareList[target].method(); }; _w.toThis = function(id) { for (var i = 0;i < $scope.otherdata.length;i++) { if ($scope.otherdata[i]._id == id) { setTopData($scope.otherdata[i]); break; } } return false; }; var meta = document.createElement(\"meta\"); meta.name = \"viewport\"; meta.content = \"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\"; ha.appendChild(meta); (function registerStyle() { var link = document.createElement(\"link\"); link.rel = \"stylesheet\"; link.type = \"text/css\"; link.href = \"https://qzone.qq.com/gy/404/style/404style.css\"; ha.appendChild(link); })(); (function initStat() { var qqDomainNameRE = /\\.qq\\.com$/i, qzoneDomainNameRE = /\\bqzone\\.qq\\.com$/i, qzsDomainNameRE = /\\bqzonestyle\\.gtimg\\.cn$/i; function cb() { var url = location.host; var src = \"\"; if (qzoneDomainNameRE.test(url)) { src = \"new404.qzone\"; } else { if (qqDomainNameRE.test(url)) { src = \"new404.qq\"; } else { if (qzsDomainNameRE.test(url)) { src = \"new404.qzonestyle\"; } else { src = url.replace(\".\", \"_\"); } } } _w.TCISD && (_w.TCISD.pv && _w.TCISD.pv(\"hat.qzone.qq.com\", \"/gy/lostchild/\" + src)); } getData(\"https://qzonestyle.gtimg.cn/ac/qzfl/stat.js\", cb); })(); })(window, document); !function() { function a(a, b) { return(/string|function/.test(typeof b) ? h : g)(a, b); } function b(a, c) { return \"string\" != typeof a && (c = typeof a, \"number\" === c ? a += \"\" : a = \"function\" === c ? b(a.call(a)) : \"\"), a; } function c(a) { return l[a]; } function d(a) { return b(a).replace(/&(?![\\w#]+;)|[\"']/g, c); } function e(a, b) { if (m(a)) { for (var c = 0, d = a.length;d > c;c++) { b.call(a, a[c], c, a); } } else { for (c in a) { b.call(a, a[c], c); } } } function f(a, b) { var c = /(\\/)[^/]+\\1\\.\\.\\1/, d = (\"./\" + a).replace(/[^/]+$/, \"\"), e = d + b; for (e = e.replace(/\\/\\.\\//g, \"/\");e.match(c);) { e = e.replace(c, \"/\"); } return e; } function g(b, c) { var d = a.get(b) || i({filename:b, name:\"Render Error\", message:\"Template not found\"}); return c ? d(c) : d; } function h(a, b) { if (\"string\" == typeof b) { var c = b; b = function() { return new k(c); }; } var d = j[a] = function(c) { try { return new b(c, a) + \"\"; } catch (d) { return i(d)(); } }; return d.prototype = b.prototype = n, d.toString = function() { return b + \"\"; }, d; } function i(a) { var b = \"{Template Error}\", c = a.stack || \"\"; if (c) { c = c.split(\"\\n\").slice(0, 2).join(\"\\n\"); } else { for (var d in a) { c += \"\\n\" + a[d] + \"\\n\\n\"; } } return function() { return \"object\" == typeof console && console.error(b + \"\\n\\n\" + c), b; }; } var j = a.cache = {}, k = this.String, l = {\"\":\"&#62;\", '\"':\"&#34;\", \"'\":\"&#39;\", \"&\":\"&#38;\"}, m = Array.isArray || function(a) { return \"[object Array]\" === {}.toString.call(a); }, n = a.utils = {$helpers:{}, $include:function(a, b, c) { return a = f(c, a), g(a, b); }, $string:b, $escape:d, $each:e}, o = a.helpers = n.$helpers; a.get = function(a) { return j[a.replace(/^\\.\\//, \"\")]; }, a.helper = function(a, b) { o[a] = b; }, \"function\" == typeof define ? define(function() { return a; }) : \"undefined\" != typeof exports ? module.exports = a : this.template = a, a(\"body\", function(a) { var b = this, c = (b.$helpers, b.$escape), d = a.retlink, e = a.rettext, f = a.topid, g = a.topimg, h = a.topname, i = a.topgender, j = a.topbirth, l = a.toplostdate, m = a.toplostplace, n = a.toplostdesc, o = a.toplink, p = b.$each, q = a.otherdata, r = (a.otheritem, a.index, \"\"); return r += ' 404\\uff0c\\u60a8\\u8bbf\\u95ee\\u7684\\u9875\\u9762\\u627e\\u4e0d\\u56de\\u6765\\u4e86\\uff0c\\u4f46\\u6211\\u4eec\\u53ef\\u4ee5\\u4e00\\u8d77\\u5e2e\\u4ed6\\u4eec\\u56de\\u5bb6\\uff01 ', r += c(e), r += ' ', r += c(h), r += '(', r += c(i), r += ') \\u51fa\\u751f\\u65e5\\u671f\\uff1a', r += c(j), r += ' \\u5931\\u8e2a\\u65f6\\u95f4\\uff1a', r += c(l), r += ' \\u5931\\u8e2a\\u5730\\u70b9\\uff1a', r += c(m), r += ' \\u5931\\u8e2a\\u4eba\\u7279\\u5f81\\u63cf\\u8ff0\\uff1a', r += c(n), r += ' \\u67e5\\u770b\\u8be6\\u60c5 \\u5206\\u4eab \\u817e\\u8baf\\u5fae\\u535a QQ\\u7a7a\\u95f4 \\u65b0\\u6d6a\\u5fae\\u535a \\u5fae\\u4fe1 ', p(q, function(a) { r += ' '; }), r += \" \", new k(r); }); }(); L2Dwidget.init({\"pluginRootPath\":\"live2dw/\",\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"tagMode\":false,\"log\":false,\"model\":{\"jsonPath\":\"/live2dw/assets/hibiki.model.json\"},\"display\":{\"position\":\"left\",\"width\":150,\"height\":300},\"mobile\":{\"show\":true},\"react\":{\"opacity\":0.7}});"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2020-06-06T07:48:46.196Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"categories/index.html","permalink":"https://www.kming6.com/categories/index.html","excerpt":"","text":""},{"title":"ç»™æˆ‘ç•™è¨€","date":"2020-06-06T07:48:46.196Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"comments/index.html","permalink":"https://www.kming6.com/comments/index.html","excerpt":"","text":"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; é‡‡ç”¨ Valine è¯„è®ºç³»ç»Ÿï¼Œè¯·å¡«å†™çœŸå®é‚®ç®±ï¼Œå¦åˆ™æ”¶ä¸åˆ°é€šçŸ¥å“¦ï¼Œè¯·å°½æƒ…çŒæ°´å§ï¼ğŸ˜‰ æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤ ğŸ  å…³äºæœ¬ç«™ æœ¬ç«™å®šä½ä¸ºæŠ€æœ¯åšå®¢ç«™ï¼Œåšå®¢å†…å®¹ä¸»è¦æ¶‰åŠç¼–ç¨‹è¯­è¨€Javaã€JSã€SQLã€Webç­‰æŠ€æœ¯åˆ†äº«ã€‚ æœ¬åšå®¢æ˜¯ä½¿ç”¨Hexoåˆ›å»ºçš„é™æ€å“åº”å¼åšå®¢ã€‚ç½‘ç«™å†…å®¹ä¸å®šæœŸæ›´æ–°ã€‚å¦‚æœå†…å®¹æœ‰æ‰€ä¸å¯¹ï¼Œæˆ–ä½ è§‰å¾—ä¸å¥½çš„åœ°æ–¹ï¼Œæ¬¢è¿ç•™è¨€æŒ‡å‡ºã€‚ æœ¬ç«™å±äºä¸ªäººéèµ¢åˆ©æ€§è´¨çš„ç½‘ç«™ï¼Œæ‰€æœ‰è½¬è½½çš„æ–‡ç« éƒ½ä»¥éµå¾ªåŸä½œè€…çš„ç‰ˆæƒå£°æ˜æ³¨æ˜äº†æ–‡ç« æ¥æºã€‚ å¦‚æœåŸæ–‡æ²¡æœ‰ç‰ˆæƒå£°æ˜ï¼ŒæŒ‰ç…§ç›®å‰äº’è”ç½‘å¼€æ”¾çš„åŸåˆ™ï¼Œæœ¬ç½‘ç«™å°†åœ¨ä¸é€šçŸ¥ä½œè€…çš„æƒ…å†µä¸‹è½¬è½½æ–‡ç« ã€‚ å¦‚æœåŸæ–‡æ˜ç¡®æ³¨æ˜â€œç¦æ­¢è½¬è½½â€ï¼Œæœ¬ç½‘ç«™å°†ä¸ä¼šè½¬è½½ã€‚ å¦‚æœæœ¬ç½‘ç«™è½¬è½½çš„æ–‡ç« ä¸ç¬¦åˆä½œè€…çš„ç‰ˆæƒå£°æ˜æˆ–è€…ä½œè€…ä¸æƒ³è®©æœ¬ç½‘ç«™è½¬è½½æ‚¨çš„æ–‡ç« ï¼Œè¯·é‚®ä»¶å‘ŠçŸ¥ï¼Œæœ¬ç«™å°†ä¼šåœ¨ç¬¬ä¸€æ—¶é—´åˆ é™¤ç›¸å…³ä¿¡æ¯ï¼ æœ¬ç«™è½¬è½½æ–‡ç« ä»…ä¸ºç•™ä½œå¤‡ä»½å’ŒçŸ¥è¯†ç‚¹åˆ†äº«çš„ç›®çš„ã€‚ æœ¬ç«™å°†å°½åŠ›ç¡®ä¿æ‰€æä¾›ä¿¡æ¯çš„å‡†ç¡®æ€§åŠå¯é æ€§ï¼Œä½†ä¸ä¿è¯ä¿¡æ¯çš„æ­£ç¡®æ€§å’Œå®Œæ•´æ€§ï¼Œä¸”ä¸å¯¹å› ä¿¡æ¯çš„ä¸æ­£ç¡®æˆ–é—æ¼å¯¼è‡´çš„ä»»ä½•æŸå¤±æˆ–æŸå®³æ‰¿æ‹…ç›¸å…³è´£ä»»ã€‚ æœ¬ç«™æ‰€å‘å¸ƒã€è½¬è½½çš„æ–‡ç« ï¼Œå…¶ç‰ˆæƒå‡å½’åŸä½œè€…æ‰€æœ‰ã€‚å¦‚å…¶ä»–è‡ªåª’ä½“ã€ç½‘ç«™æˆ–ä¸ªäººä»æœ¬ç½‘ç«™ä¸‹è½½ä½¿ç”¨ï¼Œè¯·åœ¨è½¬è½½æœ‰å…³æ–‡ç« æ—¶åŠ¡å¿…å°Šé‡è¯¥æ–‡ç« çš„è‘—ä½œæƒï¼Œä¿ç•™æœ¬ç½‘ç«™æ³¨æ˜çš„â€œåŸæ–‡æ¥æºâ€æˆ–è€…è‡ªè¡Œå»åŸæ–‡å¤„å¤åˆ¶ç‰ˆæƒå£°æ˜ï¼Œå¹¶è‡ªè´Ÿç‰ˆæƒç­‰æ³•å¾‹è´£ä»»ã€‚ æœ¬ç«™çš„æ‰€æœ‰åŸåˆ›æ–‡ç« çš†å¯ä»¥ä»»æ„è½¬è½½ï¼Œä½†è½¬è½½æ—¶åŠ¡å¿…è¯·æ³¨æ˜å‡ºå¤„ã€‚ å°Šé‡åŸåˆ›ï¼Œæ‹¥æŠ±å¼€æºï¼ ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°åšä¸»å¾ˆæ‡’ï¼Œè¿˜æ²¡æƒ³å¥½è¯´äº›ä»€ä¹ˆ â›¹ å…´è¶£çˆ±å¥½å¶å°”æ‰“æ‰“æ¸¸æˆï¼Œçœ‹çœ‹ç”µå½± ğŸ“¬ è”ç³»æˆ‘å‘€ æ·»åŠ å¥½å‹è¯·è¯´æ˜æ¥æ„ æ¬¢è¿çŒæ°´"},{"title":"æˆ‘çš„å‹é“¾","date":"2019-09-21T18:52:29.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"friends/index.html","permalink":"https://www.kming6.com/friends/index.html","excerpt":"","text":"å„ä½å¤§ä½¬æƒ³äº¤æ¢å‹é“¾çš„è¯å¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼Œå¿…é¡»è¦æœ‰åç§°ã€å¤´åƒé“¾æ¥ã€å’Œè‡³å°‘ä¸€ä¸ªæ ‡ç­¾å“¦ï½ åç§°ï¼š Kmingâ€™ Blogå¤´åƒï¼š https://cdn.jsdelivr.net/gh/liucm-it/ImgHosting/pic/avatar-pigImg.jpgç½‘å€ï¼š https://www.kming6.comæ ‡ç­¾ï¼š Javaã€Webå‰ç«¯ åˆ†ç»„å’Œæ ‡ç­¾ä¸åˆé€‚çš„è¯å¯ä»¥ç•™è¨€æˆ–è€…å‘é‚®ä»¶ç§èŠæˆ‘è¿›è¡Œæ›´æ”¹ã€‚"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2020-06-06T07:48:46.196Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"tags/index.html","permalink":"https://www.kming6.com/tags/index.html","excerpt":"","text":""},{"title":"","date":"2020-06-06T07:48:46.196Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"about/index.html","permalink":"https://www.kming6.com/about/index.html","excerpt":"","text":"Kming's Blog | About document.onkeydown = function () { if (window.event && window.event.keyCode == 123) { event.keyCode = 0; event.returnValue = false; return false; } }; æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒaudioæ ‡ç­¾ï¼Œæ— æ³•æ’­æ”¾éŸ³ä¹ï¼ æ±Ÿæ¹–åç§°ï¼šKming Liu å¸¸é©»ä¹‹åœ°ï¼šä¸­å›½ | ä¸Šæµ· åˆåº¦ä¹‹è¾°ï¼š90å å…´è¶£çˆ±å¥½ï¼šç¼–ç¨‹ | ä¹’ä¹“çƒ | æ¸¸æˆ æŠ€èƒ½ç®€ä»‹ | Skill HTML/CSS/JS 85% JAVA 90% PHP 60% VUE 80% GIT 90% SVN 80% Hexo 80% ä¸ªäººç®€ä»‹ | Introduction â— å­¦å†ï¼šæœ¬ç§‘ï¼› â— ç°å†µï¼šJavaåç«¯ã€Webå‰ç«¯å¼€å‘ï¼› â— ç›®æ ‡ï¼šJavaåç«¯ or å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼› â— åšå®¢ï¼šè®°å½•å­¦ä¹ è¿‡ç¨‹ï¼Œåšç§¯æ‰èƒ½è–„å‘ï¼› â— å…´è¶£ï¼šå…´è¶£æ˜¯æœ€å¥½çš„è€å¸ˆï¼› â— å…¶ä»–ï¼šè™½ç„¶å¾ˆèœï¼Œä½†æ˜¯æ­£åœ¨åŠªåŠ›å­¦ä¹ ä¸­ï¼ è”ç³»æˆ‘ | Contact me Copyright Â© 2020 Kming's Blog. All rights reserved. if ('addEventListener' in window) { window.addEventListener('load', function () { document.body.className = document.body.className.replace(/\\bis-loading\\b/, ''); }); document.body.className += (navigator.userAgent.match(/(MSIE|rv:11\\.0)/) ? ' is-ie' : ''); } uniform mat4 uProjection; uniform mat4 uModelview; uniform vec3 uResolution; uniform vec3 uOffset; uniform vec3 uDOF; //x:focus distance, y:focus radius, z:max radius uniform vec3 uFade; //x:start distance, y:half distance, z:near fade start attribute vec3 aPosition; attribute vec3 aEuler; attribute vec2 aMisc; //x:size, y:fade varying vec3 pposition; varying float psize; varying float palpha; varying float pdist; //varying mat3 rotMat; varying vec3 normX; varying vec3 normY; varying vec3 normZ; varying vec3 normal; varying float diffuse; varying float specular; varying float rstop; varying float distancefade; void main(void) { // Projection is based on vertical angle vec4 pos = uModelview * vec4(aPosition + uOffset, 1.0); gl_Position = uProjection * pos; gl_PointSize = aMisc.x * uProjection[1][1] / -pos.z * uResolution.y * 0.5; pposition = pos.xyz; psize = aMisc.x; pdist = length(pos.xyz); palpha = smoothstep(0.0, 1.0, (pdist - 0.1) / uFade.z); vec3 elrsn = sin(aEuler); vec3 elrcs = cos(aEuler); mat3 rotx = mat3( 1.0, 0.0, 0.0, 0.0, elrcs.x, elrsn.x, 0.0, -elrsn.x, elrcs.x ); mat3 roty = mat3( elrcs.y, 0.0, -elrsn.y, 0.0, 1.0, 0.0, elrsn.y, 0.0, elrcs.y ); mat3 rotz = mat3( elrcs.z, elrsn.z, 0.0, -elrsn.z, elrcs.z, 0.0, 0.0, 0.0, 1.0 ); mat3 rotmat = rotx * roty * rotz; normal = rotmat[2]; mat3 trrotm = mat3( rotmat[0][0], rotmat[1][0], rotmat[2][0], rotmat[0][1], rotmat[1][1], rotmat[2][1], rotmat[0][2], rotmat[1][2], rotmat[2][2] ); normX = trrotm[0]; normY = trrotm[1]; normZ = trrotm[2]; const vec3 lit = vec3(0.6917144638660746, 0.6917144638660746, -0.20751433915982237); float tmpdfs = dot(lit, normal); if(tmpdfs < 0.0) { normal = -normal; tmpdfs = dot(lit, normal); } diffuse = 0.4 + tmpdfs; vec3 eyev = normalize(-pos.xyz); if(dot(eyev, normal) > 0.0) { vec3 hv = normalize(eyev + lit); specular = pow(max(dot(hv, normal), 0.0), 20.0); } else { specular = 0.0; } rstop = clamp((abs(pdist - uDOF.x) - uDOF.y) / uDOF.z, 0.0, 1.0); rstop = pow(rstop, 0.5); //-0.69315 = ln(0.5) distancefade = min(1.0, exp((uFade.x - pdist) * 0.69315 / uFade.y)); } #ifdef GL_ES //precision mediump float; precision highp float; #endif uniform vec3 uDOF; //x:focus distance, y:focus radius, z:max radius uniform vec3 uFade; //x:start distance, y:half distance, z:near fade start const vec3 fadeCol = vec3(0.08, 0.03, 0.06); varying vec3 pposition; varying float psize; varying float palpha; varying float pdist; //varying mat3 rotMat; varying vec3 normX; varying vec3 normY; varying vec3 normZ; varying vec3 normal; varying float diffuse; varying float specular; varying float rstop; varying float distancefade; float ellipse(vec2 p, vec2 o, vec2 r) { vec2 lp = (p - o) / r; return length(lp) - 1.0; } void main(void) { vec3 p = vec3(gl_PointCoord - vec2(0.5, 0.5), 0.0) * 2.0; vec3 d = vec3(0.0, 0.0, -1.0); float nd = normZ.z; //dot(-normZ, d); if(abs(nd) < 0.0001) discard; float np = dot(normZ, p); vec3 tp = p + d * np / nd; vec2 coord = vec2(dot(normX, tp), dot(normY, tp)); //angle = 15 degree const float flwrsn = 0.258819045102521; const float flwrcs = 0.965925826289068; mat2 flwrm = mat2(flwrcs, -flwrsn, flwrsn, flwrcs); vec2 flwrp = vec2(abs(coord.x), coord.y) * flwrm; float r; if(flwrp.x < 0.0) { r = ellipse(flwrp, vec2(0.065, 0.024) * 0.5, vec2(0.36, 0.96) * 0.5); } else { r = ellipse(flwrp, vec2(0.065, 0.024) * 0.5, vec2(0.58, 0.96) * 0.5); } if(r > rstop) discard; vec3 col = mix(vec3(1.0, 0.8, 0.75), vec3(1.0, 0.9, 0.87), r); float grady = mix(0.0, 1.0, pow(coord.y * 0.5 + 0.5, 0.35)); col *= vec3(1.0, grady, grady); col *= mix(0.8, 1.0, pow(abs(coord.x), 0.3)); col = col * diffuse + specular; col = mix(fadeCol, col, distancefade); float alpha = (rstop > 0.001)? (0.5 - r / (rstop * 2.0)) : 1.0; alpha = smoothstep(0.0, 1.0, alpha) * palpha; gl_FragColor = vec4(col * 0.5, alpha); } uniform vec3 uResolution; attribute vec2 aPosition; varying vec2 texCoord; varying vec2 screenCoord; void main(void) { gl_Position = vec4(aPosition, 0.0, 1.0); texCoord = aPosition.xy * 0.5 + vec2(0.5, 0.5); screenCoord = aPosition.xy * vec2(uResolution.z, 1.0); } #ifdef GL_ES //precision mediump float; precision highp float; #endif uniform vec2 uTimes; varying vec2 texCoord; varying vec2 screenCoord; void main(void) { vec3 col; float c; vec2 tmpv = texCoord * vec2(0.8, 1.0) - vec2(0.95, 1.0); c = exp(-pow(length(tmpv) * 1.8, 2.0)); col = mix(vec3(0.02, 0.0, 0.03), vec3(0.96, 0.98, 1.0) * 1.5, c); gl_FragColor = vec4(col * 0.5, 1.0); } #ifdef GL_ES //precision mediump float; precision highp float; #endif uniform sampler2D uSrc; uniform vec2 uDelta; varying vec2 texCoord; varying vec2 screenCoord; void main(void) { vec4 col = texture2D(uSrc, texCoord); gl_FragColor = vec4(col.rgb * 2.0 - vec3(0.5), 1.0); } #ifdef GL_ES //precision mediump float; precision highp float; #endif uniform sampler2D uSrc; uniform vec2 uDelta; uniform vec4 uBlurDir; //dir(x, y), stride(z, w) varying vec2 texCoord; varying vec2 screenCoord; void main(void) { vec4 col = texture2D(uSrc, texCoord); col = col + texture2D(uSrc, texCoord + uBlurDir.xy * uDelta); col = col + texture2D(uSrc, texCoord - uBlurDir.xy * uDelta); col = col + texture2D(uSrc, texCoord + (uBlurDir.xy + uBlurDir.zw) * uDelta); col = col + texture2D(uSrc, texCoord - (uBlurDir.xy + uBlurDir.zw) * uDelta); gl_FragColor = col / 5.0; } #ifdef GL_ES //precision mediump float; precision highp float; #endif uniform sampler2D uSrc; uniform vec2 uDelta; varying vec2 texCoord; varying vec2 screenCoord; void main(void) { gl_FragColor = texture2D(uSrc, texCoord); } uniform vec3 uResolution; attribute vec2 aPosition; varying vec2 texCoord; varying vec2 screenCoord; void main(void) { gl_Position = vec4(aPosition, 0.0, 1.0); texCoord = aPosition.xy * 0.5 + vec2(0.5, 0.5); screenCoord = aPosition.xy * vec2(uResolution.z, 1.0); } #ifdef GL_ES //precision mediump float; precision highp float; #endif uniform sampler2D uSrc; uniform sampler2D uBloom; uniform vec2 uDelta; varying vec2 texCoord; varying vec2 screenCoord; void main(void) { vec4 srccol = texture2D(uSrc, texCoord) * 2.0; vec4 bloomcol = texture2D(uBloom, texCoord); vec4 col; col = srccol + bloomcol * (vec4(1.0) + srccol); col *= smoothstep(1.0, 0.0, pow(length((texCoord - vec2(0.5)) * 2.0), 1.2) * 0.5); col = pow(col, vec4(0.45454545454545)); //(1.0 / 2.2) gl_FragColor = vec4(col.rgb, 1.0); gl_FragColor.a = 1.0; } L2Dwidget.init({\"pluginRootPath\":\"live2dw/\",\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"tagMode\":false,\"log\":false,\"model\":{\"jsonPath\":\"/live2dw/assets/hibiki.model.json\"},\"display\":{\"position\":\"left\",\"width\":150,\"height\":300},\"mobile\":{\"show\":true},\"react\":{\"opacity\":0.7}});"}],"posts":[{"title":"Mavençš„scopeéƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","slug":"Mavençš„scopeéƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","date":"2020-05-25T20:47:29.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/44361/","link":"","permalink":"https://www.kming6.com/posts/44361/","excerpt":"scopeå…ƒç´ çš„ä½œç”¨ï¼šæ§åˆ¶ dependency å…ƒç´ çš„ä½¿ç”¨èŒƒå›´ã€‚é€šä¿—æ¥è¯´ï¼Œå°±æ˜¯æ§åˆ¶ Jar åŒ…åœ¨å“ªäº›èŒƒå›´è¢«åŠ è½½å’Œä½¿ç”¨ã€‚","text":"scopeå…ƒç´ çš„ä½œç”¨ï¼šæ§åˆ¶ dependency å…ƒç´ çš„ä½¿ç”¨èŒƒå›´ã€‚é€šä¿—æ¥è¯´ï¼Œå°±æ˜¯æ§åˆ¶ Jar åŒ…åœ¨å“ªäº›èŒƒå›´è¢«åŠ è½½å’Œä½¿ç”¨ã€‚ compileå«ä¹‰ï¼šcompileä¸ºé»˜è®¤å€¼ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®š scope å€¼ï¼Œè¯¥å…ƒç´ çš„é»˜è®¤å€¼ä¸º compileã€‚è¢«ä¾èµ–é¡¹ç›®éœ€è¦å‚ä¸åˆ°å½“å‰é¡¹ç›®çš„ç¼–è¯‘ï¼Œæµ‹è¯•ï¼Œæ‰“åŒ…ï¼Œè¿è¡Œç­‰é˜¶æ®µã€‚æ‰“åŒ…çš„æ—¶å€™é€šå¸¸ä¼šåŒ…å«è¢«ä¾èµ–é¡¹ç›®ã€‚ providedå«ä¹‰ï¼šè¢«ä¾èµ–é¡¹ç›®ç†è®ºä¸Šå¯ä»¥å‚ä¸ç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œç­‰é˜¶æ®µï¼Œç›¸å½“äºcompileï¼Œä½†æ˜¯å†æ‰“åŒ…é˜¶æ®µåšäº†excludeçš„åŠ¨ä½œã€‚é€‚ç”¨åœºæ™¯ï¼šä¾‹å¦‚ï¼Œ å¦‚æœæˆ‘ä»¬åœ¨å¼€å‘ä¸€ä¸ªweb åº”ç”¨ï¼Œåœ¨ç¼–è¯‘æ—¶æˆ‘ä»¬éœ€è¦ä¾èµ– servlet-api.jarï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶æˆ‘ä»¬ä¸éœ€è¦è¯¥ jar åŒ…ï¼Œå› ä¸ºè¿™ä¸ª jar åŒ…å·²ç”±åº”ç”¨æœåŠ¡å™¨æä¾›ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦ä½¿ç”¨ provided è¿›è¡ŒèŒƒå›´ä¿®é¥°ã€‚ runtimeå«ä¹‰ï¼šè¡¨ç¤ºè¢«ä¾èµ–é¡¹ç›®æ— éœ€å‚ä¸é¡¹ç›®çš„ç¼–è¯‘ï¼Œä½†æ˜¯ä¼šå‚ä¸åˆ°é¡¹ç›®çš„æµ‹è¯•å’Œè¿è¡Œã€‚ä¸compileç›¸æ¯”ï¼Œè¢«ä¾èµ–é¡¹ç›®æ— éœ€å‚ä¸é¡¹ç›®çš„ç¼–è¯‘ã€‚é€‚ç”¨åœºæ™¯ï¼šä¾‹å¦‚ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™æˆ‘ä»¬ä¸éœ€è¦ JDBC API çš„ jar åŒ…ï¼Œè€Œåœ¨è¿è¡Œçš„æ—¶å€™æˆ‘ä»¬æ‰éœ€è¦ JDBC é©±åŠ¨åŒ…ã€‚ testå«ä¹‰ï¼š è¡¨ç¤ºè¢«ä¾èµ–é¡¹ç›®ä»…ä»…å‚ä¸æµ‹è¯•ç›¸å…³çš„å·¥ä½œï¼ŒåŒ…æ‹¬æµ‹è¯•ä»£ç çš„ç¼–è¯‘ï¼Œæ‰§è¡Œã€‚é€‚ç”¨åœºæ™¯ï¼šä¾‹å¦‚ï¼ŒJunit æµ‹è¯•ã€‚ systemå«ä¹‰ï¼šsystem å…ƒç´ ä¸ provided å…ƒç´ ç±»ä¼¼ï¼Œä½†æ˜¯è¢«ä¾èµ–é¡¹ä¸ä¼šä» maven ä»“åº“ä¸­æŸ¥æ‰¾ï¼Œè€Œæ˜¯ä»æœ¬åœ°ç³»ç»Ÿä¸­è·å–ï¼ŒsystemPath å…ƒç´ ç”¨äºåˆ¶å®šæœ¬åœ°ç³»ç»Ÿä¸­ jar æ–‡ä»¶çš„è·¯å¾„ã€‚ æ¯”å¦‚ï¼š 1234567&lt;dependency&gt; &lt;groupId&gt;org.open&lt;/groupId&gt; &lt;artifactId&gt;open-core&lt;/artifactId&gt; &lt;version&gt;1.5&lt;/version&gt; &lt;scope&gt;system&lt;/scope&gt; &lt;systemPath&gt;$&#123;basedir&#125;/WEB-INF/lib/xxx.jar&lt;/systemPath&gt;&lt;/dependency&gt; importå®ƒåªä½¿ç”¨åœ¨ä¸­ï¼Œè¡¨ç¤ºä»å…¶å®ƒçš„pomä¸­å¯¼å…¥dependencyçš„é…ç½®ï¼Œä¾‹å¦‚ (Bé¡¹ç›®å¯¼å…¥Aé¡¹ç›®ä¸­çš„åŒ…é…ç½®)ï¼š springBooté¡¹ç›®ï¼Œå¸¸å¸¸ä¼šæœ‰å¦‚ä¸‹ä¾èµ–ï¼š 12345&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;&lt;/parent&gt; Mavençš„ç»§æ‰¿å’ŒJavaçš„ç»§æ‰¿ä¸€æ ·ï¼Œæ˜¯æ— æ³•å®ç°å¤šé‡ç»§æ‰¿çš„ï¼Œå¦‚æœ10ä¸ªã€20ä¸ªç”šè‡³æ›´å¤šæ¨¡å—ç»§æ‰¿è‡ªåŒä¸€ä¸ªæ¨¡å—ï¼Œé‚£ä¹ˆæŒ‰ç…§æˆ‘ä»¬ä¹‹å‰çš„åšæ³•ï¼Œè¿™ä¸ªçˆ¶æ¨¡å—çš„dependencyManagementä¼šåŒ…å«å¤§é‡çš„ä¾èµ–ã€‚å¦‚æœä½ æƒ³æŠŠè¿™äº›ä¾èµ–åˆ†ç±»ä»¥æ›´æ¸…æ™°çš„ç®¡ç†ï¼Œé‚£å°±ä¸å¯èƒ½äº†ï¼Œimport scopeä¾èµ–èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä½ å¯ä»¥æŠŠdependencyManagementæ”¾åˆ°å•ç‹¬çš„ä¸“é—¨ç”¨æ¥ç®¡ç†ä¾èµ–çš„pomä¸­ï¼Œç„¶ååœ¨éœ€è¦ä½¿ç”¨ä¾èµ–çš„æ¨¡å—ä¸­é€šè¿‡import scopeä¾èµ–ï¼Œå°±å¯ä»¥å¼•å…¥dependencyManagementã€‚ å¦‚ï¼š 123456789101112131415161718192021&lt;project&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.test.package&lt;/groupId&gt; &lt;artifactId&gt;commen-parent1&lt;/artifactId&gt; &lt;packaging&gt;pom&lt;/packaging&gt; &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactid&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.5.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactid&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.18&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt;&lt;/project&gt; å¯ä»¥é€šè¿‡éç»§æ‰¿çš„æ–¹å¼æ¥å¼•å…¥è¿™æ®µä¾èµ–ç®¡ç†é…ç½® 1234567891011121314151617181920&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.test.package&lt;/groupId&gt; &lt;artifactid&gt;commen-parent1&lt;/artifactId&gt; &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactid&gt;junit&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactid&gt;log4j&lt;/artifactId&gt;&lt;/dependency&gt; import scopeåªèƒ½ç”¨åœ¨dependencyManagementé‡Œé¢","categories":[{"name":"Java","slug":"Java","permalink":"https://www.kming6.com/categories/Java/"}],"tags":[{"name":"Maven","slug":"Maven","permalink":"https://www.kming6.com/tags/Maven/"}]},{"title":"Spring bootæ•´åˆDruidè¿æ¥æ± ","slug":"Spring-bootæ•´åˆDruidè¿æ¥æ± ","date":"2020-05-13T21:25:10.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"posts/15769/","link":"","permalink":"https://www.kming6.com/posts/15769/","excerpt":"druidæ˜¯é˜¿é‡Œå·´å·´å¼€æºã€javaè¯­è¨€çš„æ•°æ®åº“è¿æ¥æ± ï¼Œé™¤è¿æ¥æ± åŠŸèƒ½å¤–ï¼Œdruidè¿˜æä¾›äº†å¼ºå¤§çš„ç›‘æ§å’Œæ‰©å±•åŠŸèƒ½ã€‚å®˜æ–¹å·ç§°ä¸ºjavaè¯­è¨€æœ€å¥½çš„æ•°æ®åº“è¿æ¥æ± ã€‚","text":"druidæ˜¯é˜¿é‡Œå·´å·´å¼€æºã€javaè¯­è¨€çš„æ•°æ®åº“è¿æ¥æ± ï¼Œé™¤è¿æ¥æ± åŠŸèƒ½å¤–ï¼Œdruidè¿˜æä¾›äº†å¼ºå¤§çš„ç›‘æ§å’Œæ‰©å±•åŠŸèƒ½ã€‚å®˜æ–¹å·ç§°ä¸ºjavaè¯­è¨€æœ€å¥½çš„æ•°æ®åº“è¿æ¥æ± ã€‚ æ•°æ®åº“é…ç½®åœ¨spring-bootçš„é…ç½®æ–‡ä»¶application.ymlä¸­æ·»åŠ æ•°æ®åº“åŸºæœ¬é…ç½®ï¼š 1234567spring: datasource: druid: url: jdbc:postgresql://127.0.0.1:5432/activiti-demo username: louie password: louie1234 driver-class-name: org.postgresql.Driver ä»¥ä¸Šé…ç½®ä¸­spring.datasource.druid.xxxä¸ºdruidä¸ºspring-bootæä¾›çš„é…ç½®å±æ€§ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¸é€‚ç”¨å®ƒä»¬ï¼Œä½¿ç”¨spring-bootåŸæœ‰çš„é…ç½®å±æ€§ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ å¯åŠ¨æœåŠ¡æ‰§è¡ŒApplicationç±»å¯åŠ¨spring-bootï¼Œæµè§ˆå™¨è®¿é—®http://localhost:8080/druid/index.htmlæŸ¥çœ‹ç›‘æ§æ•ˆæœ: æ•°æ®åº“å¯†ç åŠ å¯†å°†æ•°æ®åº“å¯†ç ç›´æ¥å†™åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå®‰å…¨æ–¹é¢è€ƒè™‘æ˜¯å…·æœ‰é£é™©çš„ï¼Œdruidçš„configFilterå…·å¤‡æ•°æ®åº“å¯†ç åŠ å¯†åŠŸèƒ½ã€‚ å¯†ç åŠ å¯† cmdè¿›å…¥DruidjaråŒ…æ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå…¶ä¸­PASSWORDä¸ºæ‚¨æ•°æ®çš„å¯†ç  1java -cp druid-1.1.9.jar com.alibaba.druid.filter.config.ConfigTools PASSWORD è¾“å‡ºå¦‚ä¸‹ï¼Œå…¶ä¸­passwordå³ä¸ºåŠ å¯†åçš„å¯†ç ï¼ŒpublicKeyä¸ºåŠ å¯†çš„å…¬é’¥ï¼š 123privateKey:MIIBVQIBADANBgkqhkiG9w0BAQEFAASCAT8wggE7AgEAAkEAjhd6PlxyNExMYJsPuIXnvJIVIL77q1ZE+YcZDFMaCMcK3hznsx89NrobrFXaEoHyLWuzRsD2q9/7tpv3fn+3owIDAQABAkBNS6I5OEr7/iFyUAfORjGY2BLcPGhlfUmKQB61IKPB781xWit3FtFocqKGde6iuRBjMGtDKINFD5CqUYYuIK8hAiEAxQ1r03pi+uAqSrb75pieniJuN9fljLlomE5+UGVN3ZMCIQC4mRRs9YsW0i9QjybqvzD615eIv8c9eQjJG67Ot4uHsQIhAJdJcptuv0d1i4LJciTc0AsAzDY7n5WnU9J7kScQX/PZAiEApw450uVfizaJhSEXugduXwOuah4MRBB9p+o6h27JgfECIHrHqsV57OZh9m2f28j5/Ax5O4xUDy9STvkWR/zvHhu5publicKey:MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAI4Xej5ccjRMTGCbD7iF57ySFSC++6tWRPmHGQxTGgjHCt4c57MfPTa6G6xV2hKB8i1rs0bA9qvf+7ab935/t6MCAwEAAQ==password:TT0HLMKz6fPGiaih/F7r/s6zRonc9XiViRY5abqJSZTANPppXpxuMntcwuXqFEZH15v/qlE3UNnHx7pb9I3xWA== ä¿®æ”¹application.yml å¯†ç æ”¹ä¸ºåŠ å¯†åçš„å¯†ç  å¼€å¯druidçš„configFilter å¯ç”¨åŠ å¯†å¹¶é…ç½®publicKey å‚è€ƒé…ç½®å¦‚ä¸‹ 1234567891011121314151617spring: datasource: druid: url: jdbc:postgresql://127.0.0.1:5432/activiti-demo username: louie password: TT0HLMKz6fPGiaih/F7r/s6zRonc9XiViRY5abqJSZTANPppXpxuMntcwuXqFEZH15v/qlE3UNnHx7pb9I3xWA== #åŠ å¯†åçš„å¯†ç  driver-class-name: org.postgresql.Driver filter: config: enabled: true #å¼€å¯configFilter connection-properties: config.decrypt=true;config.decrypt.key=$&#123;public_key&#125; #å¯ç”¨åŠ å¯†ï¼Œé…ç½®å…¬é’¥ jpa: hibernate: ddl-auto: none database: postgresqlpublic_key: MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAI4Xej5ccjRMTGCbD7iF57ySFSC++6tWRPmHGQxTGgjHCt4c57MfPTa6G6xV2hKB8i1rs0bA9qvf+7ab935/t6MCAwEAAQ== springç›‘æ§Druidæä¾›äº†Springå’ŒJdbcçš„å…³è”ç›‘æ§ï¼ŒåŸºäºspring AOPå®ç°ï¼Œå¯é€šè¿‡ç±»å‹ã€æ–¹æ³•åç­‰å¤šç§æ–¹æ³•é…ç½®æ‹¦æˆªï¼Œå…¶è¯¦ç»†è¯´æ˜ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ï¼Œä»¥ä¸‹ç¤ºä¾‹ä¸ºæŒ‰æ–¹æ³•åæ­£åˆ™åŒ¹é…æ‹¦æˆªçš„é…ç½® 1234spring datasource druid aop-patterns: com.github.*","categories":[{"name":"Java","slug":"Java","permalink":"https://www.kming6.com/categories/Java/"}],"tags":[{"name":"SpringBoot","slug":"SpringBoot","permalink":"https://www.kming6.com/tags/SpringBoot/"},{"name":"Druid","slug":"Druid","permalink":"https://www.kming6.com/tags/Druid/"}]},{"title":"mysqlåˆ›å»ºè¡¨å‡ºé”™ [Err] 1055","slug":"mysqlåˆ›å»ºè¡¨å‡ºé”™-Err-1055","date":"2020-02-29T13:01:10.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"posts/51518/","link":"","permalink":"https://www.kming6.com/posts/51518/","excerpt":"1055 - Expression #1 of ORDER BY clause is not in GROUP BY clause and contains nonaggregated column â€˜information_schema.PROFILING.SEQâ€™ which is not functionally dependent on columns in GROUP BY clause","text":"1055 - Expression #1 of ORDER BY clause is not in GROUP BY clause and contains nonaggregated column â€˜information_schema.PROFILING.SEQâ€™ which is not functionally dependent on columns in GROUP BY clause æ–¹æ³•ä¸€1SET sql_mode=(SELECT REPLACE(@@sql_mode,'ONLY_FULL_GROUP_BY','')); ä¼˜ç‚¹ï¼šä¸ç”¨é‡å¯mysql ç¼ºç‚¹ï¼šé‡å¯mysqlåè¿˜ä¼šå‡ºç°æ ‡é¢˜é”™è¯¯ 1SELECT @@global.sql_mode; æ–¹æ³•äºŒåœ¨my.cnfä¸­ä¿®æ”¹ 12[mysqld]sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION æ³¨:sql_modeå€¼ç”¨select @@sql_mode;æŸ¥è¯¢å‡ºæ¥åï¼Œå°†ONLY_FULL_GROUP_BYå»æ‰å‰©ä½™çš„å€¼ ä¼˜ç‚¹ï¼šé‡å¯mysql ä¸€æ¬¡æ€§è§£å†³é—®é¢˜ ç¼ºç‚¹ï¼šéœ€è¦é‡å¯mysql","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://www.kming6.com/categories/æ•°æ®åº“/"},{"name":"Mysql","slug":"æ•°æ®åº“/Mysql","permalink":"https://www.kming6.com/categories/æ•°æ®åº“/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.kming6.com/tags/Mysql/"}]},{"title":"å¦‚ä½•è®©Mysqlæ•°æ®åº“æ”¯æŒemojié…ç½®?","slug":"å¦‚ä½•è®©Mysqlæ•°æ®åº“æ”¯æŒemojié…ç½®","date":"2020-02-17T21:58:26.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"posts/57060/","link":"","permalink":"https://www.kming6.com/posts/57060/","excerpt":"ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆä»»é€‰ä¸€notes: ä¿®æ”¹æ•°æ®åº“é…ç½®å¯ä»¥ä¸€åŠ³æ°¸é€¸ï¼Œç›´æ¥sqlä¿®æ”¹å½“æœºå™¨é‡å¯æ—¶æ–°åŠ çš„è®¾ç½®ä¼šè¢«è¿˜åŸ","text":"ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆä»»é€‰ä¸€notes: ä¿®æ”¹æ•°æ®åº“é…ç½®å¯ä»¥ä¸€åŠ³æ°¸é€¸ï¼Œç›´æ¥sqlä¿®æ”¹å½“æœºå™¨é‡å¯æ—¶æ–°åŠ çš„è®¾ç½®ä¼šè¢«è¿˜åŸ æ”¹æ•°æ®åº“ç¼–ç ä¿®æ”¹æ•°æ®åº“é…ç½®æ–‡ä»¶windowsä¸‹çš„ä¸ºmy.ini(linuxä¸‹çš„ä¸ºmy.cnf)windowsä¸‹çš„my.iniè·¯å¾„ï¼šC:\\ProgramData\\MySQL\\MySQL Server 5.6 123456789[client]default-character-set = utf8mb4[mysql]default-character-set = utf8mb4[mysqld]character-set-server = utf8mb4collation-server = utf8mb4_unicode_ci ä¿®æ”¹æ•°æ®åº“ã€è¡¨ã€å­—æ®µçš„ç¼–ç ä¸ºutf8m641234567-- ä¿®æ”¹æ•°æ®åº“:ALTER DATABASE `test` CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci;-- ä¿®æ”¹è¡¨:ALTER TABLE `article` CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;-- ä¿®æ”¹è¡¨å­—æ®µ:ALTER TABLE `article` CHANGE `content` content LONGTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT 'æ–‡ç« å†…å®¹';ALTER TABLE `article` CHANGE `content_md` content_md LONGTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT 'markdownç‰ˆçš„æ–‡ç« å†…å®¹'; æ·»åŠ é…ç½®1234spring: datasource: druid: connection-init-sqls: set names utf8mb4","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://www.kming6.com/categories/æ•°æ®åº“/"},{"name":"Mysql","slug":"æ•°æ®åº“/Mysql","permalink":"https://www.kming6.com/categories/æ•°æ®åº“/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.kming6.com/tags/Mysql/"}]},{"title":"å¦‚ä½•ä½¿ç”¨Win10ç³»ç»Ÿè¿œç¨‹Ubuntu16.4ç³»ç»Ÿ","slug":"å¦‚ä½•ä½¿ç”¨Win10ç³»ç»Ÿè¿œç¨‹Ubuntu16-4ç³»ç»Ÿ","date":"2020-02-11T08:39:13.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"posts/30266/","link":"","permalink":"https://www.kming6.com/posts/30266/","excerpt":"å¶ç„¶é‡åˆ°éœ€è¦ä½¿ç”¨win10è¿œç¨‹Ubuntu16.4ç³»ç»Ÿè¿›è¡Œè¿œç¨‹åŠå…¬ï¼Œè®°å½•ä¸€ä¸‹æ–¹ä¾¿ä»¥åä½¿ç”¨","text":"å¶ç„¶é‡åˆ°éœ€è¦ä½¿ç”¨win10è¿œç¨‹Ubuntu16.4ç³»ç»Ÿè¿›è¡Œè¿œç¨‹åŠå…¬ï¼Œè®°å½•ä¸€ä¸‹æ–¹ä¾¿ä»¥åä½¿ç”¨ Ubuntuç³»ç»Ÿå…·ä½“æ­¥éª¤å¦‚ä¸‹ å®‰è£…ç›¸å…³è½¯ä»¶ 123sudo apt-get install tightvncserver xrdp xubuntu-desktopecho xfce4-session &gt;~/.xsession ç¼–è¾‘startwm.shï¼Œåœ¨./etc/X11/Xsessionçš„å‰ä¸€è¡Œæ·»åŠ xfce4-session 1sudo vim /etc/xrdp/startwm.sh # ç¼–è¾‘æ–‡ä»¶ï¼Œåœ¨ ./etc/X11/Xsessionå‰æ·»åŠ ä¸€è¡Œ xfce4-session é‡å¯æœåŠ¡ï¼Œé‡å¯ç³»ç»Ÿ 12sudo service xrdp restartsudo reboot Win10ç³»ç»Ÿæ“ä½œæ­¥éª¤ æ‰“å¼€è¿œç¨‹æ¡Œé¢ï¼Œ(WIN + Rè¾“å…¥mstsc)ï¼Œè¾“å…¥IPåœ°å€ ç™»é™†æ¨¡å¼é€‰æ‹©ï¼Œä½¿ç”¨çš„é»˜è®¤çš„ï¼Œè¾“å…¥å¯†ç è´¦å·è¿æ¥å³å¯ è¿æ¥ä¸Šå¦‚å›¾æ‰€ç¤º","categories":[{"name":"è¿œç¨‹è¿æ¥","slug":"è¿œç¨‹è¿æ¥","permalink":"https://www.kming6.com/categories/è¿œç¨‹è¿æ¥/"}],"tags":[{"name":"Win10","slug":"Win10","permalink":"https://www.kming6.com/tags/Win10/"},{"name":"Ubuntu16.4","slug":"Ubuntu16-4","permalink":"https://www.kming6.com/tags/Ubuntu16-4/"}]},{"title":"Spring Bootæ³¨è§£æ•´ç†","slug":"Spring-Bootæ³¨è§£æ•´ç†","date":"2020-01-10T19:39:06.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"posts/52374/","link":"","permalink":"https://www.kming6.com/posts/52374/","excerpt":"ä½¿ç”¨Spring Bootæ¡†æ¶è¿‡ç¨‹ä¸­ä¼šé‡åˆ°è®¸å¤šçš„æ³¨è§£ï¼Œåœ¨æ­¤æ•´ç†ä¸€ä¸‹æ–¹ä¾¿æŸ¥é˜…","text":"ä½¿ç”¨Spring Bootæ¡†æ¶è¿‡ç¨‹ä¸­ä¼šé‡åˆ°è®¸å¤šçš„æ³¨è§£ï¼Œåœ¨æ­¤æ•´ç†ä¸€ä¸‹æ–¹ä¾¿æŸ¥é˜… Spring MVCæ³¨è§£ @RequestMapping @RequestMappingæ³¨è§£ä¸»è¦ä½¿ç”¨åœ¨ç±»æˆ–æ–¹æ³•ä¸Šï¼Œå°†Webè¯·æ±‚çš„è·¯å¾„ä¸Controllerç±»ä¸­çš„æ–¹æ³•åšæ˜ å°„ã€‚@RequestMappingæ³¨è§£æœ‰ä»¥ä¸‹å‡ ç§é…ç½®å±æ€§ï¼š value: æ˜ å°„è¯·æ±‚URLæˆ–è€…å…¶åˆ«å method: å…¼å®¹HTTPçš„æ–¹æ³•å params: æ ¹æ®HTTPå‚æ•°çš„å­˜åœ¨ã€ç¼ºçœæˆ–å€¼å¯¹è¯·æ±‚è¿›è¡Œè¿‡æ»¤ header: æ ¹æ®HTTP Headerçš„å­˜åœ¨ã€ç¼ºçœæˆ–å€¼å¯¹è¯·æ±‚è¿›è¡Œè¿‡æ»¤ consume: è®¾å®šåœ¨HTTPè¯·æ±‚æ­£æ–‡ä¸­å…è®¸ä½¿ç”¨çš„åª’ä½“ç±»å‹ product: åœ¨HTTPå“åº”ä½“ä¸­å…è®¸ä½¿ç”¨çš„åª’ä½“ç±»å‹ å¸¸ç”¨ç¤ºä¾‹ï¼š 12345678@Controllerpublic class DemoController &#123; @RequestMapping(value=\"/demo/test\", method=RequestMethod.GET) public String test() &#123; return \"/test\"; &#125;&#125; 123456789@Controller@RequestMapping(\"/demo\")public class DemoController &#123; @RequestMapping(value=\"/test\", method=RequestMethod.GET) public String test() &#123; return \"/test\"; &#125;&#125; @RequestHeaderå¯ä»¥ä½¿ç”¨@RequestHeaderæ³¨é‡Šå°†è¯·æ±‚å¤´ç»‘å®šåˆ°æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•å‚æ•°ã€‚ å¸¸è§çš„Request headers 123456Host localhost:8080Accept text/html,application/xhtml+xml,application/xml;q=0.9Accept-Language fr,en-gb;q=0.7,en;q=0.3Accept-Encoding gzip,deflateAccept-Charset ISO-8859-1,utf-8;q=0.7,*;q=0.7Keep-Alive 300 è·å–Accept-Encodingå’ŒKeep-Aliveçš„å€¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456@GetMapping(\"/demo\")public void handle( @RequestHeader(\"Accept-Encoding\") String encoding, @RequestHeader(\"Keep-Alive\") long keepAlive) &#123; //...&#125; @RequestBody @RequestBodyåœ¨å¤„ç†è¯·æ±‚æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ä¸­ä½¿ç”¨ï¼Œå®ƒå¯ä»¥å°†è¯·æ±‚ä¸»ä½“ä¸­çš„å‚æ•°ç»‘å®šåˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œè¯·æ±‚ä¸»ä½“å‚æ•°æ˜¯é€šè¿‡HttpMessageConverterä¼ é€’çš„ï¼Œæ ¹æ®è¯·æ±‚ä¸»ä½“ä¸­çš„å‚æ•°åä¸å¯¹è±¡çš„å±æ€§åè¿›è¡ŒåŒ¹é…å¹¶ç»‘å®šå€¼ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡@Validæ³¨è§£å¯¹è¯·æ±‚ä¸»ä½“ä¸­çš„å‚æ•°è¿›è¡Œæ ¡éªŒã€‚ å¸¸ç”¨ç¤ºä¾‹ï¼š 1234567891011@Controller@RequestMapping(\"/users\")public class UserController&#123; @Autowired private UserService userService; @PostMapping(\"/add\") public User addUser(@Valid @RequestBody User user) &#123; return userService.save(user); &#125;&#125; @GetMapping @GetMappingæ³¨è§£ç”¨äºå¤„ç†HTTP GETè¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚æ˜ å°„åˆ°å…·ä½“çš„å¤„ç†æ–¹æ³•ä¸­ã€‚å…·ä½“æ¥è¯´ï¼Œ@GetMappingæ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œå®ƒç›¸å½“äºæ˜¯@RequestMapping(method=RequestMethod.GET)çš„ç®€å†™æ–¹å¼ã€‚å¸¸ç”¨ç¤ºä¾‹ï¼š 12345678910111213141516@Controller@RequestMapping(\"/users\")public class UserController&#123; @Autowired private UserService userService; @GetMapping(\"/\") public List&lt;User&gt; findAll() &#123; return userService.findAll(); &#125; @GetMapping(\"/&#123;id&#125;\") public List&lt;User&gt; findById(@PathVariable(name=\"id\") long id) &#123; return userService.findOne(id); &#125;&#125; @PostMapping @PostMappingæ³¨è§£ç”¨äºå¤„ç†HTTP POSTè¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚æ˜ å°„åˆ°å…·ä½“çš„å¤„ç†æ–¹æ³•ä¸­ã€‚@PostMappingä¸@GetMappingä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œå®ƒç›¸å½“äºæ˜¯@RequestMapping(method=HttpMethod.POST)çš„ç®€å†™æ–¹å¼ã€‚å¸¸ç”¨ç¤ºä¾‹ï¼š 1234567891011@Controller@RequestMapping(\"/users\")public class UserController&#123; @Autowired private UserService userService; @PostMapping(\"/add\") public User addUser(@Valid @RequestBody User user) &#123; return userService.save(user); &#125;&#125; @PutMapping @PutMappingæ³¨è§£ç”¨äºå¤„ç†HTTP PUTè¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚æ˜ å°„åˆ°å…·ä½“çš„å¤„ç†æ–¹æ³•ä¸­ï¼Œ@PutMappingæ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œç›¸å½“äºæ˜¯@RequestMapping(method=HttpMethod.PUT)çš„ç®€å†™æ–¹å¼ã€‚å¸¸ç”¨ç¤ºä¾‹ï¼š 1234567891011@Controller@RequestMapping(\"/users\")public class UserController&#123; @Autowired private UserService userService; @PutMapping(\"/&#123;id&#125;\") public User editUser(@PathVariable(name=\"id\") long id, User user) &#123; return userService.update(user); &#125;&#125; @DeleteMapping @DeleteMappingæ³¨è§£ç”¨äºå¤„ç†HTTP DELETEè¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚æ˜ å°„åˆ°åˆ é™¤æ–¹æ³•ä¸­ã€‚@DeleteMappingæ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œå®ƒç›¸å½“äºæ˜¯@RequestMapping(method=HttpMethod.DELETE)çš„ç®€å†™æ–¹å¼ 1234567891011@Controller@RequestMapping(\"/users\")public class UserController&#123; @Autowired private UserService userService; @DeleteMapping(\"/&#123;id&#125;\") public boolean deleteById(@PathVariable(name=\"id\") long id) &#123; return userService.delete(id); &#125;&#125; @PatchMapping @PatchMappingæ³¨è§£ç”¨äºå¤„ç†HTTP PATCHè¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚æ˜ å°„åˆ°å¯¹åº”çš„å¤„ç†æ–¹æ³•ä¸­ã€‚@PatchMappingç›¸å½“äºæ˜¯@RequestMapping(method=HttpMethod.PATCH)çš„ç®€å†™æ–¹å¼ã€‚å¸¸ç”¨ç¤ºä¾‹ï¼š 123456789@Controller@RequestMapping(\"/users\")public class UserController&#123; @PatchMapping(\"/patch\") public ResponseEntity&lt;Object&gt; patch() &#123; return new ResponseEntity(\"patch method response message\", HttpStatus.OK); &#125;&#125; @ControllerAdvice @ControllerAdviceæ˜¯@Componentæ³¨è§£çš„ä¸€ä¸ªå»¶ä¼¸æ³¨è§£ï¼ŒSpringä¼šè‡ªåŠ¨æ‰«æå¹¶æ£€æµ‹è¢«@ControllerAdviceæ‰€æ ‡æ³¨çš„ç±»ã€‚@ControllerAdviceéœ€è¦å’Œ@ExceptionHandlerã€@InitBinderä»¥åŠ@ModelAttributeæ³¨è§£æ­é…ä½¿ç”¨ï¼Œä¸»è¦æ˜¯ç”¨æ¥å¤„ç†æ§åˆ¶å™¨æ‰€æŠ›å‡ºçš„å¼‚å¸¸ä¿¡æ¯ã€‚å®šä¹‰ä¸€ä¸ªè¢«@ControllerAdviceæ‰€æ ‡æ³¨çš„ç±»ï¼Œåœ¨è¯¥ç±»ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªç”¨äºå¤„ç†å…·ä½“å¼‚å¸¸çš„æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨@ExceptionHandleræ³¨è§£è¿›è¡Œæ ‡è®°ã€‚æ­¤å¤–ï¼Œåœ¨æœ‰å¿…è¦çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨@InitBinderåœ¨ç±»ä¸­è¿›è¡Œå…¨å±€çš„é…ç½®ï¼Œè¿˜å¯ä»¥ä½¿ç”¨@ModelAttributeé…ç½®ä¸è§†å›¾ç›¸å…³çš„å‚æ•°ã€‚ä½¿ç”¨@ControllerAdviceæ³¨è§£ï¼Œå°±å¯ä»¥å¿«é€Ÿçš„åˆ›å»ºç»Ÿä¸€çš„ï¼Œè‡ªå®šä¹‰çš„å¼‚å¸¸å¤„ç†ç±»ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223@ControllerAdvicepublic class ExceptionHandleController &#123; @InitBinder public void initBinder(WebDataBinder binder) &#123; CustomDateEditor editor = new CustomDateEditor(new SimpleDateFormat(\"yyyy-MM-dd\"),true); binder.registerCustomEditor(Date.class, editor); &#125; @ModelAttribute public void modelAttribute(Model model) &#123; model.addAttribute(\"msg\", \"user not found error.\"); &#125; @ExceptionHandler(value = &#123;AccountException.class&#125;) public ModelAndView unauthorizedExceptionHandle(Throwable e) &#123; e.printStackTrace(); // æ‰“å°å¼‚å¸¸æ ˆ ModelAndView modelAndView = new ModelAndView(); modelAndView.addObject(\"ex\", ex); modelAndView.setViewName(\"error\"); return modelAndView; &#125;&#125; @ResponseBody @ResponseBodyä¼šè‡ªåŠ¨å°†æ§åˆ¶å™¨ä¸­æ–¹æ³•çš„è¿”å›å€¼å†™å…¥åˆ°HTTPå“åº”ä¸­ã€‚ç‰¹åˆ«çš„ï¼Œ@ResponseBodyæ³¨è§£åªèƒ½ç”¨åœ¨è¢«@Controlleræ³¨è§£æ ‡è®°çš„ç±»ä¸­ã€‚å¦‚æœåœ¨è¢«@RestControlleræ ‡è®°çš„ç±»ä¸­ï¼Œåˆ™æ–¹æ³•ä¸éœ€è¦ä½¿ç”¨@ResponseBodyæ³¨è§£è¿›è¡Œæ ‡æ³¨ã€‚@RestControllerç›¸å½“äºæ˜¯@Controllerå’Œ@ResponseBodyçš„ç»„åˆæ³¨è§£ã€‚ç¤ºä¾‹ä»£ç ï¼š 123456789101112@Controller@RequestMapping(\"/users\")public class UserController&#123; @Autowired private UserService userService; @ResponseBody @GetMapping(\"/&#123;id&#125;\") public User findOne(@PathVariable(name=\"id\") long id) &#123; return userService.findOne(id); &#125;&#125; @ExceptionHandler @ExceptionHanderæ³¨è§£ç”¨äºæ ‡æ³¨å¤„ç†ç‰¹å®šç±»å‹å¼‚å¸¸ç±»æ‰€æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•ã€‚å½“æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•æŠ›å‡ºå¼‚å¸¸æ—¶ï¼ŒSpringä¼šè‡ªåŠ¨æ•è·å¼‚å¸¸ï¼Œå¹¶å°†æ•è·çš„å¼‚å¸¸ä¿¡æ¯ä¼ é€’ç»™è¢«@ExceptionHandleræ ‡æ³¨çš„æ–¹æ³•ã€‚ä»£ç ç¤ºä¾‹ï¼š 123456789101112@ControllerAdvicepublic class ExceptionHandleController &#123; @ExceptionHandler(value = &#123;AccountException.class&#125;) public ModelAndView unauthorizedExceptionHandle(Throwable e) &#123; e.printStackTrace(); // æ‰“å°å¼‚å¸¸æ ˆ ModelAndView modelAndView = new ModelAndView(); modelAndView.addObject(\"ex\", ex); modelAndView.setViewName(\"error\"); return modelAndView; &#125;&#125; @ResponseStatus @ResponseStatusæ³¨è§£å¯ä»¥æ ‡æ³¨è¯·æ±‚å¤„ç†æ–¹æ³•ã€‚ä½¿ç”¨æ­¤æ³¨è§£ï¼Œå¯ä»¥æŒ‡å®šå“åº”æ‰€éœ€è¦çš„HTTP STATUSã€‚ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨HttpStautsç±»å¯¹è¯¥æ³¨è§£çš„valueå±æ€§è¿›è¡Œèµ‹å€¼ã€‚ä»£ç ç¤ºä¾‹ï¼š 12345678@RequestMapping(\"/401\")@ResponseStatus(HttpStatus.BAD_REQUEST)public ModelAndView errorHtml401(HttpServletRequest request, HttpServletResponse response, WebRequest webRequest) &#123; response.setStatus(HttpStatus.UNAUTHORIZED.value()); Map&lt;String, Object&gt; model = getErrorAttributes(webRequest, isIncludeStackTrace(request, MediaType.TEXT_HTML)); model.put(\"queryString\", request.getQueryString()); return new ModelAndView(\"error/401\", model);&#125; @PathVariable @PathVariableæ³¨è§£æ˜¯å°†æ–¹æ³•ä¸­çš„å‚æ•°ç»‘å®šåˆ°è¯·æ±‚URIä¸­çš„æ¨¡æ¿å˜é‡ä¸Šã€‚å¯ä»¥é€šè¿‡@RequestMappingæ³¨è§£æ¥æŒ‡å®šURIçš„æ¨¡æ¿å˜é‡ï¼Œç„¶åä½¿ç”¨@PathVariableæ³¨è§£å°†æ–¹æ³•ä¸­çš„å‚æ•°ç»‘å®šåˆ°æ¨¡æ¿å˜é‡ä¸Šã€‚@PathVariableæ³¨è§£å…è®¸æˆ‘ä»¬ä½¿ç”¨valueæˆ–nameå±æ€§æ¥ç»™å‚æ•°å–ä¸€ä¸ªåˆ«åã€‚ä»£ç ç¤ºä¾‹ï¼š 123456789101112@Controller@RequestMapping(\"/users\")public class UserController&#123; @Autowired private UserService userService; @ResponseBody @GetMapping(\"/&#123;id&#125;\") public User findOne(@PathVariable(name=\"id\") long id) &#123; return userService.findOne(id); &#125;&#125; æ¨¡æ¿å˜é‡åéœ€è¦ä½¿ç”¨â€œ{ }â€è¿›è¡ŒåŒ…è£¹ï¼Œå¦‚æœæ–¹æ³•çš„å‚æ•°åä¸URIæ¨¡æ¿å˜é‡åä¸€è‡´ï¼Œåˆ™åœ¨@PathVariableä¸­å°±å¯ä»¥çœç•¥åˆ«åçš„å®šä¹‰ã€‚å¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªéå¿…é¡»çš„ï¼Œå¯é€‰çš„é¡¹ï¼Œåˆ™å¯ä»¥åœ¨@PathVariableä¸­è®¾ç½®require = falseã€‚ 123456789101112@Controller@RequestMapping(\"/users\")public class UserController&#123; @Autowired private UserService userService; @ResponseBody @GetMapping(\"/&#123;id&#125;\") public User findOne(@PathVariable long id) &#123; return userService.findOne(id); &#125;&#125; @RequestParam @RequestParamæ³¨è§£ç”¨äºå°†æ–¹æ³•çš„å‚æ•°ä¸Webè¯·æ±‚çš„ä¼ é€’çš„å‚æ•°è¿›è¡Œç»‘å®šã€‚ä½¿ç”¨@RequestParamå¯ä»¥è½»æ¾çš„è®¿é—®HTTPè¯·æ±‚å‚æ•°çš„å€¼ã€‚ä»£ç ç¤ºä¾‹ï¼š 1234@PostMapping(\"/getUserTag\")public UserTag getUserTag(@RequestParam(name=\"id\") Long id) &#123; return userTagService.findById(id);&#125; @Controller @Controlleræ˜¯@Componentæ³¨è§£çš„ä¸€ä¸ªå»¶ä¼¸ï¼ŒSpringä¼šè‡ªåŠ¨æ‰«æå¹¶é…ç½®è¢«è¯¥æ³¨è§£æ ‡æ³¨çš„ç±»ã€‚æ­¤æ³¨è§£ç”¨äºæ ‡æ³¨Spring MVCçš„æ§åˆ¶å™¨ã€‚ç¤ºä¾‹ä»£ç ï¼š 12345678910111213@Controller@RequestMapping(\"/users\")public class UserController&#123; @Autowired private UserService userService; @ResponseBody @GetMapping(\"/&#123;id&#125;\") public User findOne(@PathVariable long id) &#123; return userService.findOne(id); &#125;&#125; @RestController @RestControlleræ˜¯åœ¨Spring 4.0å¼€å§‹å¼•å…¥çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªç‰¹å®šçš„æ§åˆ¶å™¨æ³¨è§£ã€‚æ­¤æ³¨è§£ç›¸å½“äº@Controllerå’Œ@ResponseBodyçš„ç®€å†™æ–¹å¼ã€‚å½“ä½¿ç”¨æ­¤æ³¨è§£æ—¶ï¼Œä¸éœ€è¦å†åœ¨æ–¹æ³•ä¸Šä½¿ç”¨@ResponseBodyæ³¨è§£ã€‚ä»£ç ç¤ºä¾‹ï¼š 123456789101112@RestController@RequestMapping(\"/users\")public class UserController&#123; @Autowired private UserService userService; @GetMapping(\"/&#123;id&#125;\") public User findOne(@PathVariable long id) &#123; return userService.findOne(id); &#125;&#125; @CookieValue å¯ä»¥ä½¿ç”¨@CookieValueæ³¨é‡Šå°†HTTP cookieçš„å€¼ç»‘å®šåˆ°æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•å‚æ•°ã€‚ ä»£ç ç¤ºä¾‹ï¼š 1234@GetMapping(\"/demo\")public void handle(@CookieValue(\"JSESSIONID\") String cookie) &#123; //...&#125; @SessionAttributes @SessionAttributesç”¨äºåœ¨è¯·æ±‚ä¹‹é—´çš„HTTP Servletä¼šè¯ä¸­å­˜å‚¨æ¨¡å‹å±æ€§ã€‚å®ƒæ˜¯ç±»å‹çº§åˆ«çš„æ³¨é‡Šï¼Œå£°æ˜ç‰¹å®šæ§åˆ¶å™¨ä½¿ç”¨çš„ä¼šè¯å±æ€§ã€‚è¿™é€šå¸¸åˆ—å‡ºæ¨¡å‹å±æ€§çš„åç§°æˆ–æ¨¡å‹å±æ€§çš„ç±»å‹ï¼Œå®ƒä»¬åº”è¯¥é€æ˜åœ°å­˜å‚¨åœ¨ä¼šè¯ä¸­ï¼Œä»¥ä¾¿åç»­è¯·æ±‚è®¿é—®ã€‚@SessionAttributesç”¨äºåœ¨è¯·æ±‚ä¹‹é—´çš„HTTP Servletä¼šè¯ä¸­å­˜å‚¨æ¨¡å‹å±æ€§ã€‚å®ƒæ˜¯ç±»å‹çº§åˆ«çš„æ³¨é‡Šï¼Œå£°æ˜ç‰¹å®šæ§åˆ¶å™¨ä½¿ç”¨çš„ä¼šè¯å±æ€§ã€‚è¿™é€šå¸¸åˆ—å‡ºæ¨¡å‹å±æ€§çš„åç§°æˆ–æ¨¡å‹å±æ€§çš„ç±»å‹ï¼Œå®ƒä»¬åº”è¯¥é€æ˜åœ°å­˜å‚¨åœ¨ä¼šè¯ä¸­ï¼Œä»¥ä¾¿åç»­è¯·æ±‚è®¿é—®ã€‚ ä»£ç ç¤ºä¾‹ï¼š 12345@Controller@SessionAttributes(\"pet\") public class EditPetForm &#123; // ...&#125; å¦‚æœæ‚¨éœ€è¦è®¿é—®å…¨å±€ç®¡ç†çš„é¢„å…ˆå­˜åœ¨çš„ä¼šè¯å±æ€§(å³ï¼Œåœ¨æ§åˆ¶å™¨ä¹‹å¤–â€”â€”ä¾‹å¦‚ï¼Œé€šè¿‡è¿‡æ»¤å™¨)ï¼Œå¹¶ä¸”å¯èƒ½å­˜åœ¨ä¹Ÿå¯èƒ½ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥åœ¨æ–¹æ³•å‚æ•°ä¸Šä½¿ç”¨@SessionAttributeæ³¨é‡Šï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤º: 1234@RequestMapping(\"/\")public String handle(@SessionAttribute User user) &#123; // ...&#125; @RequestAttribute ä¸@SessionAttributeç±»ä¼¼ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨@RequestAttributeæ³¨é‡Šæ¥è®¿é—®å…ˆå‰åˆ›å»ºçš„å·²å­˜åœ¨çš„è¯·æ±‚å±æ€§(ä¾‹å¦‚ï¼Œé€šè¿‡Servletè¿‡æ»¤å™¨æˆ–HandlerInterceptor): 1234@GetMapping(\"/\")public String handle(@RequestAttribute Client client) &#123; // ...&#125; @ModelAttributeã€ é€šè¿‡æ­¤æ³¨è§£ï¼Œå¯ä»¥é€šè¿‡æ¨¡å‹ç´¢å¼•åç§°æ¥è®¿é—®å·²ç»å­˜åœ¨äºæ§åˆ¶å™¨ä¸­çš„modelã€‚ä¸@PathVariableå’Œ@RequestParamæ³¨è§£ä¸€æ ·ï¼Œå¦‚æœå‚æ•°åä¸æ¨¡å‹å…·æœ‰ç›¸åŒçš„åå­—ï¼Œåˆ™ä¸å¿…æŒ‡å®šç´¢å¼•åç§°ä»£ç ç¤ºä¾‹ï¼š 1234@PostMapping(\"/users\")public void addUser(@ModelAttribute(\"user\") User user) &#123; userService.save(user);&#125; @CrossOrigin @CrossOriginæ³¨è§£å°†ä¸ºè¯·æ±‚å¤„ç†ç±»æˆ–è¯·æ±‚å¤„ç†æ–¹æ³•æä¾›è·¨åŸŸè°ƒç”¨æ”¯æŒã€‚å¦‚æœæˆ‘ä»¬å°†æ­¤æ³¨è§£æ ‡æ³¨ç±»ï¼Œé‚£ä¹ˆç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½å°†è·å¾—æ”¯æŒè·¨åŸŸçš„èƒ½åŠ›ã€‚ä½¿ç”¨æ­¤æ³¨è§£çš„å¥½å¤„æ˜¯å¯ä»¥å¾®è°ƒè·¨åŸŸè¡Œä¸ºã€‚ä»£ç ç¤ºä¾‹ï¼š 12345678@CrossOrigin@GetMapping(\"/user/profile\")public User userDetails(@RequestParam(name=\"id\", defaultValue=\"0\") long id) &#123; if (id == 0) &#123; return new User(); &#125; return userService.findOne(id);&#125; @InitBinder @InitBinderæ³¨è§£ç”¨äºæ ‡æ³¨åˆå§‹åŒ–WebDataBiniderçš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨äºå¯¹Httpè¯·æ±‚ä¼ é€’çš„è¡¨å•æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå¦‚æ—¶é—´æ ¼å¼åŒ–ã€å­—ç¬¦ä¸²å¤„ç†ç­‰ã€‚ä»£ç ç¤ºä¾‹ï¼š 12345@InitBinderpublic void initBinder(WebDataBinder binder) &#123; CustomDateEditor editor = new CustomDateEditor(new SimpleDateFormat(\"yyyy-MM-dd\"),true); binder.registerCustomEditor(Date.class, editor);&#125; Spring Beanç›¸å…³æ³¨è§£ @ComponentScan @ComponentScanæ³¨è§£ç”¨äºé…ç½®Springéœ€è¦æ‰«æçš„è¢«ç»„ä»¶æ³¨è§£æ³¨é‡Šçš„ç±»æ‰€åœ¨çš„åŒ…ã€‚å¯ä»¥é€šè¿‡é…ç½®å…¶basePackageså±æ€§æˆ–è€…valueå±æ€§æ¥é…ç½®éœ€è¦æ‰«æçš„åŒ…è·¯å¾„ã€‚valueå±æ€§æ˜¯basePackagesçš„åˆ«åã€‚ä»£ç ç¤ºä¾‹ï¼š 12345@Configuration@ComponentScan(basePackages=\"com.example\")public class ScanConfig() &#123;&#125; @Component @Componentæ³¨è§£ç”¨äºæ ‡æ³¨ä¸€ä¸ªæ™®é€šçš„ç»„ä»¶ç±»ï¼Œå®ƒæ²¡æœ‰æ˜ç¡®çš„ä¸šåŠ¡èŒƒå›´ï¼Œåªæ˜¯é€šçŸ¥Springè¢«æ­¤æ³¨è§£çš„ç±»éœ€è¦è¢«çº³å…¥åˆ°Spring Beanå®¹å™¨ä¸­å¹¶è¿›è¡Œç®¡ç†ã€‚ä»£ç ç¤ºä¾‹ï¼š 12345678910111213141516171819@Componentpublic class JobRunner implements ApplicationRunner &#123; @Autowired private QuartzJobRepository quartzJobRepository; @Autowired private QuartzManage quartzManage; @Override public void run(ApplicationArguments applicationArguments)&#123; System.out.println(\"----------------------æ³¨å…¥å®šæ—¶ä»»åŠ¡-----------------------\"); List&lt;QuartzJob&gt; quartzJobs = quartzJobRepository.findByIsPauseIsFalse(); quartzJobs.forEach(quartzJob -&gt; &#123; quartzManage.addJob(quartzJob); &#125;); System.out.println(\"--------------------å®šæ—¶ä»»åŠ¡æ³¨å…¥å®Œæˆ---------------------\"); &#125;&#125; @Service @Serviceæ³¨è§£æ˜¯@Componentçš„ä¸€ä¸ªå»¶ä¼¸ï¼ˆç‰¹ä¾‹ï¼‰ï¼Œå®ƒç”¨äºæ ‡æ³¨ä¸šåŠ¡é€»è¾‘ç±»ã€‚ä¸@Componentæ³¨è§£ä¸€æ ·ï¼Œè¢«æ­¤æ³¨è§£æ ‡æ³¨çš„ç±»ï¼Œä¼šè‡ªåŠ¨è¢«Springæ‰€ç®¡ç†ã€‚ä»£ç ç¤ºä¾‹ï¼š 123456789101112131415public interface UserService &#123; User addUser(User user);&#125;@Service(\"userService\")public class UserServiceImpl implements UserService &#123; @Autowired private UserRepository userRepository; @Override public User addUser(User user) &#123; userRepository.save(user); &#125;&#125; @Repository @Repositoryæ³¨è§£ä¹Ÿæ˜¯@Componentæ³¨è§£çš„å»¶ä¼¸ï¼Œä¸@Componentæ³¨è§£ä¸€æ ·ï¼Œè¢«æ­¤æ³¨è§£æ ‡æ³¨çš„ç±»ä¼šè¢«Springè‡ªåŠ¨ç®¡ç†èµ·æ¥ï¼Œ@Repositoryæ³¨è§£ç”¨äºæ ‡æ³¨DAOå±‚çš„æ•°æ®æŒä¹…åŒ–ç±»ã€‚ä»£ç ç¤ºä¾‹ï¼š 1234@Repositorypublic class UserDaoImpl implements UserDao&#123; // ...&#125; Spring Dependency Inject ä¸ Bean Scopsæ³¨è§£Spring DIæ³¨è§£ @DependsOn @DependsOnæ³¨è§£å¯ä»¥é…ç½®Spring IoCå®¹å™¨åœ¨åˆå§‹åŒ–ä¸€ä¸ªBeanä¹‹å‰ï¼Œå…ˆåˆå§‹åŒ–å…¶ä»–çš„Beanå¯¹è±¡ã€‚ä»£ç ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738public class FirstBean &#123; @Autowired private SecondBean secondBean; @Autowired private ThirdBean thirdBean;&#125;public class SecondBean &#123; public SecondBean () &#123; // ... &#125;&#125;public class ThirdBean &#123; public ThirdBean () &#123; // ... &#125;&#125;@Configurationpublic class CustomerBeanConfig &#123; @Bean(\"firstBean\") @DependsOn(value=&#123;\"secondBean\", \"thirdBean\"&#125;) public FirstBean firstBean() &#123; return new FirstBean(); &#125; @Bean(\"secondBean\") public SecondBean secondBean() &#123; return new SecondBean(); &#125; @Bean(\"thirdBean\") public ThirdBean thirdBean() &#123; return new ThirdBean(); &#125;&#125; @Bean @Beanæ³¨è§£ä¸»è¦çš„ä½œç”¨æ˜¯å‘ŠçŸ¥Springï¼Œè¢«æ­¤æ³¨è§£æ‰€æ ‡æ³¨çš„ç±»å°†éœ€è¦çº³å…¥åˆ°Beanç®¡ç†å·¥å‚ä¸­ã€‚@Beanæ³¨è§£çš„ç”¨æ³•å¾ˆç®€å•ï¼Œåœ¨è¿™é‡Œï¼Œç€é‡ä»‹ç»@Beanæ³¨è§£ä¸­initMethodå’ŒdestroyMethodçš„ç”¨æ³•ã€‚ä»£ç ç¤ºä¾‹ï¼š 12345678910111213141516@Configurationpublic class UserServiceConfig &#123; public void init() &#123; System.out.println(\"this is init method.\"); &#125; public void destroy() &#123; System.out.println(\"this is destroy method.\"); &#125; @Bean(initMethod=\"init\", destoryMethod=\"destroy\") public UserServiceImpl userService() &#123; return new UserServiceImpl(); &#125;&#125; @Scope @Scopeæ³¨è§£å¯ä»¥ç”¨æ¥å®šä¹‰@Componentæ ‡æ³¨çš„ç±»çš„ä½œç”¨èŒƒå›´ä»¥åŠ@Beanæ‰€æ ‡è®°çš„ç±»çš„ä½œç”¨èŒƒå›´ã€‚ @Scopeæ‰€é™å®šçš„ä½œç”¨èŒƒå›´æœ‰ï¼šsingletonã€prototypeã€requestã€sessionã€globalSessionæˆ–è€…å…¶ä»–çš„è‡ªå®šä¹‰èŒƒå›´ã€‚è¿™é‡Œä»¥prototypeä¸ºä¾‹å­è¿›è¡Œè®²è§£ã€‚å½“ä¸€ä¸ªSpring Beanè¢«å£°æ˜ä¸ºprototypeï¼ˆåŸå‹æ¨¡å¼ï¼‰æ—¶ï¼Œåœ¨æ¯æ¬¡éœ€è¦ä½¿ç”¨åˆ°è¯¥ç±»çš„æ—¶å€™ï¼ŒSpring IoCå®¹å™¨éƒ½ä¼šåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æ”¹ç±»çš„å®ä¾‹ã€‚åœ¨å®šä¹‰ä¸€ä¸ªBeanæ—¶ï¼Œå¯ä»¥è®¾ç½®Beançš„scopeå±æ€§ä¸ºprototypeï¼šscope=â€œprototypeâ€,ä¹Ÿå¯ä»¥ä½¿ç”¨@Scopeæ³¨è§£è®¾ç½®ï¼Œå¦‚ä¸‹ï¼š @Scope(value=ConfigurableBeanFactory.SCOPE_PROPTOTYPE) ä»£ç ç¤ºä¾‹ï¼š 123456789101112131415@Service@Scope(value=ConfigurableBeanFactory.SCOPE_PROPTOTYPE)public class UserServiceImpl &#123; // ...&#125;@Configurationpublic class UserServiceConfig &#123; @Bean @Scope(value=ConfigurableBeanFactory.SCOPE_PROPTOTYPE) public UserServiceImpl userService() &#123; return new UserServiceImpl(); &#125;&#125; @Scope å•ä¾‹æ¨¡å¼ å½“@Scopeçš„ä½œç”¨èŒƒå›´è®¾ç½®æˆSingletonæ—¶ï¼Œè¢«æ­¤æ³¨è§£æ‰€æ ‡æ³¨çš„ç±»åªä¼šè¢«Spring IoCå®¹å™¨åˆå§‹åŒ–ä¸€æ¬¡ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring IoCå®¹å™¨æ‰€åˆå§‹åŒ–çš„ç±»å®ä¾‹éƒ½ä¸ºsingletonã€‚åŒæ ·çš„åŸç†ï¼Œæ­¤æƒ…å½¢ä¹Ÿæœ‰ä¸¤ç§é…ç½®æ–¹å¼ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415@Service@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)public class UserServiceImpl &#123; // ...&#125;@Configurationpublic class UserServiceConfig &#123; @Bean @Scope(ConfigurableBeanFactory.SCOPE_SINGLETON) public UserServiceImpl userService() &#123; return new UserServiceImpl(); &#125;&#125; å®¹å™¨é…ç½®æ³¨è§£ @Autowired @Autowiredæ³¨è§£ç”¨äºæ ‡è®°Springå°†è¦è§£æå’Œæ³¨å…¥çš„ä¾èµ–é¡¹ã€‚æ­¤æ³¨è§£å¯ä»¥ä½œç”¨åœ¨æ„é€ å‡½æ•°ã€å­—æ®µå’Œsetteræ–¹æ³•ä¸Šã€‚ ä½œç”¨äºæ„é€ å‡½æ•° ä¸‹é¢æ˜¯@Autowiredæ³¨è§£æ ‡æ³¨æ„é€ å‡½æ•°çš„ä½¿ç”¨ç¤ºä¾‹ï¼š 12345678910@RestControllerpublic class UserController &#123; private UserService userService; @Autowired public UserController(UserService userService) &#123; this.userServic = userservice; &#125;&#125; ä½œç”¨äºsetteræ–¹æ³• ä¸‹é¢æ˜¯@Autowiredæ³¨è§£æ ‡æ³¨setteræ–¹æ³•çš„ç¤ºä¾‹ä»£ç ï¼š 12345678910@RestControllerpublic class UserController &#123; private UserService userService; @Autowired public void setUserService(UserService userService) &#123; this.userServic = userservice; &#125;&#125; ä½œç”¨äºå­—æ®µ @Autowiredæ³¨è§£æ ‡æ³¨å­—æ®µæ˜¯æœ€ç®€å•çš„ï¼Œåªéœ€è¦åœ¨å¯¹åº”çš„å­—æ®µä¸ŠåŠ å…¥æ­¤æ³¨è§£å³å¯ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 1234567@RestControllerpublic class UserController &#123; @Autowired private UserService userService; // ...&#125; @Primary å½“ç³»ç»Ÿä¸­éœ€è¦é…ç½®å¤šä¸ªå…·æœ‰ç›¸åŒç±»å‹çš„beanæ—¶ï¼Œ@Primaryå¯ä»¥å®šä¹‰è¿™äº›Beançš„ä¼˜å…ˆçº§ã€‚ä¸‹é¢å°†ç»™å‡ºä¸€ä¸ªå®ä¾‹ä»£ç æ¥è¯´æ˜è¿™ä¸€ç‰¹æ€§ï¼š 123456789101112131415161718192021222324252627282930313233343536373839public interface MessageService &#123; String sendMessage(String message);&#125;@Componentpublic class RabitMQMessageImpl implements MessageService &#123; @Override public String sendMessage(String ms) &#123; return \"this is RabitMQ message\"; &#125;&#125;@Componentpublic class KafkaMessageImpl implements MessageService &#123; @Override public String sendMessage(String ms) &#123; return \"this is Kafka message\"; &#125;&#125;@Primary@Componentpublic class ActiveMQMessageImpl implements MessageService &#123; @Override public String sendMessage(String ms) &#123; return \"this is ActiveMQ message\"; &#125;&#125;@RestControllerpublic class MessageController &#123; @Autowired private MessageService messageService; @GetMapping(\"/info\") public String info () &#123; return messageService.sendMessage(); // this is ActiveMQ message &#125;&#125; @PostConstructä¸@PreDestroy å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªæ³¨è§£ä¸å±äºSpring,å®ƒä»¬æ˜¯æºäºJSR-250ä¸­çš„ä¸¤ä¸ªæ³¨è§£ï¼Œä½äºcommon-annotations.jarä¸­ã€‚@PostConstructæ³¨è§£ç”¨äºæ ‡æ³¨åœ¨Beanè¢«Springåˆå§‹åŒ–ä¹‹å‰éœ€è¦æ‰§è¡Œçš„æ–¹æ³•ã€‚@PreDestroyæ³¨è§£ç”¨äºæ ‡æ³¨Beanè¢«é”€æ¯å‰éœ€è¦æ‰§è¡Œçš„æ–¹æ³•ã€‚ä¸‹é¢æ˜¯å…·ä½“çš„ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516@Componentpublic class DemoComponent &#123; private List&lt;String&gt; list = new ArrayList&lt;&gt;(); @PostConstruct public void init() &#123; list.add(\"aaa\"); list.add(\"bbb\"); list.add(\"ccc\"); &#125; @PreDestroy public void destory() &#123; list.clear(); &#125;&#125; @Qualifier å½“ç³»ç»Ÿä¸­å­˜åœ¨åŒä¸€ç±»å‹çš„å¤šä¸ªBeanæ—¶ï¼Œ@Autowiredåœ¨è¿›è¡Œä¾èµ–æ³¨å…¥çš„æ—¶å€™å°±ä¸çŸ¥é“è¯¥é€‰æ‹©å“ªä¸€ä¸ªå®ç°ç±»è¿›è¡Œæ³¨å…¥ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨@Qualifieræ³¨è§£æ¥å¾®è°ƒï¼Œå¸®åŠ©@Autowiredé€‰æ‹©æ­£ç¡®çš„ä¾èµ–é¡¹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå…³äºæ­¤æ³¨è§£çš„ä»£ç ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839public interface MessageService &#123; String sendMessage(String message);&#125;@Service(\"emailService\")public class EmailServiceImple implements MessageService &#123; @Override public String sendMessage(String ms) &#123; return \"send email, message is \" + ms; &#125;&#125;@Service(\"smsService\")public class SMSServiceImpl implements MessageService &#123; @Override public String sendMessage(String ms) &#123; return \"send sms, message is \" + ms; &#125;&#125;public interface MessageProcessor &#123; String processMessage(String ms);&#125;public class MessageProcessorImpl implements MessageProcessor &#123; private MessageService messageService; @Autowired @Qualifier(\"emailService\") public void setMessageService(MessageService ms) &#123; messageService = ms; &#125; @Override public String processMessage(String message) &#123; return messageService.sendMessage(message); &#125;&#125; Spring Bootæ³¨è§£ @SpringBootApplication @SpringBootApplicationæ³¨è§£æ˜¯ä¸€ä¸ªå¿«æ·çš„é…ç½®æ³¨è§£ï¼Œåœ¨è¢«å®ƒæ ‡æ³¨çš„ç±»ä¸­ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªBeanï¼Œå¹¶è‡ªåŠ¨è§¦å‘è‡ªåŠ¨é…ç½®Beanå’Œè‡ªåŠ¨æ‰«æç»„ä»¶ã€‚ æ­¤æ³¨è§£ç›¸å½“äº@Configurationã€@EnableAutoConfigurationå’Œ@ComponentScançš„ç»„åˆã€‚åœ¨Spring Bootåº”ç”¨ç¨‹åºçš„ä¸»ç±»ä¸­ï¼Œå°±ä½¿ç”¨äº†æ­¤æ³¨è§£ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 123456@SpringBootApplicationpublic class Application&#123; public static void main(String [] args)&#123; SpringApplication.run(Application.class,args); &#125;&#125; @EnableAutoConfiguration @EnableAutoConfigurationæ³¨è§£ç”¨äºé€šçŸ¥Springï¼Œæ ¹æ®å½“å‰ç±»è·¯å¾„ä¸‹å¼•å…¥çš„ä¾èµ–åŒ…ï¼Œè‡ªåŠ¨é…ç½®ä¸è¿™äº›ä¾èµ–åŒ…ç›¸å…³çš„é…ç½®é¡¹ã€‚ 12345678910111213141516@SpringBootConfiguration@EnableAutoConfiguration@ComponentScan@EnableTransactionManagement@EnableWebSocketMessageBrokerpublic class AppRun &#123; public static void main(String[] args) &#123; SpringApplication.run(AppRun.class, args); &#125; @Bean public SpringContextHolder springContextHolder() &#123; return new SpringContextHolder(); &#125;&#125; @ConditionalOnClassä¸@ConditionalOnMissingClass è¿™ä¸¤ä¸ªæ³¨è§£å±äºç±»æ¡ä»¶æ³¨è§£ï¼Œå®ƒä»¬æ ¹æ®æ˜¯å¦å­˜åœ¨æŸä¸ªç±»ä½œä¸ºåˆ¤æ–­ä¾æ®æ¥å†³å®šæ˜¯å¦è¦æ‰§è¡ŒæŸäº›é…ç½®ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç ï¼š 12345@Configuration@ConditionalOnClass(DataSource.class)class MySQLAutoConfiguration &#123; //...&#125; @ConditionalOnBeanä¸@ConditionalOnMissingBean è¿™ä¸¤ä¸ªæ³¨è§£å±äºå¯¹è±¡æ¡ä»¶æ³¨è§£ï¼Œæ ¹æ®æ˜¯å¦å­˜åœ¨æŸä¸ªå¯¹è±¡ä½œä¸ºä¾æ®æ¥å†³å®šæ˜¯å¦è¦æ‰§è¡ŒæŸäº›é…ç½®æ–¹æ³•ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 1234567891011@Bean@ConditionalOnBean(name=\"dataSource\")LocalContainerEntityManagerFactoryBean entityManagerFactory()&#123; //...&#125;@Bean@ConditionalOnMissingBeanpublic MyBean myBean()&#123; //...&#125; @ConditionalOnProperty @ConditionalOnPropertyæ³¨è§£ä¼šæ ¹æ®Springé…ç½®æ–‡ä»¶ä¸­çš„é…ç½®é¡¹æ˜¯å¦æ»¡è¶³é…ç½®è¦æ±‚ï¼Œä»è€Œå†³å®šæ˜¯å¦è¦æ‰§è¡Œè¢«å…¶æ ‡æ³¨çš„æ–¹æ³•ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 12345@Bean@ConditionalOnProperty(name=\"myapp\",havingValue=\"on\")App myapp()&#123; return new App();&#125; @ConditionalOnResource æ­¤æ³¨è§£ç”¨äºæ£€æµ‹å½“æŸä¸ªé…ç½®æ–‡ä»¶å­˜åœ¨ä½¿ï¼Œåˆ™è§¦å‘è¢«å…¶æ ‡æ³¨çš„æ–¹æ³•ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨æ­¤æ³¨è§£çš„ä»£ç ç¤ºä¾‹ï¼š 1234@ConditionalOnResource(resources = \"classpath:website.properties\")Properties addWebsiteProperties()&#123; //...&#125; @ConditionalOnWebApplicationä¸@ConditionalOnNotWebApplication è¿™ä¸¤ä¸ªæ³¨è§£ç”¨äºåˆ¤æ–­å½“å‰çš„åº”ç”¨ç¨‹åºæ˜¯å¦æ˜¯Webåº”ç”¨ç¨‹åºã€‚å¦‚æœå½“å‰åº”ç”¨æ˜¯Webåº”ç”¨ç¨‹åºï¼Œåˆ™ä½¿ç”¨Spring WebApplicationContextï¼Œå¹¶å®šä¹‰å…¶ä¼šè¯çš„ç”Ÿå‘½å‘¨æœŸã€‚ç¤ºä¾‹ï¼š 1234@ConditionalOnWebApplicationHealthCheckController healthCheckController()&#123; //...&#125; @ConditionalExpression æ­¤æ³¨è§£å¯ä»¥è®©æˆ‘ä»¬æ§åˆ¶æ›´ç»†ç²’åº¦çš„åŸºäºè¡¨è¾¾å¼çš„é…ç½®æ¡ä»¶é™åˆ¶ã€‚å½“è¡¨è¾¾å¼æ»¡è¶³æŸä¸ªæ¡ä»¶æˆ–è€…è¡¨è¾¾å¼ä¸ºçœŸçš„æ—¶å€™ï¼Œå°†ä¼šæ‰§è¡Œè¢«æ­¤æ³¨è§£æ ‡æ³¨çš„æ–¹æ³•ã€‚ 12345@Bean@ConditionalException(\"$&#123;localstore&#125; &amp;&amp; $&#123;local == 'true'&#125;\")LocalFileStore store()&#123; //...&#125; @Conditional @Conditionalæ³¨è§£å¯ä»¥æ§åˆ¶æ›´ä¸ºå¤æ‚çš„é…ç½®æ¡ä»¶ã€‚åœ¨Springå†…ç½®çš„æ¡ä»¶æ§åˆ¶æ³¨è§£ä¸æ»¡è¶³åº”ç”¨éœ€æ±‚çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨æ­¤æ³¨è§£å®šä¹‰è‡ªå®šä¹‰çš„æ§åˆ¶æ¡ä»¶ï¼Œä»¥è¾¾åˆ°è‡ªå®šä¹‰çš„è¦æ±‚ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨è¯¥æ³¨è§£çš„ç®€å•ç¤ºä¾‹ï¼š 1234@Conditioanl(CustomConditioanl.class)CustomProperties addCustomProperties()&#123; //...&#125;","categories":[{"name":"Java","slug":"Java","permalink":"https://www.kming6.com/categories/Java/"},{"name":"Spring Boot","slug":"Java/Spring-Boot","permalink":"https://www.kming6.com/categories/Java/Spring-Boot/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://www.kming6.com/tags/Java/"},{"name":"Spring","slug":"Spring","permalink":"https://www.kming6.com/tags/Spring/"},{"name":"Spring Boot","slug":"Spring-Boot","permalink":"https://www.kming6.com/tags/Spring-Boot/"},{"name":"SpringMVC","slug":"SpringMVC","permalink":"https://www.kming6.com/tags/SpringMVC/"},{"name":"Spring Bean","slug":"Spring-Bean","permalink":"https://www.kming6.com/tags/Spring-Bean/"},{"name":"æ³¨è§£","slug":"æ³¨è§£","permalink":"https://www.kming6.com/tags/æ³¨è§£/"}]},{"title":"scriptæ ‡ç­¾ä¸­çš„å±æ€§è§£æ","slug":"scriptæ ‡ç­¾ä¸­çš„å±æ€§è§£æ","date":"2019-12-25T22:05:51.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"posts/13123/","link":"","permalink":"https://www.kming6.com/posts/13123/","excerpt":"ä½¿ç”¨Scriptæ ‡ç­¾å¯¼å…¥JSçš„æ—¶å€™ï¼Œå¶å°”ä¼šçœ‹åˆ°æ ‡ç­¾ä¸­å¸¦æœ‰asyncã€deferã€integrityã€crossoriginå’Œonerrorçš„å±æ€§ï¼Œä¸€æ—¶å¥½å¥‡å°±èŠ±æ—¶é—´ç ”ç©¶äº†ä¸€ä¸‹ã€‚","text":"ä½¿ç”¨Scriptæ ‡ç­¾å¯¼å…¥JSçš„æ—¶å€™ï¼Œå¶å°”ä¼šçœ‹åˆ°æ ‡ç­¾ä¸­å¸¦æœ‰asyncã€deferã€integrityã€crossoriginå’Œonerrorçš„å±æ€§ï¼Œä¸€æ—¶å¥½å¥‡å°±èŠ±æ—¶é—´ç ”ç©¶äº†ä¸€ä¸‹ã€‚ æ²¡æœ‰ä»»ä½•å±æ€§çš„scriptå¯¼å…¥JSä»£ç çš„HTMLä»£ç  1&lt;script src=\"app.js\"&gt;&lt;/script&gt; æ²¡æœ‰æ·»åŠ  asyncã€defer ç­‰ä»»ä½•å±æ€§æ—¶ï¼Œæµè§ˆå™¨ä¼šæŒ‰ç…§é¡ºåºè§£æHTMLæ–‡æ¡£ï¼Œå½“è§£æåˆ°JSæ—¶ï¼Œä¼šç«‹å³æ‰§è¡ŒJSä»£ç ï¼Œé˜»æ­¢åé¢æ–‡æ¡£çš„è§£æ,å¦‚æœJSä»£ç ä¸­æœ‰æ“ä½œç›¸å…³HTMLæ–‡æ¡£ä»£ç ï¼ŒJSä¼šç”±äºè§£æä¸åˆ°è¯¥HTMLæ–‡æ¡£è€ŒæŠ¥é”™ã€‚ 12345&lt;script src=\"a.js\"&gt;&lt;/script&gt;&lt;script&gt; console.log('b')&lt;/script&gt;&lt;script src=\"c.js\"&gt;&lt;/script&gt; æµè§ˆå™¨åœ¨è§£æåˆ°ä¸Šé¢çš„ script æ ‡ç­¾æ—¶ä¼šé˜»æ­¢ HTML é¡µé¢æ–‡æ¡£è§£æï¼Œå¹¶è¡Œçš„ä¸‹è½½ a.js, c.jsï¼Œä¾æ¬¡æ‰§è¡Œ a.js, console.log(â€˜bâ€™), c.js åï¼Œæ‰ä¼šç»§ç»­è§£ææ¸²æŸ“åç»­çš„é¡µé¢æ–‡æ¡£ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä½ ä¼šç»å¸¸çœ‹åˆ°ä¸€äº›å»ºè®®ï¼Œéœ€è¦å°† DOM æ“ä½œçš„ js è¦æ”¾åœ¨ body æ ‡ç­¾çš„æœ€åï¼ŒåŸå› å°±æ˜¯ä¸é˜»å¡ HTML æ–‡æ¡£çš„è§£æï¼Œä½¿é¡µé¢æ›´å¿«çš„æ¸²æŸ“åœ¨æµè§ˆå™¨ä¸Šã€‚ asyncå±æ€§ async åªé€‚ç”¨äºå¤–éƒ¨é“¾æ¥çš„è„šæ­¥æ–‡ä»¶ï¼Œå†…è”JSæ–‡ä»¶ä¸èµ·ä½œç”¨ï¼Œè§„å®šè„šæœ¬å¼‚æ­¥åŠ è½½ åŠ è½½è¿‡ç¨‹ä¸ä¼šé˜»å¡HTMLé¡µé¢è§£æ åŠ è½½å®Œæˆä¼šç«‹å³æ‰§è¡Œï¼Œæ‰§è¡Œæ—¶å°†é˜»å¡HTMLé¡µé¢è§£æ å…ˆä¸‹è½½å®Œæˆå…ˆæ‰§è¡Œ ç”±äºåŠ è½½æ—¶é—´çš„é•¿çŸ­ä¸ä¸€è‡´ï¼Œæ‰§è¡Œçš„é¡ºåºå¯èƒ½ä¸ä¼šæŒ‰ç…§æ–‡æ¡£é¡ºåºæ‰§è¡Œ æ‰§è¡ŒJSçš„æ—¶å€™ï¼Œå¯èƒ½HTMLè¿˜æ²¡æœ‰è§£æå®Œ 1&lt;script async src=\"app.js\"&gt;&lt;/script&gt; å¸¦ async çš„ script æ ‡ç­¾ï¼ŒåŠ è½½å’Œæ¸²æŸ“åç»­æ–‡æ¡£å…ƒç´ çš„è¿‡ç¨‹å°†å’Œè„šæœ¬çš„åŠ è½½å¹¶è¡Œè¿›è¡Œï¼ˆå¼‚æ­¥åŠ è½½JSä»£ç ï¼‰ï¼Œä½†JSè„šæœ¬çš„åŠ è½½å®Œæˆåä¼šé©¬ä¸Šæ‰§è¡Œï¼Œè€ŒJSæ‰§è¡Œæ—¶ä¼šé˜»å¡ HTML æ–‡æ¡£çš„è§£æã€‚ å…¼å®¹æ€§ï¼šasync attribute for external scripts deferå±æ€§ defer åªé€‚ç”¨äºå¤–éƒ¨é“¾æ¥çš„è„šæ­¥æ–‡ä»¶ï¼Œå†…è”JSæ–‡ä»¶ä¸èµ·ä½œç”¨ï¼Œè§„å®šè„šæœ¬å»¶è¿Ÿæ‰§è¡Œ ä¸ä¼šé˜»å¡HTMLé¡µé¢çš„è§£æ åœ¨ HTML è§£æå®Œæˆå, DOMContentLoaded äº‹ä»¶ä¹‹å‰æ‰§è¡Œ ä¼šæŒ‰ç…§JSè„šæœ¬å‡ºç°çš„é¡ºåºä¾æ¬¡æ‰§è¡Œ 1&lt;script defer src=\"app.js\"&gt;&lt;/script&gt; åŠ ä¸Š defer å±æ€§çš„ script æ ‡ç­¾ï¼ŒåŠ è½½åç»­HTMLæ–‡æ¡£å…ƒç´ çš„è¿‡ç¨‹å’Œè„šæœ¬çš„åŠ è½½è¿‡ç¨‹å¹¶è¡Œè¿›è¡Œï¼ˆå¼‚æ­¥ï¼‰ï¼Œå’Œ async å±æ€§ä¸åŒçš„æ˜¯ï¼Œdefer å±æ€§è„šæœ¬ä¼šåœ¨æ‰€æœ‰å…ƒç´ è§£æå®Œæˆä¹‹åæ‰æ‰§è¡Œï¼Œåœ¨ DOMContentLoaded äº‹ä»¶è§¦å‘ä¹‹å‰å®Œæˆã€‚ å…¼å®¹æ€§ï¼šdefer attribute for external scripts async å’Œ defer å±æ€§çš„åŒºåˆ« defer å’Œ async éƒ½æ˜¯å¹¶è¡ŒåŠ è½½çš„ï¼Œä¸åŒçš„æ˜¯åŠ è½½å®Œæˆåçš„æ‰§è¡Œæ—¶æœºã€‚ async å±æ€§çš„è„šæœ¬åœ¨å®ƒåŠ è½½ç»“æŸå°±ä¼šç«‹åˆ»æ‰§è¡Œï¼Œå› åŠ è½½æ—¶é—´çš„ä¸åŒï¼Œæ‰€ä»¥å¯èƒ½å‡ºç°è„šæœ¬æ‰§è¡Œé¡ºåºä¸ä¸€è‡´çš„æƒ…å†µ æ¯ä¸€ä¸ª defer å±æ€§çš„è„šæœ¬ä¼šåœ¨ HTML æ–‡æ¡£è§£æå®Œæˆå, DOMContentLoaded äº‹ä»¶ä¹‹å‰æ‰§è¡Œï¼ŒæŒ‰ç…§ DOM ä¸­çš„é¡ºåºæ‰§è¡Œ defer å’Œ async éƒ½åªé€‚ç”¨äºå¤–éƒ¨é“¾æ¥çš„è„šæœ¬æ–‡ä»¶ï¼Œå¯¹ä¸å†…è”çš„ script æ ‡ç­¾æ²¡æœ‰ä½œç”¨ type=module çš„ script æ ‡ç­¾ ç›¸æ¯”ä¸€èˆ¬ script ï¼Œ&lt;script type=&quot;module&quot;&gt;&lt;/script&gt; å°†è¢«å½“ä½œä¸€ä¸ª JavaScript æ¨¡å—å¯¹å¾…ï¼Œä¸å— charset å’Œ defer å±æ€§å½±å“ï¼Œç§°ä¸º module scriptã€‚ 123456789101112// app.jsimport &#123; assign &#125; from \"./utils.js\"var obj = Object.create( &#123; foo: 'a' &#125;, &#123; baa: &#123; value: 'b' &#125;, bab: &#123; value: 'c' &#125; &#125;,)var cp = assign(&#123;&#125;, obj)console.log(cp) 12&lt;script type=\"module\" src=\"app.js\"&gt;&lt;/script&gt;&lt;script nomodule src=\"foo.js\"&gt;&lt;/script&gt; å…³äºtype=moduleï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼š æ”¯æŒ module script çš„æµè§ˆå™¨ï¼Œä¸ä¼šæ‰§è¡Œæ‹¥æœ‰ nomodule å±æ€§çš„è„šæœ¬ ä¸æ”¯æŒ module script çš„æµè§ˆå™¨ï¼Œä¼šå¿½ç•¥æœªçŸ¥çš„ type=â€moduleâ€ çš„ scriptï¼ŒåŒæ—¶ä¹Ÿä¼šå¿½ç•¥ä¼ ç»Ÿ script ä¸­ä¸è®¤è¯†çš„ nomodule å±æ€§ï¼Œè¿›è€Œæ‰§è¡Œå¸¸è§„çš„ foo.js ä»£ç  module script ä»¥åŠå…¶ä¾èµ–æ‰€æœ‰æ–‡ä»¶ï¼ˆæºæ–‡ä»¶ä¸­é€šè¿‡ import å£°æ˜å¯¼å…¥çš„æ–‡ä»¶ï¼‰éƒ½ä¼šè¢«ä¸‹è½½ï¼Œä¸€æ—¦æ•´ä¸ªä¾èµ–çš„æ¨¡å—æ ‘éƒ½è¢«å¯¼å…¥ï¼Œé¡µé¢æ–‡æ¡£ä¹Ÿå®Œæˆè§£æï¼Œapp.js å°†ä¼šè¢«æ‰§è¡Œ ä½†æ˜¯å¦‚æœ module script é‡Œæœ‰ async å±æ€§ï¼Œæ¯”å¦‚ &lt;script type=&quot;module&quot; src=&quot;util.js&quot; async&gt;&lt;/script&gt; ï¼Œmodule script åŠå…¶æ‰€æœ‰ä¾èµ–éƒ½ä¼šå¼‚æ­¥ä¸‹è½½ï¼Œç­‰å¾…æ•´ä¸ªä¾èµ–çš„æ¨¡å—æ ‘éƒ½è¢«å¯¼å…¥æ—¶å°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ­¤æ—¶é¡µé¢æœ‰å¯èƒ½è¿˜æ²¡æœ‰å®Œæˆè§£ææ¸²æŸ“ã€‚ å…¼å®¹æ€§ï¼šJavaScript modules via script tag å‚è€ƒå›¾ç‰‡(å›¾ç‰‡å–è‡ªäº’è”ç½‘) æ ¹æ®å›¾ç‰‡æ€»ç»“ï¼š ä½¿ç”¨ &lt;script&gt; ï¼Œè„šæœ¬ä¸‹è½½å’Œæ‰§è¡Œä¼šé˜»å¡ HTML æ–‡æ¡£çš„è§£æã€‚ ä½¿ç”¨ &lt;script defer&gt; ï¼Œè„šæœ¬ä¸‹è½½ä¸ HTML è§£æå¹¶è¡Œï¼Œç­‰ HTML è§£æå®Œæˆåæ²¡è„šæœ¬éƒ½ä¼šæœ‰åºæ‰§è¡Œã€‚ ä½¿ç”¨ &lt;script async&gt; ï¼Œè„šæœ¬ä¸‹è½½ä¸ HTML è§£æå¹¶è¡Œï¼Œä½†ä¸€æ—¦è„šæœ¬åŠ è½½å®Œæˆï¼Œå°±ä¼šä¸­æ–­ HTML è§£æï¼Œå¼€å§‹æ‰§è¡Œè„šæœ¬ã€‚ &lt;script type =&quot;module&quot;&gt; çš„è¡Œä¸ºç±»ä¼¼äº &lt;script defer&gt; ï¼Œä½†æ˜¯æ¨¡å—ä¾èµ–å…³ç³»ä¹Ÿä¼šè¢«ä¸‹è½½ï¼Œ &lt;script type =&quot;module&quot; async&gt; çš„è¡Œä¸ºç±»ä¼¼äº &lt;script async&gt;ï¼Œé¢å¤–çš„æ¨¡å—ä¾èµ–å…³ç³»ä¹Ÿä¼šè¢«ä¸‹è½½ã€‚ integrity å±æ€§1&lt;script crossorigin=\"anonymous\" src=\"//instant.page/3.0.0\" type=\"module\" defer integrity=\"sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1\"&gt;&lt;/script&gt; integrity å±æ€§æ˜¯èµ„æºå®Œæ•´æ€§è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå…è®¸ä½ ä¸º script æä¾›ä¸€ä¸ª hashï¼Œç”¨æ¥è¿›è¡ŒéªŒç­¾ï¼Œæ£€éªŒåŠ è½½çš„JavaScript æ–‡ä»¶æ˜¯å¦å®Œæ•´ã€‚ ä¸Šé¢çš„ä»£ç ï¼Œintegrityä¸ºä¸€ä¸ªhashå€¼ï¼Œç”¨æ¥å‘Šè¯‰æµè§ˆå™¨ï¼Œä½¿ç”¨sha256ç­¾åç®—æ³•å¯¹ä¸‹è½½çš„jsæ–‡ä»¶è¿›è¡Œè®¡ç®—ï¼Œå¹¶ä¸intergrityæä¾›çš„æ‘˜è¦ç­¾åå¯¹æ¯”æ ¡éªŒï¼Œå¦‚æœäºŒè€…ä¸ä¸€è‡´ï¼Œå°±ä¸ä¼šæ‰§è¡Œè¿™ä¸ªèµ„æºã€‚ intergrity çš„ä½œç”¨ï¼š å‡å°‘ç”±æ‰˜ç®¡åœ¨CDNçš„èµ„æºè¢«ç¯¡æ”¹è€Œå¼•å…¥çš„XSSçš„é£é™© å‡å°‘é€šä¿¡è¿‡ç¨‹èµ„æºè¢«ç¯¡æ”¹è€Œå¼•å…¥çš„XSSé£é™©ï¼ˆåŒæ—¶ä½¿ç”¨httpsä¼šæ›´ä¿é™©ï¼‰ å¯ä»¥é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µï¼Œä¸æ‰§è¡Œæœ‰è„æ•°æ®çš„CDNèµ„æºï¼ŒåŒæ—¶å»æºç«™ä¸‹è½½å¯¹åº”èµ„æº crossorigin å±æ€§crossorigin çš„å±æ€§å€¼å¯ä»¥æ˜¯ anonymousã€use-credentialsï¼Œå¦‚æœæ²¡æœ‰å±æ€§å€¼æˆ–è€…éæ³•å±æ€§å€¼ï¼Œä¼šè¢«æµè§ˆå™¨é»˜è®¤åšanonymousã€‚ crossoriginçš„ä½œç”¨æœ‰ä¸‰ä¸ªï¼š crossorigin ä¼šè®©æµè§ˆå™¨å¯ç”¨CORSè®¿é—®æ£€æŸ¥ï¼Œæ£€æŸ¥httpç›¸åº”å¤´çš„ Access-Control-Allow-Origin å¯¹äºä¼ ç»Ÿ script éœ€è¦è·¨åŸŸè·å–çš„jsèµ„æºï¼Œæ§åˆ¶æš´éœ²å‡ºå…¶æŠ¥é”™çš„è¯¦ç»†ä¿¡æ¯ å¯¹äº module script ï¼Œæ§åˆ¶ç”¨äºè·¨åŸŸè¯·æ±‚çš„å‡­æ®æ¨¡å¼ onerror å±æ€§ JavaScriptè¿è¡Œæ—¶çš„é”™è¯¯ï¼ˆæŠ›å‡ºçš„è¯­æ³•é”™è¯¯å’Œå¼‚å¸¸ï¼‰å‘ç”Ÿæ—¶ï¼Œå®ç°äº†ErrorEventæ¥å£çš„erroräº‹ä»¶åœ¨windowä¸Šè§¦å‘ï¼Œå¹¶ä¸”è°ƒç”¨window.onerror(æˆ–è€…window.addEventListener(â€˜errorâ€™, callback))çš„å›è°ƒå‡½æ•° å½“èµ„æºï¼ˆå¦‚ &lt;img&gt; æˆ– &lt;script&gt; ï¼‰æ— æ³•åŠ è½½ï¼Œæˆ–è€…å¯ç”¨SRIç­–ç•¥èµ„æºä¸å®Œæ•´æ—¶ï¼Œä½¿ç”¨Eventæ¥å£çš„erroräº‹ä»¶åœ¨ä¼šåœ¨è¯¥èµ„æºå…ƒç´ å¤„è§¦å‘ï¼Œå…ƒç´ ä¸Šçš„ onerror å›è°ƒå‡½æ•°è¢«è°ƒç”¨ script æ ‡ç­¾ä¸ innerHTMLé€šè¿‡ innerHTML åŠ¨æ€æ·»åŠ åˆ°é¡µé¢ä¸Šçš„ script æ ‡ç­¾åˆ™ä¸ä¼šè¢«æ‰§è¡Œ åœ¨æ”¶é›†é”™è¯¯æ—¥å¿—çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šåœ¨windowä¸Šæ³¨å†Œä¸€ä¸ªæ–¹æ³•æ¥ç›‘æµ‹æ‰€æœ‰ä»£ç æŠ›å‡ºçš„å¼‚å¸¸ï¼š 123456789101112131415161718window.addEventListener('error', function(msg, url, lineno, colno, error) &#123; var string = msg.toLowerCase() var substring = \"script error\" if (string.indexOf(substring) &gt; -1)&#123; alert('Script Error: See Browser Console for Detail') &#125; else &#123; var message = &#123; Message: msg, URL: url, Line: lineNo, Column: columnNo, 'Error object': JSON.stringify(error) &#125; // send error log to server record(message) &#125; return false&#125;) ä½†æ˜¯å¯¹äºè·¨åŸŸjsæ¥è¯´ï¼Œåªä¼šç»™å‡ºå¾ˆå°‘çš„æŠ¥é”™ä¿¡æ¯ï¼šâ€™error: script errorâ€™ï¼Œé€šè¿‡ä½¿ç”¨ crossorigin å±æ€§å¯ä»¥ä½¿è·¨åŸŸjsæš´éœ²å‡ºè·ŸåŒåŸŸjsåŒæ ·çš„æŠ¥é”™ä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œèµ„æºæœåŠ¡å™¨å¿…é¡»è¿”å›ä¸€ä¸ª Access-Control-Allow-Origin çš„headerï¼Œå¦åˆ™èµ„æºæ— æ³•è®¿é—®ã€‚ åŠ¨æ€å¯¼å…¥script(Dynamically importing scripts) 123456789101112function loadError (error) &#123; throw new URIError(`The script $&#123;error.target.src&#125; is not accessible.`)&#125;function importScript (src, onLoad) &#123; var script = document.createElement('script') script.onerror = loadError script.async = false if (onLoad) &#123; script.onload = onLoad &#125; document.header.appendChild(script) script.src = src&#125; å¯ä»¥ä¸Šé¢çš„æ–¹æ³•åŠ¨æ€åŠ è½½jsèµ„æºï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œé»˜è®¤ append åˆ°æ–‡æ¡£ä¸­çš„ script ä¼šå¼‚æ­¥æ‰§è¡Œï¼ˆå¯ä»¥ç†è§£ä¸ºé»˜è®¤æ‹¥æœ‰ async å±æ€§ï¼Œå¦‚æœéœ€è¦åŠ è½½çš„jsæŒ‰é¡ºåºæ‰§è¡Œï¼Œéœ€è¦è®¾ç½® async ä¸º false ï¼‰","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://www.kming6.com/categories/JavaScript/"}],"tags":[{"name":"scriptæ ‡ç­¾","slug":"scriptæ ‡ç­¾","permalink":"https://www.kming6.com/tags/scriptæ ‡ç­¾/"}]},{"title":"Vimå…¥é—¨æŒ‡å—","slug":"Vimå…¥é—¨æŒ‡å—","date":"2019-11-23T08:52:48.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"posts/25813/","link":"","permalink":"https://www.kming6.com/posts/25813/","excerpt":"Vimæ˜¯ä¸€æ¬¾å¾ˆè€çš„ç¼–è¾‘å™¨ï¼Œä½†æ—¶è‡³ä»Šæ—¥è¿˜éå¸¸æµè¡Œï¼Œä»¥å‰çš„Dreamweaverã€Sublime Textåˆ°ç°åœ¨çš„VS codeã€Hbuilderï¼Œä¸å°‘ç¼–è¾‘å™¨éƒ½æœ‰Vimçš„æ’ä»¶ï¼Œå¯ä»¥æ”¯æŒVimçš„ä½¿ç”¨æ–¹å¼ã€‚è€Œä¸”ç°åœ¨æœåŠ¡å™¨ä¸Šçš„ç¼–è¾‘åŸºæœ¬éƒ½é»˜è®¤å¸¦æœ‰Vimï¼Œä¸å¯èƒ½æœ‰å…¶ä»–å›¾å½¢åŒ–çš„ç¼–è¾‘å™¨ï¼Œæ‰€ä»¥å­¦ä¹ äº†è§£Vimè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚","text":"Vimæ˜¯ä¸€æ¬¾å¾ˆè€çš„ç¼–è¾‘å™¨ï¼Œä½†æ—¶è‡³ä»Šæ—¥è¿˜éå¸¸æµè¡Œï¼Œä»¥å‰çš„Dreamweaverã€Sublime Textåˆ°ç°åœ¨çš„VS codeã€Hbuilderï¼Œä¸å°‘ç¼–è¾‘å™¨éƒ½æœ‰Vimçš„æ’ä»¶ï¼Œå¯ä»¥æ”¯æŒVimçš„ä½¿ç”¨æ–¹å¼ã€‚è€Œä¸”ç°åœ¨æœåŠ¡å™¨ä¸Šçš„ç¼–è¾‘åŸºæœ¬éƒ½é»˜è®¤å¸¦æœ‰Vimï¼Œä¸å¯èƒ½æœ‰å…¶ä»–å›¾å½¢åŒ–çš„ç¼–è¾‘å™¨ï¼Œæ‰€ä»¥å­¦ä¹ äº†è§£Vimè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ vi/vim çš„åŸºæœ¬ä½¿ç”¨åŸºæœ¬ä¸Š vi/vim å…±åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯å‘½ä»¤æ¨¡å¼ï¼ˆCommand/normal modeï¼‰ï¼Œè¾“å…¥/æ’å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰å’Œåº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰ã€‚ è¿™ä¸‰ç§æ¨¡å¼çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š Vimè¿›å…¥ç¼–è¾‘æ¨¡å¼çš„æ–¹å¼ i (insert)å…‰æ ‡å‰è¾“å…¥ a (append)å…‰æ ‡åè¿½åŠ è¾“å…¥ o (open a line below)å…‰æ ‡ä¸‹ä¸€è¡Œè¾“å…¥ A (append after line)å…‰æ ‡æ‰€åœ¨è¡Œæœ«å°¾è¾“å…¥ I (insert before line)å…‰æ ‡æ‰€åœ¨è¡Œè¡Œé¦–è¾“å…¥ O (append line above)å…‰æ ‡æ‰€åœ¨è¡Œä¸Šä¸€è¡Œè¾“å…¥ Vimç¼–è¾‘æ¨¡å¼å°æŠ€å·§Vimè®¾ç½®123456# æ‰“å¼€è¯­æ³•é«˜äº®:syntax on# æ‰“å¼€æœç´¢é«˜äº®(highlight search):set hls# æ‰“å¼€å¢é‡æœç´¢:set incsearch å¦‚ä½•å¿«é€Ÿçº é”™ ctrl + håˆ é™¤ä¸Šä¸€ä¸ªå­—ç¬¦ ctrl + wåˆ é™¤ä¸Šä¸€ä¸ªå•è¯ ctrl + uåˆ é™¤å½“å‰è¡Œ Vimå¿«é€Ÿç§»åŠ¨ hå·¦ç§» jä¸‹ç§» kä¸Šç§» lå³ç§» åœ¨å•è¯é—´åˆ‡æ¢ w/W ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªword/WORDå¼€å¤´ï¼Œe/Eç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªword/WORDç»“å°¾ b/B å›åˆ°ä¸Šä¸€ä¸ªword/WORDå¼€å¤´ï¼Œå¯ä»¥ç†è§£ä¸ºbackword wordæŒ‡çš„æ˜¯ä»¥éç©ºç™½ç¬¦åˆ†å‰²çš„å•è¯ï¼ŒWORDä»¥ç©ºç™½ç¬¦åˆ†å‰²çš„å•è¯ è¡Œé—´æœç´¢ç§»åŠ¨ åŒä¸€è¡Œå¿«é€Ÿç§»åŠ¨çš„æ–¹å¼æ˜¯æœç´¢ä¸€ä¸ªå­—ç¬¦å¹¶ä¸”å¿«é€Ÿç§»åŠ¨åˆ°è¯¥å­—ç¬¦ ä½¿ç”¨f{char}å¯ä»¥ç§»åŠ¨åˆ°charå­—ç¬¦ä¸Šï¼Œtç§»åŠ¨åˆ°charçš„å‰ä¸€ä¸ªå­—ç¬¦ å¦‚æœç¬¬ä¸€æ¬¡æ²¡æœåˆ°ï¼Œå¯ä»¥ç”¨åˆ†å·(;)/é€—å·(,)ç»§ç»­æœç´¢è¯¥è¡Œä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ª Fè¡¨ç¤ºåè¿‡æ¥æœç´¢å‰é¢çš„å­—ç¬¦ Vimæ°´å¹³ç§»åŠ¨ 0ç§»åŠ¨åˆ°è¡Œé¦–ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œ^ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦ $ç§»åŠ¨åˆ°è¡Œå°¾ï¼Œg_ç§»åŠ¨åˆ°è¡Œå°¾éç©ºç™½å­—ç¬¦ å¸¸ç”¨çš„0å’Œ$å°±å¯ä»¥æ»¡è¶³æ—¥å¸¸éœ€æ±‚ Vimå‚ç›´ç§»åŠ¨ å¯ä»¥å®‰è£…easy-motionæ’ä»¶ç§»åŠ¨ ä½¿ç”¨æ‹¬å·()åœ¨å¥å­é—´ç§»åŠ¨ ä½¿ç”¨{}åœ¨æ®µè½é—´ç§»åŠ¨ :helpå¯ä»¥æŸ¥çœ‹å¸®åŠ© é¡µé¢ç§»åŠ¨ gg/Gç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´å’Œç»“å°¾ Ctrl + oå¿«é€Ÿè¿”å› H/M/Lè·³è½¬åˆ°å±å¹•çš„å¼€å¤´(Head)ï¼Œä¸­é—´(Middle)å’Œç»“å°¾(Lower) Ctrl + u. Ctrl + f. ä¸Šä¸‹ç¿»é¡µã€‚(upword/forward)ã€‚zzç½®å±å¹•åˆ°ä¸­é—´ã€‚ Vimå¿«é€Ÿå¢åˆ æ”¹æŸ¥Vimæ–°å¢ i (insert)å…‰æ ‡å‰è¾“å…¥ a (append)å…‰æ ‡åè¿½åŠ è¾“å…¥ o (open a line below)å…‰æ ‡ä¸‹ä¸€è¡Œè¾“å…¥ A (append after line)å…‰æ ‡æ‰€åœ¨è¡Œæœ«å°¾è¾“å…¥ I (insert before line)å…‰æ ‡æ‰€åœ¨è¡Œè¡Œé¦–è¾“å…¥ O (append line above)å…‰æ ‡æ‰€åœ¨è¡Œä¸Šä¸€è¡Œè¾“å…¥ Vimåˆ é™¤ vimåœ¨normalæ¨¡å¼ä¸‹ä½¿ç”¨xåˆ é™¤ä¸€ä¸ªå­—ç¬¦ ä½¿ç”¨d(delete)é…åˆæ–‡æœ¬å¯¹è±¡åˆ é™¤ä¸€ä¸ªå•è¯daw/diw(ä¸åŒ…å«å•è¯åçš„ç©ºç™½)/dw(delete around word) ddåˆ é™¤ä¸€è¡Œ dt{char}åˆ é™¤åˆ°xçš„å†…å®¹(delete to char) d0åˆ é™¤åˆ°è¡Œé¦–ï¼Œd$åˆ é™¤åˆ°è¡Œå°¾ då’Œxé…åˆæ•°å­—æ¥æ‰§è¡Œå¤šæ¬¡ 2ddåˆ é™¤ä¸¤è¡Œï¼Œ4xåˆ é™¤4ä¸ªå­—ç¬¦ Vimä¿®æ”¹ å¸¸ç”¨r(replace)ï¼Œc(change)ï¼Œs(substitute) normalæ¨¡å¼ä¸‹ä½¿ç”¨ræ›¿æ¢ä¸€ä¸ªå­—ç¬¦ã€‚sæ›¿æ¢ä¸€ä¸ªå­—ç¬¦å¹¶è¿›å…¥æ’å…¥æ¨¡å¼(ç¼–è¾‘æ¨¡å¼) 4såˆ é™¤4ä¸ªå­—ç¬¦å¹¶è¿›å…¥æ’å…¥æ¨¡å¼ ä½¿ç”¨cé…åˆæ–‡æœ¬å¯¹è±¡å¿«é€Ÿè¿›è¡Œä¿®æ”¹ R(ä¿®æ”¹å…‰æ ‡ä½ç½®çš„å­—ç¬¦ï¼Œè¦†ç›–æ‰æ—§çš„å­—ç¬¦) S(åˆ é™¤å…‰æ ‡è¡Œï¼Œå¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼) caw/cw/ciw(åˆ é™¤å½“å‰å•è¯ï¼Œå¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼) C(åˆ é™¤åˆ°è¡Œå°¾ï¼Œå¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼) ct{char}(åˆ é™¤åˆ°charå­—ç¬¦ï¼Œå¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼) VimæŸ¥è¯¢ ä½¿ç”¨/æˆ–è€…?è¿›è¡Œå…ˆå‰æˆ–åå‘æœç´¢ ä½¿ç”¨n/Nè·³è½¬åˆ°ä¸‹ä¸€ä¸ªæˆ–è€…ä¸Šä¸€ä¸ªåŒ¹é… ä½¿ç”¨*æˆ–è€…#è¿›è¡Œå½“å‰å•è¯çš„å‘å‰å’Œå‘ååŒ¹é… Vimæœç´¢æ›¿æ¢ substituteå‘½ä»¤å…è®¸æŸ¥æ‰¾å¹¶æ›¿æ¢æ‰æ–‡æœ¬ï¼Œä¸”æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ 123:[range]s[ubstitute]/&#123;pattern&#125;/&#123;string&#125;/[flags]# å°†wordå•è¯æ›¿æ¢æˆreplace(ä¸åŒ…å«w_wordç±»å‹):% s/\\&lt;word\\&gt;/replace/g rangeè¡¨ç¤ºèŒƒå›´ï¼Œå¦‚ï¼š10,20è¡¨ç¤º10-20è¡Œï¼Œ%è¡¨ç¤ºå…¨éƒ¨ patternæ˜¯è¦æ›¿æ¢çš„æ¨¡å¼ï¼Œstringæ˜¯æ›¿æ¢åçš„å­—ç¬¦æ–‡æœ¬ flagså¸¸ç”¨çš„æ ‡å¿— g(global)è¡¨ç¤ºå…¨å±€èŒƒå›´æ‰§è¡Œ c(confirm)è¡¨ç¤ºç¡®è®¤ï¼Œå¯ä»¥ç¡®è®¤æˆ–è€…æ‹’ç»ä¿®æ”¹ n(number)æŠ¥å‘ŠåŒ¹é…åˆ°çš„æ¬¡æ•°è€Œä¸æ›¿æ¢ï¼Œå¯ä»¥æŸ¥è¯¢åŒ¹é…æ¬¡æ•° Vimå¤šæ–‡ä»¶æ“ä½œ å¤šæ–‡ä»¶æ“ä½œç›¸å…³åè¯ Bufferæ˜¯æŒ‡æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶çš„å†…å­˜ç¼“å†²åŒº Window(çª—å£)æ˜¯Bufferå¯è§†åŒ–çš„åˆ†å‰²åŒºåŸŸ Tabå¯ä»¥ç»„ç»‡çª—å£ä¸ºä¸€ä¸ªå·¥ä½œåŒº Vimçš„Bufferç¼“å†²åŒº Vimæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åä¼šåŠ è½½æ–‡ä»¶å†…å®¹åˆ°ç¼“å†²åŒº ä¹‹åçš„ä¿®æ”¹éƒ½æ˜¯é’ˆå¯¹å†…å­˜ä¸­çš„ç¼“å†²åŒºï¼Œå¹¶ä¸ä¼šç›´æ¥ä¿å­˜åˆ°æ–‡ä»¶ç£ç›˜ ç›´åˆ°åœ¨å‘½ä»¤æ¨¡å¼æ‰§è¡Œ:w(write)çš„æ—¶å€™æ‰ä¼šæŠŠä¿®æ”¹å†…å®¹å†™å…¥åˆ°æ–‡ä»¶é‡Œ bufferä¹‹é—´åˆ‡æ¢ ä½¿ç”¨:lsä¼šåˆ—ä¸¾å½“å‰çš„ç¼“å†²åŒº ä½¿ç”¨:b nè·³è½¬åˆ°ç¬¬nä¸ªç¼“å†²åŒº :bpre ä¸Šä¸€ä¸ª :bnext ä¸‹ä¸€ä¸ª :bfirst ç¬¬ä¸€ä¸ª :blast æœ€åä¸€ä¸ª ç”¨:b buffer_nameåŠ ä¸Štabè¡¥å…¨æ¥è·³è½¬ Vimçš„Windowçª—å£ Vimçª—å£æ˜¯å¯è§†åŒ–çš„åˆ†å‰²åŒºåŸŸ ä¸€ä¸ªç¼“å†²åŒºå¯ä»¥åˆ†å‰²æˆå¤šä¸ªçª—å£ï¼Œæ¯ä¸ªçª—å£å¯ä»¥æ‰“å¼€ä¸åŒçš„ç¼“å†²åŒº å‘½ä»¤ ç”¨é€” &lt; Ctrl + w &gt; s æ°´å¹³åˆ†å‰²ï¼Œæˆ–è€…:sp &lt; Ctrl + w &gt; v å‚ç›´åˆ†å‰²ï¼Œæˆ–è€…:vs &lt; Ctrl + w &gt; w åœ¨çª—å£é—´å¾ªç¯åˆ‡æ¢ &lt; Ctrl + w &gt; h åˆ‡æ¢åˆ°å·¦è¾¹çª—å£ &lt; Ctrl + w &gt; j åˆ‡æ¢åˆ°ä¸‹è¾¹çª—å£ &lt; Ctrl + w &gt; k åˆ‡æ¢åˆ°ä¸Šè¾¹çª—å£ &lt; Ctrl + w &gt; l åˆ‡æ¢åˆ°å³è¾¹çª—å£ &lt; Ctrl + w &gt; = ä½¿æ‰€æœ‰çª—å£ç™»é«˜ã€ç­‰å®½ &lt; Ctrl + w &gt; _ æœ€å¤§åŒ–æ´»åŠ¨çª—å£çš„é«˜åº¦ &lt; Ctrl + w &gt; | æœ€å¤§åŒ–æ´»åŠ¨çª—å£çš„å®½åº¦ [N]&lt; Ctrl + w &gt; _ æŠŠæ´»åŠ¨çª—å£çš„é«˜åº¦è®¾ä¸º[N]è¡Œ [N]&lt; Ctrl + w &gt; | æŠŠæ´»åŠ¨çª—å£çš„å®½åº¦è®¾ä¸º[N]åˆ— Vimçš„Tab(æ ‡ç­¾é¡µ)å°†çª—å£åˆ†ç»„ Vimçš„Tabæ˜¯å¯ä»¥å®¹çº³ä¸€ç³»åˆ—çª—å£çš„å®¹å™¨(:h tabpage) Vimçš„Tabå’Œå…¶ä»–ç¼–è¾‘å™¨ä¸å¤ªä¸€æ ·ï¼Œå¯ä»¥æ¯”å–»æˆLinuxçš„è™šæ‹Ÿæ¡Œé¢ æ¯”å¦‚ä¸€ä¸ªTabå…¨ç”¨æ¥ç¼–è¾‘Pythonæ–‡ä»¶ï¼Œä¸€ä¸ªTabå…¨æ˜¯HTMLæ–‡ä»¶ ç›¸æ¯”çª—å£ï¼ŒTabä¸€èˆ¬ç”¨çš„æ¯”è¾ƒå°‘ï¼ŒTabå¤ªå¤šç®¡ç†æ¯”è¾ƒéº»çƒ¦ Tab(æ ‡ç­¾é¡µ)æ“ä½œ Tabä½¿ç”¨ä¸å¤šï¼Œç®€å•äº†è§£å¸¸ç”¨çš„æ“ä½œ å‘½ä»¤ ç”¨é€” :tabe[dit] {filename} åœ¨æ–°æ ‡ç­¾é¡µä¸­å¤§å¼€{filename} &lt; Ctrl + w &gt;T æŠŠå½“å‰çª—å£ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°æ ‡ç­¾é¡µ :tabc[lose] å…³é—­å½“å‰æ ‡ç­¾é¡µåŠå…¶ä¸­çš„æ‰€æœ‰çª—å£ :tabo[nly] åªä¿ç•™æ´»åŠ¨æ ‡ç­¾é¡µï¼Œå…³é—­æ‰€æœ‰å…¶ä»–æ ‡ç­¾é¡µ å¦‚ä½•åˆ‡æ¢ä¸åŒçš„æ ‡ç­¾é¡µï¼Œä¸€èˆ¬ä¸¤ä¸ªå°±å¥½ï¼Œå¤ªå¤šåè€Œæ“ä½œç¹ç EXå‘½ä»¤ æ™®é€šæ¨¡å¼å‘½ä»¤ ç”¨é€” :tabn[ext] {N} {N}gt åˆ‡æ¢åˆ°ç¼–å·ä¸º{N}çš„æ ‡ç­¾é¡µ :tabn[ext] gt åˆ‡æ¢åˆ°ä¸‹ä¸€æ ‡ç­¾é¡µ :tabp[revious] gT åˆ‡æ¢åˆ°ä¸Šä¸€æ ‡ç­¾é¡µ Vimçš„å¤åˆ¶ç²˜è´´ä¸å¯„å­˜å™¨normalæ¨¡å¼ä¸‹å¤åˆ¶ç²˜è´´ normalæ¨¡å¼ä¸‹å¤åˆ¶ç²˜è´´åˆ†åˆ«ä½¿ç”¨y(yank)å’Œp(put)ï¼Œå‰ªè´´då’Œp ä½¿ç”¨v(visual)å‘½ä»¤é€‰ä¸­æ‰€è¦å¤åˆ¶çš„åœ°æ–¹ï¼Œç„¶åä½¿ç”¨pç²˜è´´ é…åˆæ–‡æœ¬å¯¹è±¡:æ¯”å¦‚ä½¿ç”¨yiwå¤åˆ¶ä¸€ä¸ªå•è¯ï¼Œyyå¤åˆ¶ä¸€è¡Œ Vimé‡Œçš„å‰ªè´´(cut)å¤åˆ¶(copy)ç²˜è´´(paste)åˆ†åˆ«æ˜¯delete/yank/put insertæ¨¡å¼ä¸‹å¤åˆ¶ç²˜è´´ å’Œå¹³å¸¸æ–‡æœ¬ç¼–è¾‘å™¨å·®ä¸å¤šï¼Œä½†ç²˜è´´å¯èƒ½ä¼šæœ‰ç¼©è¿›é—®é¢˜ :set autoindentè®¾ç½®è‡ªåŠ¨ç¼©è¿›ï¼Œä»£ç ç²˜è´´ç¼©è¿›è¿˜æ˜¯é”™ä¹± ä½¿ç”¨:set pasteåç²˜è´´ï¼Œä»£ç é”™ä¹±è§£å†³ï¼Œè‡ªåŠ¨ç¼©è¿›æ²¡äº†ï¼Œ:set nopasteåæ¢å¤ Vimçš„å¯„å­˜å™¨ Vimé‡Œæ“ä½œçš„æ˜¯å¯„å­˜å™¨è€Œä¸æ˜¯ç³»ç»Ÿå‰ªè´´æ¿ï¼Œå’Œå…¶ä»–ç¼–è¾‘å™¨ä¸åŒ é»˜è®¤ä½¿ç”¨dåˆ é™¤æˆ–è€…yå¤åˆ¶çš„å†…å®¹éƒ½æ”¾åˆ°æ— åå¯„å­˜å™¨ ç”¨xåˆ é™¤ä¸€ä¸ªå­—ç¬¦æ”¾åˆ°æ— åå¯„å­˜å™¨ï¼Œç„¶åpç²˜è´´ï¼Œå¯è°ƒæ¢ä¿©å­—ç¬¦ä½ç½® Vimä¸ä½¿ç”¨å•ä¸€çš„å‰ªè´´æ¿è¿›è¡Œå‰ªè´´ã€å¤åˆ¶ä¸ç²˜è´´ï¼Œè€Œæ˜¯å¤šç»„å¯„å­˜å™¨ é€šè¿‡&quot;{register}å‰ç¼€å¯ä»¥æŒ‡å®šå¯„å­˜å™¨ï¼Œä¸æŒ‡å®šé»˜è®¤ç”¨æ— åå¯„å­˜å™¨ ä½¿ç”¨&quot;ayiwå¤åˆ¶ä¸€ä¸ªå•è¯åˆ°å¯„å­˜å™¨aä¸­ï¼Œ&quot;bddåˆ é™¤å½“å‰è¡Œåˆ°å¯„å­˜å™¨bä¸­ Vimä¸­ &quot;&quot;è¡¨ç¤ºæ— åå¯„å­˜å™¨ï¼Œç¼ºçœä½¿ç”¨ã€‚&quot;&quot;pç­‰åŒäºp é™¤äº†æœ‰åçš„å¯„å­˜å™¨a-zï¼ŒVimä¸­è¿˜æœ‰ä¸€äº›å…¶ä»–å¸¸è§å¯„å­˜å™¨ å¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨&quot;0ä½¿ç”¨yå¤åˆ¶æ–‡æœ¬çš„åŒæ—¶ä¼šè¢«æ‹·è´åˆ°å¤åˆ¶å¯„å­˜å™¨0 ç³»ç»Ÿå‰ªè´´æ¿&quot;+å¯ä»¥åœ¨å¤åˆ¶å‰åŠ ä¸Š&quot;+å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿ å…¶ä»–å¯„å­˜å™¨å¦‚&quot;%å½“å‰æ–‡ä»¶åï¼Œ&quot;.ä¸Šæ¬¡æ’å…¥çš„æ–‡æœ¬ æŸ¥çœ‹æ˜¯å¦æ”¯æŒç³»ç»Ÿå‰ªè´´æ¿ 1234# è¾“å‡ºï¼š1æ”¯æŒ0ä¸æ”¯æŒ:echo has('clipboard')# è®¾ç½®vimç›´æ¥å¤åˆ¶ç²˜è´´ç³»ç»Ÿå‰ªè´´æ¿å†…å®¹:set clipboard=unnamed Vimå¼ºå¤§çš„å®(macro) - Vimçš„æ‰¹é‡ç¼–è¾‘ å®å¯ä»¥çœ‹å‡ºæ˜¯ä¸€ç³»åˆ—å‘½ä»¤çš„é›†åˆ å¯ä»¥ä½¿ç”¨å®å½•åˆ¶ä¸€ç³»åˆ—æ“ä½œï¼Œç„¶åå›æ”¾ å®å¯ä»¥éå¸¸æ–¹ä¾¿æŠŠä¸€ç³»åˆ—å‘½ä»¤ç”¨åœ¨å¤šæ–‡æœ¬ä¸Š å¦‚ä½•ä½¿ç”¨å® Vimä½¿ç”¨qæ¥å½•åˆ¶ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä½¿ç”¨qç»“æŸå½•åˆ¶ ä½¿ç”¨q{register}é€‰æ‹©è¦ä¿å­˜çš„å¯„å­˜å™¨ï¼ŒæŠŠå½•åˆ¶å‘½ä»¤ä¿å­˜å…¶ä¸­ ä½¿ç”¨@{register}å›æ”¾å¯„å­˜å™¨ä¸­ä¿å­˜çš„ä¸€ç³»åˆ—å‘½ä»¤ Vimçš„è¡¥å…¨ è¡¥å…¨æ˜¯æ ¹æ®å½“å‰ç¯å¢ƒä¸Šä¸‹æ–‡ç”±ç¼–è¾‘å™¨çŒœä½ æƒ³è¾“å…¥çš„ä¸œè¥¿ å¦‚è¡¥å…¨ä¸€ä¸ªå•è¯ã€æ–‡ä»¶åï¼Œæˆ–è€…ä»£ç ä¸­çš„å‡½æ•°åã€å˜é‡åç­‰ Vimä¸­æä¾›äº†å¤šç§è¡¥å…¨åŠŸèƒ½ï¼Œè¿˜å¯ä»¥ç”±æ’ä»¶æ‹“å±•åŠŸèƒ½å®ç°ä»£ç è¡¥å…¨ Vimä¸­æœ‰å¾ˆå¤šç§è¡¥å…¨æ–¹å¼ å‘½ä»¤ è¡¥å…¨ç±»å‹ &lt; Ctrl - n &gt; è¡¥å…¨å…³é”®å­— &lt; Ctrl - x &gt; &lt; Ctrl - n &gt; å½“å‰ç¼“å†²åŒºå…³é”®å­— &lt; Ctrl - x &gt; &lt; Ctrl - i &gt; åŒ…å«æ–‡ä»¶å…³é”®å­— &lt; Ctrl - x &gt; &lt; Ctrl - j &gt; æ ‡ç­¾æ–‡ä»¶å…³é”®å­— &lt; Ctrl - x &gt; &lt; Ctrl - k &gt; å­—å…¸æŸ¥æ‰¾ &lt; Ctrl - x &gt; &lt; Ctrl - l &gt; æ•´è¡Œè¡¥å…¨ &lt; Ctrl - x &gt; &lt; Ctrl - f &gt; æ–‡ä»¶åè¡¥å…¨ &lt; Ctrl - x &gt; &lt; Ctrl - o &gt; å…¨èƒ½(Omni)è¡¥å…¨ å¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹: ä½¿ç”¨ ctrl + n å’Œ ctrl + p è¡¥å…¨å•è¯ ä½¿ç”¨ ctrl + x å’Œ ctrl + f è¡¥å…¨æ–‡ä»¶å ä½¿ç”¨ ctrl + x å’Œ ctrl + o è¡¥å…¨ä»£ç ï¼Œéœ€è¦å¼€å¯æ–‡ä»¶ç±»å‹æ£€æŸ¥ï¼Œå®‰è£…æ’ä»¶ æ’å…¥æ–‡ä»¶å 1:r! echo % æ’å…¥æ–‡ä»¶åå…¨è·¯å¾„ 1:r! echo %:p more info 12:help read:help filename-modifiers ç»™Vimæ›´æ¢é…è‰² ä½¿ç”¨ï¼šcolorschemeæ˜¾ç¤ºå½“å‰çš„ä¸»é¢˜é…è‰²ï¼Œé»˜è®¤default ä½¿ç”¨ï¼šcolorscheme &lt;ctrl+d&gt; å¯ä»¥æ˜¾ç¤ºæ‰€æœ‰çš„é…è‰² ç”¨ï¼šcolorscheme é…è‰²åï¼Œå°±å¯ä»¥ä¿®æ”¹é…è‰² GitHubé…è‰² Vimçš„é…ç½® Vimé‡Œéå¸¸å¸¸ç”¨çš„è®¾ç½®ï¼Œå¦‚ï¼šset numberè®¾ç½®è¡Œå· åº•çº¿å‘½ä»¤æ¨¡å¼çš„é…ç½®éƒ½æ˜¯Vimé‡Œä¸´æ—¶è®¾ç½®ï¼Œæ²¡æ³•æŒä¹…åŒ– Vimrcæä¾›äº†ä¸€ç§æŒä¹…åŒ–é…ç½®çš„æ–¹å¼ ç¼–å†™Vimé…ç½®æ–‡ä»¶ Liunx/Unixä¸‹æ–°å»ºä¸€ä¸ªéšè—æ–‡ä»¶vim ~/.vimrc windowsç³»ç»Ÿvim $MYVIMRCï¼Œé€šè¿‡ç¯å¢ƒå˜é‡ç¼–è¾‘é…ç½®æ–‡ä»¶ Vimç›¸å…³é…ç½® å¸¸ç”¨è®¾ç½®ï¼Œå¦‚:set nuè®¾ç½®è¡Œå·ï¼Œcolorscheme hybridè®¾ç½®ä¸»é¢˜ å¸¸ç”¨Vimæ˜ å°„ï¼Œæ¯”å¦‚noremap &lt; leader &gt;w : w&lt; cr &gt; ä¿å­˜æ–‡ä»¶ è‡ªå®šä¹‰vimscriptå‡½æ•°å’Œæ’ä»¶é…ç½® vimrcé…ç½®å‚è€ƒ 1234567891011121314151617181920212223242526272829303132333435363738394041424344\" å¸¸ç”¨è®¾ç½®\" è®¾ç½®è¡Œå·set numbercolorscheme hybrid\" æŒ‰F2è¿›å…¥ç²˜è´´æ¨¡å¼set pastetoggle=&lt;F2&gt;\" é«˜äº®æœç´¢set hlsearch\" è®¾ç½®æŠ˜å æ–¹å¼set foldmethod=indent\" ä¸€äº›æ–¹ä¾¿çš„æ˜ å°„let mapleader=\",\"let g:mapleader=\",\"\" ä½¿ç”¨ jj è¿›å…¥normalæ¨¡å¼ï¼Œ`^è¡¨ç¤ºä¸Šä¸€æ¬¡ç¼–è¾‘æ¨¡å¼çš„ä½ç½®ï¼Œè¿™é‡Œè¿›å…¥normalæ¨¡å¼ä¿æŒå…‰æ ‡ä¸å˜inoremap jj &lt;Esc&gt;`^\" ä½¿ç”¨ leader+w ç›´æ¥ä¿å­˜inoremap &lt;leader&gt;w &lt;Esc&gt;:w&lt;cr&gt;noremap &lt;leader&gt;w :w&lt;cr&gt;\" åˆ‡æ¢ buffernnoremap &lt;silent&gt; [b :bprevious&lt;CR&gt;nnoremap &lt;silent&gt; [n :bnext&lt;CR&gt;\" ç”¨ ctrl+h/j/k/l swith windownoremap &lt;C-h&gt; &lt;C-w&gt;hnoremap &lt;C-j&gt; &lt;C-w&gt;jnoremap &lt;C-k&gt; &lt;C-w&gt;knoremap &lt;C-l&gt; &lt;C-w&gt;l\" sudoæ–¹å¼å†™å…¥cnoremap w!! w !sudo tee % &gt;/dev/null\" jsonæ ¼å¼åŒ–com! FormatJSON %!python3 -m json.tool\" æ’ä»¶è®¾ç½®ï¼Œè¿™é‡Œä½¿ç”¨äº†vim-plugcall plug#begin('~/.vim/plugged')\" å®‰è£…æ’ä»¶åªéœ€è¦æŠŠ Github åœ°å€æ”¾åˆ°è¿™é‡Œé‡å¯åæ‰§è¡Œ :PlugInstallPlug 'mhinz/vim-startify'Plug 'scrooloose/nerdtrre'call plug#end() 12# æŸ¥çœ‹vimæ‰€æœ‰è®¾ç½®é€‰é¡¹:h option-list Vimä¸­çš„æ˜ å°„(ä¿®æ”¹é»˜è®¤å¿«æ·é”®é…ç½®) Vimä¸­æ˜ å°„å¤æ‚ï¼Œæºäºvimæœ‰å¤šç§æ¨¡å¼ è®¾ç½®leaderé”®let mapleader = â€œ,â€ å¸¸ç”¨é€—å·æˆ–è€…ç©ºæ ¼ ç”¨inoremap &lt;leader&gt;w &lt;Esc&gt;:w&lt;cr&gt; åœ¨æ’å…¥æ¨¡å¼ä¿å­˜ åŸºæœ¬æ˜ å°„ ä½¿ç”¨mapï¼Œå¦‚:map - xç„¶åæŒ‰-å°±ä¼šåˆ é™¤å­—ç¬¦ :map &lt;sapce&gt; viw æ˜ å°„vimç©ºæ ¼é€‰ä¸­æ•´ä¸ªå•è¯ :map &lt;c-d&gt; dd å°±å¯ä»¥ä½¿ç”¨ctrl + dæ‰§è¡Œddåˆ é™¤ä¸€è¡Œ :unmap -å–æ¶ˆ-çš„æ˜ å°„ å¸¸ç”¨æ¨¡å¼normal/visual/insertæ¨¡å¼å®šä¹‰æ˜ å°„ ç”¨nmap/vmap/imapå®šä¹‰æ˜ å°„åªåœ¨normal/visual/insertæ¨¡å¼åˆ†åˆ«æœ‰æ•ˆ :vmap \\ UæŠŠåœ¨visualæ¨¡å¼ä¸‹é€‰ä¸­çš„æ–‡æœ¬å¤§å°(u/Uè½¬æ¢å¤§å°å†™) é€’å½’è§£é‡Šï¼Œ\\å°†åˆ é™¤æ•´è¡Œ 12:nmap - dd:nmap \\ - éé€’å½’æ˜ å°„ ä½¿ç”¨nnoremap/vnoremap/inoremapæ˜ å°„ å°½é‡å…¨éƒ¨ä½¿ç”¨éé€’å½’æ˜ å°„ Vimå¦‚ä½•å®‰è£…æ’ä»¶ ç›´æ¥é€šè¿‡cloneæ’ä»¶ä»£ç ,é€‰æ‹©ä¸€ä¸ªæ’ä»¶ç®¡ç†å™¨ å¸¸è§çš„æœ‰vim-plugï¼ŒVundleï¼ŒPathogenï¼ŒDein.Vimï¼Œvoltç­‰ æ¨èvim-plug vim-plugæ’ä»¶å®‰è£… vim-plug GitHubåœ°å€ Unixå®‰è£… 12curl -fLo ~/.vim/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim Windows (PowerShell)å®‰è£… 12345678md ~\\vimfiles\\autoload$uri = 'https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'(New-Object Net.WebClient).DownloadFile( $uri, $ExecutionContext.SessionState.Path.GetUnresolvedProviderPathFromPSPath( \"~\\vimfiles\\autoload\\plug.vim\" )) .vimrcä¸­é…ç½®ç¤ºä¾‹ 12345678910111213141516171819202122232425262728293031323334353637\" Specify a directory for plugins\" - For Neovim: stdpath('data') . '/plugged'\" - Avoid using standard Vim directory names like 'plugin'call plug#begin('~/.vim/plugged')\" Make sure you use single quotes\" Shorthand notation; fetches https://github.com/junegunn/vim-easy-alignPlug 'junegunn/vim-easy-align'\" Any valid git URL is allowedPlug 'https://github.com/junegunn/vim-github-dashboard.git'\" Multiple Plug commands can be written in a single line using | separatorsPlug 'SirVer/ultisnips' | Plug 'honza/vim-snippets'\" On-demand loadingPlug 'scrooloose/nerdtree', &#123; 'on': 'NERDTreeToggle' &#125;Plug 'tpope/vim-fireplace', &#123; 'for': 'clojure' &#125;\" Using a non-master branchPlug 'rdnetto/YCM-Generator', &#123; 'branch': 'stable' &#125;\" Using a tagged release; wildcard allowed (requires git 1.9.2 or above)Plug 'fatih/vim-go', &#123; 'tag': '*' &#125;\" Plugin optionsPlug 'nsf/gocode', &#123; 'tag': 'v.20150303', 'rtp': 'vim' &#125;\" Plugin outside ~/.vim/plugged with post-update hookPlug 'junegunn/fzf', &#123; 'dir': '~/.fzf', 'do': './install --all' &#125;\" Unmanaged plugin (manually installed and updated)Plug '~/my-prototype-plugin'\" Initialize plugin systemcall plug#end() é‡æ–°åŠ è½½source .vimrcå¹¶ä¸”åœ¨vimå‘½ä»¤è¡Œæ‰§è¡Œ:PlugInstallå®‰è£…æ’ä»¶. æ¨èvimæ’ä»¶ vim-startifyä¿®æ”¹å¯åŠ¨ç•Œé¢ vim-airlineçŠ¶æ€æ ç¾åŒ– indentlineå¢åŠ ä»£ç ç¼©è¿›çº¿æ¡ hybirdé…è‰² solarizedé…è‰² gruvboxé…è‰² ctrlpæ¨¡ç³Šæœç´¢æ–‡ä»¶å¹¶æ‰“å¼€ easymotionç§»åŠ¨è·³è½¬æ’ä»¶ surroundå¿«é€Ÿç¼–è¾‘æˆå¯¹çš„ç¬¦å· fzfæ¨¡ç³Šæœç´¢å·¥å…· faræœç´¢æ›¿æ¢å·¥å…· vim-go golangè¯­è¨€æ’ä»¶ python-mode pythonè¯­è¨€æ’ä»¶ tagbarä»£ç å¤§çº²æµè§ˆæ’ä»¶ interestingwordsé«˜äº®å˜é‡å•è¯ deopleteå¼‚æ­¥ä»£ç è¡¥å…¨ cocå¼ºå¤§çš„neovim/vim8è¡¥å…¨æ’ä»¶ï¼ŒLSPæ”¯æŒ neoformatä»£ç æ ¼å¼åŒ–æ’ä»¶ autoformatæ ¼å¼åŒ–æ’ä»¶ neomakeé™æ€æ£€æŸ¥æ’ä»¶ aleé™æ€æ£€æŸ¥lintæ’ä»¶ commentaryå¿«é€Ÿæ³¨é‡Šæ’ä»¶ fugitive vimçš„gitæ’ä»¶ vim-gitgutter vimæ˜¾ç¤ºæ–‡ä»¶æ”¹åŠ¨ gvå‘½ä»¤è¡ŒæŸ¥çœ‹æäº¤è®°å½• Vimé…ç½®æ¨è SpaceVim vim-config å¦‚ä½•æœå¯»vimæ’ä»¶ æœç´¢å¼•æ“æœç´¢æŸ¥æ‰¾æ’ä»¶ Vim Awesome ç½‘ä¸Šå¼€æºçš„vimé…ç½®å€Ÿé‰´æƒ³è¦çš„æ’ä»¶","categories":[{"name":"Vim","slug":"Vim","permalink":"https://www.kming6.com/categories/Vim/"}],"tags":[{"name":"Vim","slug":"Vim","permalink":"https://www.kming6.com/tags/Vim/"},{"name":"Vi","slug":"Vi","permalink":"https://www.kming6.com/tags/Vi/"}]},{"title":"gitå¸¸ç”¨æ“ä½œå’Œé—®é¢˜æ€»ç»“","slug":"gitå¸¸ç”¨æ“ä½œå‘½ä»¤","date":"2019-11-19T22:28:51.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"posts/19017/","link":"","permalink":"https://www.kming6.com/posts/19017/","excerpt":"","text":"æˆ‘ä»¬é¦–å…ˆå°†ä¸€ä¸ªå·²å­˜åœ¨çš„ Git ä»“åº“æ·»åŠ ä¸ºæ­£åœ¨å·¥ä½œçš„ä»“åº“çš„å­æ¨¡å—ã€‚ ä½ å¯ä»¥é€šè¿‡åœ¨ git submodule add å‘½ä»¤åé¢åŠ ä¸Šæƒ³è¦è·Ÿè¸ªçš„é¡¹ç›® URL æ¥æ·»åŠ æ–°çš„å­æ¨¡å—ã€‚ ä¾‹å¦‚æ·»åŠ ä¸€ä¸ªåä¸º â€œConnectorâ€ çš„åº“ã€‚ 1234567$ git submodule add https://github.com/xxx/ConnectorCloning into &apos;DbConnector&apos;...remote: Counting objects: 11, done.remote: Compressing objects: 100% (10/10), done.remote: Total 11 (delta 0), reused 11 (delta 0)Unpacking objects: 100% (11/11), done.Checking connectivity... done. 2ã€æ¯æ¬¡æ›´æ–°.gitmodulesæ–‡ä»¶, å¿…é¡»åŒæ­¥ä¸‹(git submodule sync), å¦åˆ™è¯†åˆ«ä¸åˆ°. 3ã€å¦‚ä½•ä¸ºä¸€ä¸ªé¡¹ç›®æ·»åŠ ä¸€ä¸ªå­é¡¹ç›®å‘¢? git submodule add é¡¹ç›®åœ°å€, ç„¶åpushåˆ°ä½ çš„è¿œç¨‹ä»“åº“(å¦‚gitlab/github)ï¼Œä½ å¯ä»¥åœ¨é¡¹ç›®é‡Œçœ‹åˆ°â€œå­é¡¹ç›®å+@+åºåˆ—å·â€çš„é“¾æ¥. 4ã€å¦‚ä½•åˆ é™¤submoduleå‘¢? 1git rm &lt;submodule-name&gt; || git submodule deinit &lt;submodule-name&gt; 5ã€ä¸€æ—¦ä¾èµ–çš„å­é¡¹ç›®è¿‡å¤š(æ¯”å¦‚80ä¸ª), è¯¥å¦‚ä½•æ‰¹é‡æ“ä½œå‘¢? 1234git submodule foreach &lt;command&gt; eg: git submodule foreach git checkout master# è¯¥å‘½ä»¤ä¼šæŒ‰ç…§.gitmodulesé‡Œçš„pathå¯»æ‰¾æ‰€æœ‰çš„ä¸‰æ–¹æ¨¡å—,å¹¶åœ¨æ¯ä¸€ä¸ªæ¨¡å—ä¸­éƒ½æ‰§è¡Œforeachåçš„å‘½ä»¤eg: git submodule foreach git submodule update 6ã€æ›´æ–°äº†å­é¡¹ç›®, é‚£ä¹ˆçˆ¶é¡¹ç›®ä¹Ÿéœ€è¦æ›´æ–°. å³å­é¡¹ç›®å±äºçˆ¶é¡¹ç›®çš„ä¸€éƒ¨åˆ†, åœ¨å­é¡¹ç›®commitå, çˆ¶ä¹Ÿéœ€è¦. 7ã€å¦‚ä½•å°†ä¸€ä¸ªåŒ…å«å­é¡¹ç›®çš„é¡¹ç›®æ‰€æœ‰å†…å®¹éƒ½cloneä¸‹æ¥å‘¢? 1234git clone https://xxx.xxx.xxx/xxx/xxx.gitgit submodule init &amp;&amp; git submodule update# ä¸‹é¢è¿™ä¸€å¥çš„æ•ˆæœå’Œä¸Šé¢ä¸‰æ¡å‘½ä»¤çš„æ•ˆæœæ˜¯ä¸€æ ·çš„,å¤šåŠ äº†ä¸ªå‚æ•° `--recursive`git clone https://xxx.xxx.xxx/xxx/xxx.git --recursive å‚è€ƒé“¾æ¥","categories":[{"name":"Git","slug":"Git","permalink":"https://www.kming6.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://www.kming6.com/tags/Git/"}]},{"title":"é…ç½®è™šæ‹Ÿæœºæ¡¥æ¥æ¨¡å¼ç½‘ç»œ","slug":"é…ç½®è™šæ‹Ÿæœºæ¡¥æ¥æ¨¡å¼ç½‘ç»œ","date":"2019-11-14T21:01:14.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"posts/4143/","link":"","permalink":"https://www.kming6.com/posts/4143/","excerpt":"è™šæ‹ŸæœºCentOS7ç³»ç»Ÿæ¡¥æ¥æ¨¡å¼ç½‘ç»œé…ç½®ã€‚","text":"è™šæ‹ŸæœºCentOS7ç³»ç»Ÿæ¡¥æ¥æ¨¡å¼ç½‘ç»œé…ç½®ã€‚ é…ç½®ipåœ°å€ç­‰ä¿¡æ¯åœ¨/etc/sysconfig/network-scripts/ifcfg-eth0æ–‡ä»¶(å¯èƒ½æ–‡ä»¶åä¸ä¸€æ ·ï¼Œå’Œç½‘å¡åæœ‰å…³)1vim /etc/sysconfig/network-scripts/ifcfg-eth0 ä¿®æ”¹å¦‚ä¸‹ï¼š 123456789TYPE=&quot;Ethernet&quot; # ç½‘ç»œç±»å‹ä¸ºä»¥å¤ªç½‘BOOTPROTO=&quot;static&quot; # æ‰‹åŠ¨åˆ†é…ipNAME=&quot;eth0&quot; # ç½‘å¡è®¾å¤‡åï¼Œè®¾å¤‡åä¸€å®šè¦è·Ÿæ–‡ä»¶åä¸€è‡´DEVICE=&quot;eth0&quot; # ç½‘å¡è®¾å¤‡åï¼Œè®¾å¤‡åä¸€å®šè¦è·Ÿæ–‡ä»¶åä¸€è‡´ONBOOT=&quot;yes&quot; # è¯¥ç½‘å¡æ˜¯å¦éšç½‘ç»œæœåŠ¡å¯åŠ¨IPADDR=&quot;192.168.22.101&quot; # è¯¥ç½‘å¡ipåœ°å€å°±æ˜¯ä½ è¦é…ç½®çš„å›ºå®šIPï¼Œå¦‚æœä½ è¦ç”¨xshellç­‰å·¥å…·è¿æ¥ï¼Œ22è¿™ä¸ªç½‘æ®µæœ€å¥½å’Œä½ è‡ªå·±çš„ç”µè„‘ç½‘æ®µä¸€è‡´ï¼Œå¦åˆ™æœ‰å¯èƒ½ç”¨xshellè¿æ¥å¤±è´¥ä¸”è¿æ¥ä¸ä¸Šç½‘GATEWAY=&quot;192.168.22.1&quot; # ç½‘å…³NETMASK=&quot;255.255.255.0&quot; # å­ç½‘æ©ç DNS1=&quot;8.8.8.8&quot; # DNSï¼Œ8.8.8.8ä¸ºGoogleæä¾›çš„å…è´¹DNSæœåŠ¡å™¨çš„IPåœ°å€ é…ç½®ç½‘ç»œå·¥ä½œåœ¨/etc/sysconfig/networkæ–‡ä»¶ä¸­å¢åŠ ä»¥ä¸‹é…ç½® 1234vim /etc/sysconfig/network# ä¿®æ”¹NETWORKING=yes #ç½‘ç»œæ˜¯å¦å·¥ä½œï¼Œä¸€å®šä¸èƒ½æ˜¯no é…ç½®å…¬å…±DNSæœåŠ¡åœ¨/etc/resolv.confæ–‡ä»¶ä¸­å¢åŠ ä»¥ä¸‹é…ç½®(å¯é€‰) 1nameserver 8.8.8.8 å…³é—­é˜²ç«å¢™12systemctl stop firewalld # ä¸´æ—¶å…³é—­systemctl disable firewalld # ç¦æ­¢å¼€æœºå¯åŠ¨ é‡å¯ç½‘ç»œæœåŠ¡1service network restart","categories":[{"name":"Liunx","slug":"Liunx","permalink":"https://www.kming6.com/categories/Liunx/"},{"name":"CentOS","slug":"Liunx/CentOS","permalink":"https://www.kming6.com/categories/Liunx/CentOS/"}],"tags":[{"name":"CentOS","slug":"CentOS","permalink":"https://www.kming6.com/tags/CentOS/"},{"name":"è™šæ‹Ÿæœº","slug":"è™šæ‹Ÿæœº","permalink":"https://www.kming6.com/tags/è™šæ‹Ÿæœº/"},{"name":"ç½‘ç»œé…ç½®","slug":"ç½‘ç»œé…ç½®","permalink":"https://www.kming6.com/tags/ç½‘ç»œé…ç½®/"}]},{"title":"Gitè®¾ç½®åªéœ€è¦è¾“å…¥ä¸€æ¬¡å¯†ç , å°±å¯ä»¥è¿›è¡Œpull/pushæ“ä½œï¼Œä¸ç”¨æ¯æ¬¡è¾“å…¥å¯†ç ","slug":"Gitè®¾ç½®æ°¸ä¹…ä¿å­˜å¯†ç ","date":"2019-09-28T21:38:08.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/62324/","link":"","permalink":"https://www.kming6.com/posts/62324/","excerpt":"ä½¿ç”¨httpsçš„æ–¹å¼ï¼Œæ¯æ¬¡pullæˆ–è€…pushéƒ½è¦è¾“å…¥è´¦å·å¯†ç ï¼Œè¿™æ ·æ“ä½œå¾ˆçƒ¦ï¼Œåˆä¸æƒ³è®¾ç½®SSHå…¬é’¥åˆ°è¿œç¨‹ä»“åº“ã€‚å¦‚ä¸‹è®¾ç½®å³å¯è¾“å…¥ä¸€æ¬¡å°±ä¸ç”¨å†æ‰‹è¾“å…¥å¯†ç çš„å›°æ‰°è€Œä¸”åˆäº«å—httpså¸¦æ¥çš„æé€Ÿå’Œæ–¹ä¾¿ã€‚","text":"ä½¿ç”¨httpsçš„æ–¹å¼ï¼Œæ¯æ¬¡pullæˆ–è€…pushéƒ½è¦è¾“å…¥è´¦å·å¯†ç ï¼Œè¿™æ ·æ“ä½œå¾ˆçƒ¦ï¼Œåˆä¸æƒ³è®¾ç½®SSHå…¬é’¥åˆ°è¿œç¨‹ä»“åº“ã€‚å¦‚ä¸‹è®¾ç½®å³å¯è¾“å…¥ä¸€æ¬¡å°±ä¸ç”¨å†æ‰‹è¾“å…¥å¯†ç çš„å›°æ‰°è€Œä¸”åˆäº«å—httpså¸¦æ¥çš„æé€Ÿå’Œæ–¹ä¾¿ã€‚ è®¾ç½®è¾“å…¥ä¸€æ¬¡å¯†ç åè®°ä½å¯†ç ï¼ˆé»˜è®¤æ—¶é—´15åˆ†é’Ÿï¼‰ï¼š 1git config --global credential.helper cache ä¹Ÿå¯ä»¥è‡ªå·±è®¾ç½®æ—¶é—´ï¼Œæ¯”å¦‚ä¸€ä¸ªå°æ—¶ä¹‹åå¤±æ•ˆï¼Œå¯ä»¥è¿™æ ·åšï¼š 1git config credential.helper &apos;cache --timeout=3600&apos; è¿˜å¯ä»¥æ°¸ä¹…å­˜å‚¨å¯†ç ï¼š 1git config --global credential.helper store","categories":[{"name":"Git","slug":"Git","permalink":"https://www.kming6.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://www.kming6.com/tags/Git/"}]},{"title":"Gitæäº¤æ—¶å¿½ç•¥å·²æäº¤è¿‡ä¸”æœ¬åœ°ä¿®æ”¹è¿‡çš„æ–‡ä»¶","slug":"Gitæäº¤æ—¶å¿½ç•¥å·²æäº¤è¿‡ä¸”æœ¬åœ°ä¿®æ”¹è¿‡çš„æ–‡ä»¶","date":"2019-09-26T19:04:27.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/58014/","link":"","permalink":"https://www.kming6.com/posts/58014/","excerpt":"æœ‰çš„æ—¶å€™é¡¹ç›®çš„é…ç½®æ–‡ä»¶å’Œæµ‹è¯•ç¯å¢ƒçš„ä¸ä¸€æ ·ï¼Œæœ¬åœ°å¼€å‘æ—¶éœ€è¦å°†é…ç½®æ”¹ä¸ºæœ¬åœ°çš„ï¼Œä¿®æ”¹åçš„æ–‡ä»¶åˆä¸æäº¤åˆ°è¿œç¨‹ä»“åº“ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ","text":"æœ‰çš„æ—¶å€™é¡¹ç›®çš„é…ç½®æ–‡ä»¶å’Œæµ‹è¯•ç¯å¢ƒçš„ä¸ä¸€æ ·ï¼Œæœ¬åœ°å¼€å‘æ—¶éœ€è¦å°†é…ç½®æ”¹ä¸ºæœ¬åœ°çš„ï¼Œä¿®æ”¹åçš„æ–‡ä»¶åˆä¸æäº¤åˆ°è¿œç¨‹ä»“åº“ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¿½ç•¥å·²ç»ä¿®æ”¹åä½†æ˜¯ä¸æäº¤çš„æ–‡ä»¶ 1git update-index --assume-unchanged [file-path] é‡æ–°æ¢å¤æäº¤çš„å‘½ä»¤ 1git update-index --no-assume-unchanged [file-path]","categories":[{"name":"Git","slug":"Git","permalink":"https://www.kming6.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://www.kming6.com/tags/Git/"}]},{"title":"Liunxç»ˆç«¯å…³é—­åshellè„šæœ¬ç»§ç»­è¿è¡Œ","slug":"Liunxç»ˆç«¯å…³é—­åshellè„šæœ¬ç»§ç»­è¿è¡Œ","date":"2019-09-13T06:22:11.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/2849/","link":"","permalink":"https://www.kming6.com/posts/2849/","excerpt":"ä¸€ç›´æ‰§è¡Œçš„shellè„šæœ¬ï¼Œåœ¨ç»ˆç«¯å…³é—­åå°±ä¼šé€€å‡ºï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ","text":"ä¸€ç›´æ‰§è¡Œçš„shellè„šæœ¬ï¼Œåœ¨ç»ˆç«¯å…³é—­åå°±ä¼šé€€å‡ºï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ æ¯”å¦‚è¿è¡Œxxx.sh 1bash xxx.sh æŒ‰ä¸‹ctrl-zä¸­æ–­è„šæœ¬è¿è¡Œï¼Œæ­¤æ—¶ç³»ç»Ÿæç¤ºï¼š 12^Z[1]+ Stopped bash xxx.sh æ„æ€æ˜¯ç¼–å·ä¸º1çš„ä»»åŠ¡æŒ‚èµ·äº†ï¼Œ[1]å°±æ˜¯ä»»åŠ¡çš„ç¼–å·ï¼Œé‡Œé¢çš„æ•°å­—ä¹Ÿå¯èƒ½æ˜¯2ï¼Œ3ï¼Œ4â€¦ è¾“å…¥å‘½ä»¤ï¼š 1bg 1 è¿™ä¸ªå‘½ä»¤å°†1å·ä»»åŠ¡åˆ‡æ¢åˆ°åå°æ‰§è¡Œ è¾“å…¥å‘½ä»¤ï¼š 1disown -h %1 è¿™ä¸ªå‘½ä»¤çš„æ˜¯å°†1å·ä»»åŠ¡ä»å½“å‰shellçš„ä»»åŠ¡åˆ—è¡¨ä¸­ç§»é™¤ï¼Œå¹¶ä¸”å¿½ç•¥HUPä¿¡å·(Liunxçš„ä¸­æ–­ä¿¡å·)ï¼Œè¿™æ ·ï¼Œå³ä½¿å½“å‰Shellç»“æŸäº†ï¼Œè¿™ä¸ªä»»åŠ¡ä¹Ÿä¸ä¼šè¢«ç»“æŸï¼Œè€Œæ˜¯ç»§ç»­ç•™åœ¨åå°æ‰§è¡Œã€‚","categories":[{"name":"Liunx","slug":"Liunx","permalink":"https://www.kming6.com/categories/Liunx/"}],"tags":[{"name":"Liunx","slug":"Liunx","permalink":"https://www.kming6.com/tags/Liunx/"}]},{"title":"Dockeræ‹‰å–é•œåƒå‡ºé”™","slug":"Dockeræ‹‰å–é•œåƒå‡ºé”™","date":"2019-09-12T21:54:41.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/6854/","link":"","permalink":"https://www.kming6.com/posts/6854/","excerpt":"docker pullé•œåƒçš„æ—¶å€™å‡ºé”™ 1ERROR: Get https://registry-1.docker.io/v2/: dial tcp: lookup registry-1.docker.io on 8.8.8.8:53: too many redirects","text":"docker pullé•œåƒçš„æ—¶å€™å‡ºé”™ 1ERROR: Get https://registry-1.docker.io/v2/: dial tcp: lookup registry-1.docker.io on 8.8.8.8:53: too many redirects è§£å†³æ–¹æ³•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤1dig @114.114.114.114 registry-1.docker.io æ‰§è¡Œåç»“æœå¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243; &lt;&lt;&gt;&gt; DiG 9.9.4-RedHat-9.9.4-61.el7 &lt;&lt;&gt;&gt; @114.114.114.114 registry-1.docker.io; (1 server found);; global options: +cmd;; Got answer:;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 52963;; flags: qr rd ra; QUERY: 1, ANSWER: 8, AUTHORITY: 4, ADDITIONAL: 9;; OPT PSEUDOSECTION:; EDNS: version: 0, flags:; udp: 4096;; QUESTION SECTION:;registry-1.docker.io. IN A;; ANSWER SECTION:registry-1.docker.io. 300 IN A 3.210.179.11registry-1.docker.io. 300 IN A 52.55.198.220registry-1.docker.io. 300 IN A 52.70.175.131registry-1.docker.io. 300 IN A 54.175.43.85registry-1.docker.io. 300 IN A 54.210.105.17registry-1.docker.io. 300 IN A 100.24.246.89registry-1.docker.io. 300 IN A 54.88.231.116registry-1.docker.io. 300 IN A 52.87.94.70;; AUTHORITY SECTION:docker.io. 61407 IN NS ns-1168.awsdns-18.org.docker.io. 61407 IN NS ns-421.awsdns-52.com.docker.io. 61407 IN NS ns-1827.awsdns-36.co.uk.docker.io. 61407 IN NS ns-513.awsdns-00.net.;; ADDITIONAL SECTION:ns-1827.awsdns-36.co.uk. 57947 IN A 205.251.199.35ns-1827.awsdns-36.co.uk. 57273 IN AAAA 2600:9000:5307:2300::1ns-1168.awsdns-18.org. 47450 IN A 205.251.196.144ns-1168.awsdns-18.org. 57090 IN AAAA 2600:9000:5304:9000::1ns-421.awsdns-52.com. 143703 IN A 205.251.193.165ns-421.awsdns-52.com. 57067 IN AAAA 2600:9000:5301:a500::1ns-513.awsdns-00.net. 45649 IN A 205.251.194.1ns-513.awsdns-00.net. 45650 IN AAAA 2600:9000:5302:100::1;; Query time: 5 msec;; SERVER: 114.114.114.114#53(114.114.114.114);; WHEN: Thu Sep 12 21:50:15 CST 2019;; MSG SIZE rcvd: 493 ä¿®æ”¹ /etc/hostsæ–‡ä»¶ï¼Œå¼ºåˆ¶docker.ioåŸŸåè§£æåˆ°å¯ç”¨IPï¼Œæ·»åŠ 13.210.179.11 registry-1.docker.io","categories":[{"name":"Docker","slug":"Docker","permalink":"https://www.kming6.com/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"https://www.kming6.com/tags/Docker/"}]},{"title":"Liunxè®°å½•ç™»å½•ç”¨æˆ·å’Œæ“ä½œè®°å½•","slug":"Liunxè®°å½•ç™»å½•ç”¨æˆ·å’Œæ“ä½œè®°å½•","date":"2019-09-11T23:15:37.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/62916/","link":"","permalink":"https://www.kming6.com/posts/62916/","excerpt":"","text":"é€šè¿‡åœ¨/etc/profileé‡Œé¢åŠ å…¥ä»¥ä¸‹ä»£ç å°±å¯ä»¥å®ç°è®°å½•ç™»é™†åçš„IPåœ°å€å’ŒæŸç”¨æˆ·åæ‰€æ“ä½œçš„å†å²è®°å½• 123456789101112131415161718192021PS1=\"`whoami`@`hostname`:\"'[$PWD]'historyUSER_IP=`who -u am i 2&gt;/dev/null| awk '&#123;print $NF&#125;'|sed -e 's/[()]//g'`if [ \"$USER_IP\" = \"\" ]thenUSER_IP=`hostname`fiif [ ! -d /tmp/dbasky ]thenmkdir /tmp/dbaskychmod 777 /tmp/dbaskyfiif [ ! -d /tmp/dbasky/$&#123;LOGNAME&#125; ]thenmkdir /tmp/dbasky/$&#123;LOGNAME&#125;chmod 300 /tmp/dbasky/$&#123;LOGNAME&#125;fiexport HISTSIZE=4096DT=`date \"+%Y-%m-%d_%H:%M:%S\"`export HISTFILE=\"/tmp/dbasky/$&#123;LOGNAME&#125;/$&#123;USER_IP&#125; dbasky.$DT\"chmod 600 /tmp/dbasky/$&#123;LOGNAME&#125;/*dbasky* 2&gt;/dev/null åˆ«å¿˜è®°æ‰§è¡Œä¸‹é¢å‘½ä»¤ä½¿è„šæœ¬ç”Ÿæ•ˆ 1source /etc/profile /tmp/dbasky/rootç›®å½•ä¸‹æŸ¥çœ‹è®°å½•ä¿¡æ¯","categories":[{"name":"Liunx","slug":"Liunx","permalink":"https://www.kming6.com/categories/Liunx/"}],"tags":[{"name":"Liunx","slug":"Liunx","permalink":"https://www.kming6.com/tags/Liunx/"}]},{"title":"Centos7ä¸Šå®‰è£…Docker","slug":"Centos7ä¸Šå®‰è£…Docker","date":"2019-09-10T21:13:55.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/19477/","link":"","permalink":"https://www.kming6.com/posts/19477/","excerpt":"","text":"é€šè¿‡yumæºå®‰è£…docker1yum -y install docker å¯åŠ¨docker1systemctl start docker å¼€æœºè‡ªå¯1sudo systemctl enable docker","categories":[{"name":"Docker","slug":"Docker","permalink":"https://www.kming6.com/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"https://www.kming6.com/tags/Docker/"}]},{"title":"Dockerè¿è¡ŒmysqlæŒ‚è½½æ•°æ®å·æƒé™é—®é¢˜","slug":"Dockerè¿è¡ŒmysqlæŒ‚è½½æ•°æ®å·æƒé™é—®é¢˜","date":"2019-09-08T12:04:49.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/53756/","link":"","permalink":"https://www.kming6.com/posts/53756/","excerpt":"ä½¿ç”¨docker-composeè¿è¡Œmysqlå®¹å™¨æŠ¥é”™ï¼Œæ²¡æœ‰æ‰§è¡Œæƒé™çš„é—®é¢˜","text":"ä½¿ç”¨docker-composeè¿è¡Œmysqlå®¹å™¨æŠ¥é”™ï¼Œæ²¡æœ‰æ‰§è¡Œæƒé™çš„é—®é¢˜ docker-compose.yml å†…å®¹å¦‚ä¸‹æ‰€ç¤º1234567891011121314version: &quot;2&quot;services: mysql: container_name: mysql image: mysql:5.5.60 restart: always ports: - &quot;3306:3306&quot; volumes: - ./mysql/data:/var/lib/mysql environment: MYSQL_ROOT_PASSWORD: &quot;123456&quot; æŠ¥é”™ä¿¡æ¯1chown: cannot read directory '/var/lib/mysql/': Permission denied è§£å†³æ–¹æ³•è¯¥åŸå› ä¸ºcentOs7é»˜è®¤å¼€å¯selinuxå®‰å…¨æ¨¡å—,éœ€è¦ä¸´æ—¶å…³é—­è¯¥å®‰å…¨æ¨¡å—ã€‚ 12ä¸´æ—¶å…³é—­selinuxï¼šsu -c &quot;setenforce 0&quot;é‡æ–°å¼€å¯selinuxï¼šsu -c &quot;setenforce 1&quot; æˆ–è€…æ·»åŠ ç›®å½•åˆ°ç™½åå•ï¼Œæ·»åŠ selinuxè§„åˆ™ï¼Œå°†è¦æŒ‚è½½çš„ç›®å½•æ·»åŠ åˆ°ç™½åå•ï¼š 1chcon -Rt svirt_sandbox_file_t ./mysql/data","categories":[{"name":"Docker","slug":"Docker","permalink":"https://www.kming6.com/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"https://www.kming6.com/tags/Docker/"},{"name":"Mysql","slug":"Mysql","permalink":"https://www.kming6.com/tags/Mysql/"}]},{"title":"git pushåˆ°GitHubçš„æ—¶å€™é‡åˆ°! [rejected] master -> master (non-fast-forward)çš„é—®é¢˜","slug":"git-pushåˆ°GitHubçš„æ—¶å€™é‡åˆ°çš„é—®é¢˜","date":"2019-09-05T21:38:03.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"posts/59083/","link":"","permalink":"https://www.kming6.com/posts/59083/","excerpt":"git pushåˆ°GitHubçš„æ—¶å€™é‡åˆ°! [rejected] master -&gt; master (non-fast-forward)çš„é—®é¢˜","text":"git pushåˆ°GitHubçš„æ—¶å€™é‡åˆ°! [rejected] master -&gt; master (non-fast-forward)çš„é—®é¢˜ å‡ºç°é”™è¯¯çš„åŸå› 1ã€åœ¨manageæ–‡ä»¶å¤¹é‡Œæ‰“å¼€gitï¼Œè¾“å…¥git initåˆå§‹åŒ–æœ¬åœ°ä»“åº“ï¼ŒGitHubåˆ›å»ºè¿œç¨‹ä»“åº“manage 2ã€ä»¥ä¸‹å‘½ä»¤å…³è”æœ¬åœ°å’Œè¿œç¨‹ä»“åº“ï¼Œxxxä¸ºgithubå‚åº“ç”¨æˆ·å 1git remote add origin git@github.com:xxx/manage.git 3ã€æœ¬åœ°å·²ç»æœ‰é¡¹ç›®ä»£ç äº†åœ¨addå’Œcommitä¹‹åï¼Œæƒ³è¦pushåˆ°è¿œç¨‹ä»“åº“ï¼ŒæŠ¥é”™ï¼š 123456 ! [rejected] master -&gt; master (non-fast-forward)error: failed to push some refs to &apos;git@github.com:xxx/spring-study.git&apos;hint: Updates were rejected because the tip of your current branch is behindhint: its remote counterpart. Integrate the remote changes (e.g.hint: &apos;git pull ...&apos;) before pushing again.hint: See the &apos;Note about fast-forwards&apos; in &apos;git push --help&apos; for details. è§£å†³æ–¹å¼1ã€git pull origin master â€“allow-unrelated-histories //æŠŠè¿œç¨‹ä»“åº“å’Œæœ¬åœ°åŒæ­¥ï¼Œæ¶ˆé™¤å·®å¼‚ 2ã€é‡æ–°addå’Œcommitç›¸åº”æ–‡ä»¶ 3ã€æ‰§è¡Œå‘½ä»¤ 1git push origin master 4ã€æ­¤æ—¶å°±èƒ½pushæˆåŠŸäº†","categories":[{"name":"Git","slug":"Git","permalink":"https://www.kming6.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://www.kming6.com/tags/Git/"},{"name":"GitHub","slug":"GitHub","permalink":"https://www.kming6.com/tags/GitHub/"}]},{"title":"å…³äºjavaçš„åƒåœ¾æ”¶é›†å™¨","slug":"å…³äºjavaçš„åƒåœ¾æ”¶é›†å™¨","date":"2019-09-04T21:00:20.000Z","updated":"2020-06-06T07:48:46.196Z","comments":true,"path":"posts/53302/","link":"","permalink":"https://www.kming6.com/posts/53302/","excerpt":"è™½ç„¶å¯¹å„ä¸ªæ”¶é›†å™¨è¿›è¡Œæ¯”è¾ƒï¼Œä½†å¹¶éè¦æŒ‘é€‰å‡ºä¸€ä¸ªæœ€å¥½çš„æ”¶é›†å™¨ã€‚å› ä¸ºçŸ¥é“ç°åœ¨ä¸ºæ­¢è¿˜æ²¡æœ‰æ‰€è°“æœ€å¥½çš„åƒåœ¾æ”¶é›†å™¨å‡ºç°ï¼Œä¹Ÿæ›´åŠ æ²¡æœ‰ä¸‡èƒ½çš„åƒåœ¾æ”¶é›†å™¨ï¼Œè€Œæ˜¯æ ¹æ®å…·ä½“åº”ç”¨åœºæ™¯é€‰æ‹©é€‚åˆè‡ªå·±çš„åƒåœ¾æ”¶é›†å™¨ã€‚å¦‚æœæœ‰ä¸€ç§ä»»ä½•åœºæ™¯ä¸‹éƒ½é€‚ç”¨çš„å®Œç¾æ”¶é›†å™¨å­˜åœ¨ï¼Œé‚£ä¹ˆHotSpotè™šæ‹Ÿæœºå°±ä¸ä¼šå®ç°é‚£ä¹ˆå¤šä¸åŒçš„åƒåœ¾æ”¶é›†å™¨äº†","text":"è™½ç„¶å¯¹å„ä¸ªæ”¶é›†å™¨è¿›è¡Œæ¯”è¾ƒï¼Œä½†å¹¶éè¦æŒ‘é€‰å‡ºä¸€ä¸ªæœ€å¥½çš„æ”¶é›†å™¨ã€‚å› ä¸ºçŸ¥é“ç°åœ¨ä¸ºæ­¢è¿˜æ²¡æœ‰æ‰€è°“æœ€å¥½çš„åƒåœ¾æ”¶é›†å™¨å‡ºç°ï¼Œä¹Ÿæ›´åŠ æ²¡æœ‰ä¸‡èƒ½çš„åƒåœ¾æ”¶é›†å™¨ï¼Œè€Œæ˜¯æ ¹æ®å…·ä½“åº”ç”¨åœºæ™¯é€‰æ‹©é€‚åˆè‡ªå·±çš„åƒåœ¾æ”¶é›†å™¨ã€‚å¦‚æœæœ‰ä¸€ç§ä»»ä½•åœºæ™¯ä¸‹éƒ½é€‚ç”¨çš„å®Œç¾æ”¶é›†å™¨å­˜åœ¨ï¼Œé‚£ä¹ˆHotSpotè™šæ‹Ÿæœºå°±ä¸ä¼šå®ç°é‚£ä¹ˆå¤šä¸åŒçš„åƒåœ¾æ”¶é›†å™¨äº† Serial æ”¶é›†å™¨ Serialï¼ˆä¸²è¡Œï¼‰æ”¶é›†å™¨æ”¶é›†å™¨æ˜¯æœ€åŸºæœ¬ã€å†å²æœ€æ‚ ä¹…çš„åƒåœ¾æ”¶é›†å™¨äº†ã€‚çœ‹åå­—å°±çŸ¥é“è¿™ä¸ªæ”¶é›†å™¨æ˜¯ä¸€ä¸ªå•çº¿ç¨‹æ”¶é›†å™¨äº†ã€‚å®ƒçš„ â€œå•çº¿ç¨‹â€ çš„æ„ä¹‰ä¸ä»…ä»…æ„å‘³ç€å®ƒåªä¼šä½¿ç”¨ä¸€æ¡åƒåœ¾æ”¶é›†çº¿ç¨‹å»å®Œæˆåƒåœ¾æ”¶é›†å·¥ä½œï¼Œæ›´é‡è¦çš„æ˜¯å®ƒåœ¨è¿›è¡Œåƒåœ¾æ”¶é›†å·¥ä½œçš„æ—¶å€™å¿…é¡»æš‚åœå…¶ä»–æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ï¼ˆ â€œStop The Worldâ€ ï¼‰ï¼Œç›´åˆ°å®ƒæ”¶é›†ç»“æŸã€‚ è™šæ‹Ÿæœºçš„è®¾è®¡è€…ä»¬å½“ç„¶çŸ¥é“ Stop The World å¸¦æ¥çš„ä¸è‰¯ç”¨æˆ·ä½“éªŒï¼Œæ‰€ä»¥åœ¨åç»­çš„åƒåœ¾æ”¶é›†å™¨è®¾è®¡ä¸­åœé¡¿æ—¶é—´åœ¨ä¸æ–­ç¼©çŸ­ï¼ˆä»ç„¶è¿˜æœ‰åœé¡¿ï¼Œå¯»æ‰¾æœ€ä¼˜ç§€çš„åƒåœ¾æ”¶é›†å™¨çš„è¿‡ç¨‹ä»ç„¶åœ¨ç»§ç»­ï¼‰ã€‚ ä½†æ˜¯ Serial æ”¶é›†å™¨æœ‰æ²¡æœ‰ä¼˜äºå…¶ä»–åƒåœ¾æ”¶é›†å™¨çš„åœ°æ–¹å‘¢ï¼Ÿå½“ç„¶æœ‰ï¼Œå®ƒç®€å•è€Œé«˜æ•ˆï¼ˆä¸å…¶ä»–æ”¶é›†å™¨çš„å•çº¿ç¨‹ç›¸æ¯”ï¼‰ã€‚Serial æ”¶é›†å™¨ç”±äºæ²¡æœ‰çº¿ç¨‹äº¤äº’çš„å¼€é”€ï¼Œè‡ªç„¶å¯ä»¥è·å¾—å¾ˆé«˜çš„å•çº¿ç¨‹æ”¶é›†æ•ˆç‡ã€‚Serial æ”¶é›†å™¨å¯¹äºè¿è¡Œåœ¨ Client æ¨¡å¼ä¸‹çš„è™šæ‹Ÿæœºæ¥è¯´æ˜¯ä¸ªä¸é”™çš„é€‰æ‹© ParNew æ”¶é›†å™¨ ParNew æ”¶é›†å™¨å…¶å®å°±æ˜¯ Serial æ”¶é›†å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼Œé™¤äº†ä½¿ç”¨å¤šçº¿ç¨‹è¿›è¡Œåƒåœ¾æ”¶é›†å¤–ï¼Œå…¶ä½™è¡Œä¸ºï¼ˆæ§åˆ¶å‚æ•°ã€æ”¶é›†ç®—æ³•ã€å›æ”¶ç­–ç•¥ç­‰ç­‰ï¼‰å’Œ Serial æ”¶é›†å™¨å®Œå…¨ä¸€æ ·ã€‚ å®ƒæ˜¯è®¸å¤šè¿è¡Œåœ¨ Server æ¨¡å¼ä¸‹çš„è™šæ‹Ÿæœºçš„é¦–è¦é€‰æ‹©ï¼Œé™¤äº† Serial æ”¶é›†å™¨å¤–ï¼Œåªæœ‰å®ƒèƒ½ä¸ CMS æ”¶é›†å™¨ï¼ˆçœŸæ­£æ„ä¹‰ä¸Šçš„å¹¶å‘æ”¶é›†å™¨ï¼Œåé¢ä¼šä»‹ç»åˆ°ï¼‰é…åˆå·¥ä½œã€‚ å¹¶è¡Œå’Œå¹¶å‘æ¦‚å¿µï¼šå¹¶è¡Œï¼ˆParallelï¼‰ ï¼šæŒ‡å¤šæ¡åƒåœ¾æ”¶é›†çº¿ç¨‹å¹¶è¡Œå·¥ä½œï¼Œä½†æ­¤æ—¶ç”¨æˆ·çº¿ç¨‹ä»ç„¶å¤„äºç­‰å¾…çŠ¶æ€ã€‚å¹¶å‘ï¼ˆConcurrentï¼‰ï¼šæŒ‡ç”¨æˆ·çº¿ç¨‹ä¸åƒåœ¾æ”¶é›†çº¿ç¨‹åŒæ—¶æ‰§è¡Œï¼ˆä½†ä¸ä¸€å®šæ˜¯å¹¶è¡Œï¼Œå¯èƒ½ä¼šäº¤æ›¿æ‰§è¡Œï¼‰ï¼Œç”¨æˆ·ç¨‹åºåœ¨ç»§ç»­è¿è¡Œï¼Œè€Œåƒåœ¾æ”¶é›†å™¨è¿è¡Œåœ¨å¦ä¸€ä¸ª CPU ä¸Šã€‚ Parallel Scavenge æ”¶é›†å™¨ Parallel Scavenge æ”¶é›†å™¨ä¹Ÿæ˜¯ä½¿ç”¨å¤åˆ¶ç®—æ³•çš„å¤šçº¿ç¨‹æ”¶é›†å™¨ï¼Œå®ƒçœ‹ä¸Šå»å‡ ä¹å’ŒParNewéƒ½ä¸€æ · 1234567-XX:+UseParallelGC ä½¿ç”¨ Parallel æ”¶é›†å™¨+ è€å¹´ä»£ä¸²è¡Œ-XX:+UseParallelOldGC ä½¿ç”¨ Parallel æ”¶é›†å™¨+ è€å¹´ä»£å¹¶è¡Œ Parallel Scavenge æ”¶é›†å™¨å…³æ³¨ç‚¹æ˜¯ååé‡ï¼ˆé«˜æ•ˆç‡çš„åˆ©ç”¨ CPUï¼‰ã€‚CMS ç­‰åƒåœ¾æ”¶é›†å™¨çš„å…³æ³¨ç‚¹æ›´å¤šçš„æ˜¯ç”¨æˆ·çº¿ç¨‹çš„åœé¡¿æ—¶é—´ï¼ˆæé«˜ç”¨æˆ·ä½“éªŒï¼‰ã€‚æ‰€è°“ååé‡å°±æ˜¯ CPU ä¸­ç”¨äºè¿è¡Œç”¨æˆ·ä»£ç çš„æ—¶é—´ä¸ CPU æ€»æ¶ˆè€—æ—¶é—´çš„æ¯”å€¼ã€‚ Parallel Scavenge æ”¶é›†å™¨æä¾›äº†å¾ˆå¤šå‚æ•°ä¾›ç”¨æˆ·æ‰¾åˆ°æœ€åˆé€‚çš„åœé¡¿æ—¶é—´æˆ–æœ€å¤§ååé‡ï¼Œå¦‚æœå¯¹äºæ”¶é›†å™¨è¿ä½œä¸å¤ªäº†è§£çš„è¯ï¼Œæ‰‹å·¥ä¼˜åŒ–å­˜åœ¨å›°éš¾çš„è¯å¯ä»¥é€‰æ‹©æŠŠå†…å­˜ç®¡ç†ä¼˜åŒ–äº¤ç»™è™šæ‹Ÿæœºå»å®Œæˆä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ Serial Old æ”¶é›†å™¨ Serial æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ï¼Œå®ƒåŒæ ·æ˜¯ä¸€ä¸ªå•çº¿ç¨‹æ”¶é›†å™¨ã€‚å®ƒä¸»è¦æœ‰ä¸¤å¤§ç”¨é€”ï¼šä¸€ç§ç”¨é€”æ˜¯åœ¨ JDK1.5 ä»¥åŠä»¥å‰çš„ç‰ˆæœ¬ä¸­ä¸ Parallel Scavenge æ”¶é›†å™¨æ­é…ä½¿ç”¨ï¼Œå¦ä¸€ç§ç”¨é€”æ˜¯ä½œä¸º CMS æ”¶é›†å™¨çš„åå¤‡æ–¹æ¡ˆã€‚ Parallel Old æ”¶é›†å™¨ Parallel Scavenge æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ã€‚ä½¿ç”¨å¤šçº¿ç¨‹å’Œâ€œæ ‡è®°-æ•´ç†â€ç®—æ³•ã€‚åœ¨æ³¨é‡ååé‡ä»¥åŠ CPU èµ„æºçš„åœºåˆï¼Œéƒ½å¯ä»¥ä¼˜å…ˆè€ƒè™‘ Parallel Scavenge æ”¶é›†å™¨å’Œ Parallel Old æ”¶é›†å™¨ã€‚ CMS æ”¶é›†å™¨ CMSï¼ˆConcurrent Mark Sweepï¼‰æ”¶é›†å™¨æ˜¯ä¸€ç§ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ã€‚å®ƒéå¸¸ç¬¦åˆåœ¨æ³¨é‡ç”¨æˆ·ä½“éªŒçš„åº”ç”¨ä¸Šä½¿ç”¨ã€‚ CMSï¼ˆConcurrent Mark Sweepï¼‰æ”¶é›†å™¨æ˜¯ HotSpot è™šæ‹Ÿæœºç¬¬ä¸€æ¬¾çœŸæ­£æ„ä¹‰ä¸Šçš„å¹¶å‘æ”¶é›†å™¨ï¼Œå®ƒç¬¬ä¸€æ¬¡å®ç°äº†è®©åƒåœ¾æ”¶é›†çº¿ç¨‹ä¸ç”¨æˆ·çº¿ç¨‹ï¼ˆåŸºæœ¬ä¸Šï¼‰åŒæ—¶å·¥ä½œã€‚ ä»åå­—ä¸­çš„Mark Sweepè¿™ä¸¤ä¸ªè¯å¯ä»¥çœ‹å‡ºï¼ŒCMS æ”¶é›†å™¨æ˜¯ä¸€ç§ â€œæ ‡è®°-æ¸…é™¤â€ç®—æ³•å®ç°çš„ï¼Œå®ƒçš„è¿ä½œè¿‡ç¨‹ç›¸æ¯”äºå‰é¢å‡ ç§åƒåœ¾æ”¶é›†å™¨æ¥è¯´æ›´åŠ å¤æ‚ä¸€äº›ã€‚æ•´ä¸ªè¿‡ç¨‹åˆ†ä¸ºå››ä¸ªæ­¥éª¤ï¼š åˆå§‹æ ‡è®°ï¼š æš‚åœæ‰€æœ‰çš„å…¶ä»–çº¿ç¨‹ï¼Œå¹¶è®°å½•ä¸‹ç›´æ¥ä¸ root ç›¸è¿çš„å¯¹è±¡ï¼Œé€Ÿåº¦å¾ˆå¿« ï¼› å¹¶å‘æ ‡è®°ï¼š åŒæ—¶å¼€å¯ GC å’Œç”¨æˆ·çº¿ç¨‹ï¼Œç”¨ä¸€ä¸ªé—­åŒ…ç»“æ„å»è®°å½•å¯è¾¾å¯¹è±¡ã€‚ä½†åœ¨è¿™ä¸ªé˜¶æ®µç»“æŸï¼Œè¿™ä¸ªé—­åŒ…ç»“æ„å¹¶ä¸èƒ½ä¿è¯åŒ…å«å½“å‰æ‰€æœ‰çš„å¯è¾¾å¯¹è±¡ã€‚å› ä¸ºç”¨æˆ·çº¿ç¨‹å¯èƒ½ä¼šä¸æ–­çš„æ›´æ–°å¼•ç”¨åŸŸï¼Œæ‰€ä»¥ GC çº¿ç¨‹æ— æ³•ä¿è¯å¯è¾¾æ€§åˆ†æçš„å®æ—¶æ€§ã€‚æ‰€ä»¥è¿™ä¸ªç®—æ³•é‡Œä¼šè·Ÿè¸ªè®°å½•è¿™äº›å‘ç”Ÿå¼•ç”¨æ›´æ–°çš„åœ°æ–¹ã€‚ é‡æ–°æ ‡è®°ï¼š é‡æ–°æ ‡è®°é˜¶æ®µå°±æ˜¯ä¸ºäº†ä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´å› ä¸ºç”¨æˆ·ç¨‹åºç»§ç»­è¿è¡Œè€Œå¯¼è‡´æ ‡è®°äº§ç”Ÿå˜åŠ¨çš„é‚£ä¸€éƒ¨åˆ†å¯¹è±¡çš„æ ‡è®°è®°å½•ï¼Œè¿™ä¸ªé˜¶æ®µçš„åœé¡¿æ—¶é—´ä¸€èˆ¬ä¼šæ¯”åˆå§‹æ ‡è®°é˜¶æ®µçš„æ—¶é—´ç¨é•¿ï¼Œè¿œè¿œæ¯”å¹¶å‘æ ‡è®°é˜¶æ®µæ—¶é—´çŸ­ å¹¶å‘æ¸…é™¤ï¼š å¼€å¯ç”¨æˆ·çº¿ç¨‹ï¼ŒåŒæ—¶ GC çº¿ç¨‹å¼€å§‹å¯¹ä¸ºæ ‡è®°çš„åŒºåŸŸåšæ¸…æ‰«ã€‚ ä»å®ƒçš„åå­—å°±å¯ä»¥çœ‹å‡ºå®ƒæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„åƒåœ¾æ”¶é›†å™¨ï¼Œä¸»è¦ä¼˜ç‚¹ï¼šå¹¶å‘æ”¶é›†ã€ä½åœé¡¿ã€‚ä½†æ˜¯å®ƒæœ‰ä¸‹é¢ä¸‰ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹ï¼š å¯¹ CPU èµ„æºæ•æ„Ÿï¼› æ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾ï¼› å®ƒä½¿ç”¨çš„å›æ”¶ç®—æ³•-â€œæ ‡è®°-æ¸…é™¤â€ç®—æ³•ä¼šå¯¼è‡´æ”¶é›†ç»“æŸæ—¶ä¼šæœ‰å¤§é‡ç©ºé—´ç¢ç‰‡äº§ç”Ÿã€‚ G1 æ”¶é›†å™¨ G1 (Garbage-First) æ˜¯ä¸€æ¬¾é¢å‘æœåŠ¡å™¨çš„åƒåœ¾æ”¶é›†å™¨,ä¸»è¦é’ˆå¯¹é…å¤‡å¤šé¢—å¤„ç†å™¨åŠå¤§å®¹é‡å†…å­˜çš„æœºå™¨. ä»¥æé«˜æ¦‚ç‡æ»¡è¶³ GC åœé¡¿æ—¶é—´è¦æ±‚çš„åŒæ—¶,è¿˜å…·å¤‡é«˜ååé‡æ€§èƒ½ç‰¹å¾. è¢«è§†ä¸º JDK1.7 ä¸­ HotSpot è™šæ‹Ÿæœºçš„ä¸€ä¸ªé‡è¦è¿›åŒ–ç‰¹å¾ã€‚å®ƒå…·å¤‡ä¸€ä¸‹ç‰¹ç‚¹ï¼š å¹¶è¡Œä¸å¹¶å‘ï¼šG1 èƒ½å……åˆ†åˆ©ç”¨ CPUã€å¤šæ ¸ç¯å¢ƒä¸‹çš„ç¡¬ä»¶ä¼˜åŠ¿ï¼Œä½¿ç”¨å¤šä¸ª CPUï¼ˆCPU æˆ–è€… CPU æ ¸å¿ƒï¼‰æ¥ç¼©çŸ­ Stop-The-World åœé¡¿æ—¶é—´ã€‚éƒ¨åˆ†å…¶ä»–æ”¶é›†å™¨åŸæœ¬éœ€è¦åœé¡¿ Java çº¿ç¨‹æ‰§è¡Œçš„ GC åŠ¨ä½œï¼ŒG1 æ”¶é›†å™¨ä»ç„¶å¯ä»¥é€šè¿‡å¹¶å‘çš„æ–¹å¼è®© java ç¨‹åºç»§ç»­æ‰§è¡Œã€‚ åˆ†ä»£æ”¶é›†ï¼šè™½ç„¶ G1 å¯ä»¥ä¸éœ€è¦å…¶ä»–æ”¶é›†å™¨é…åˆå°±èƒ½ç‹¬ç«‹ç®¡ç†æ•´ä¸ª GC å †ï¼Œä½†æ˜¯è¿˜æ˜¯ä¿ç•™äº†åˆ†ä»£çš„æ¦‚å¿µã€‚ ç©ºé—´æ•´åˆï¼šä¸ CMS çš„â€œæ ‡è®°â€“æ¸…ç†â€ç®—æ³•ä¸åŒï¼ŒG1 ä»æ•´ä½“æ¥çœ‹æ˜¯åŸºäºâ€œæ ‡è®°æ•´ç†â€ç®—æ³•å®ç°çš„æ”¶é›†å™¨ï¼›ä»å±€éƒ¨ä¸Šæ¥çœ‹æ˜¯åŸºäºâ€œå¤åˆ¶â€ç®—æ³•å®ç°çš„ã€‚ å¯é¢„æµ‹çš„åœé¡¿ï¼šè¿™æ˜¯ G1 ç›¸å¯¹äº CMS çš„å¦ä¸€ä¸ªå¤§ä¼˜åŠ¿ï¼Œé™ä½åœé¡¿æ—¶é—´æ˜¯ G1 å’Œ CMS å…±åŒçš„å…³æ³¨ç‚¹ï¼Œä½† G1 é™¤äº†è¿½æ±‚ä½åœé¡¿å¤–ï¼Œè¿˜èƒ½å»ºç«‹å¯é¢„æµ‹çš„åœé¡¿æ—¶é—´æ¨¡å‹ï¼Œèƒ½è®©ä½¿ç”¨è€…æ˜ç¡®æŒ‡å®šåœ¨ä¸€ä¸ªé•¿åº¦ä¸º M æ¯«ç§’çš„æ—¶é—´ç‰‡æ®µå†…ã€‚ G1 æ”¶é›†å™¨çš„è¿ä½œå¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š åˆå§‹æ ‡è®° å¹¶å‘æ ‡è®° æœ€ç»ˆæ ‡è®° ç­›é€‰å›æ”¶ G1 æ”¶é›†å™¨åœ¨åå°ç»´æŠ¤äº†ä¸€ä¸ªä¼˜å…ˆåˆ—è¡¨ï¼Œæ¯æ¬¡æ ¹æ®å…è®¸çš„æ”¶é›†æ—¶é—´ï¼Œä¼˜å…ˆé€‰æ‹©å›æ”¶ä»·å€¼æœ€å¤§çš„ Region(è¿™ä¹Ÿå°±æ˜¯å®ƒçš„åå­— Garbage-First çš„ç”±æ¥)ã€‚è¿™ç§ä½¿ç”¨ Region åˆ’åˆ†å†…å­˜ç©ºé—´ä»¥åŠæœ‰ä¼˜å…ˆçº§çš„åŒºåŸŸå›æ”¶æ–¹å¼ï¼Œä¿è¯äº† GF æ”¶é›†å™¨åœ¨æœ‰é™æ—¶é—´å†…å¯ä»¥å°½å¯èƒ½é«˜çš„æ”¶é›†æ•ˆç‡ï¼ˆæŠŠå†…å­˜åŒ–æ•´ä¸ºé›¶ï¼‰ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://www.kming6.com/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://www.kming6.com/tags/Java/"}]},{"title":"Java8çš„Lambdaè¡¨è¾¾å¼","slug":"Java8çš„Lambdaè¡¨è¾¾å¼-ä¸Š","date":"2019-08-30T21:46:34.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/43742/","link":"","permalink":"https://www.kming6.com/posts/43742/","excerpt":"Java 8ç‰ˆæœ¬æ˜¯ç°åœ¨Javaæœ€æµè¡Œçš„ä¸€ä¸ªç‰ˆæœ¬ã€‚ä¸»è¦æ”¹è¿›Javaåœ¨é¢å‘å¯¹è±¡çš„åŸºç¡€ä¸Šå¯¹å‡½æ•°å¼ç¼–ç¨‹çš„æ”¯æŒã€‚æœ¬æ–‡å°†å±•ç¤ºLambdaçš„åŸºæœ¬è¯­æ³•ã€‚","text":"Java 8ç‰ˆæœ¬æ˜¯ç°åœ¨Javaæœ€æµè¡Œçš„ä¸€ä¸ªç‰ˆæœ¬ã€‚ä¸»è¦æ”¹è¿›Javaåœ¨é¢å‘å¯¹è±¡çš„åŸºç¡€ä¸Šå¯¹å‡½æ•°å¼ç¼–ç¨‹çš„æ”¯æŒã€‚æœ¬æ–‡å°†å±•ç¤ºLambdaçš„åŸºæœ¬è¯­æ³•ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨Lambdaè¡¨è¾¾å¼æˆ‘ä»¬ä½¿ç”¨Javaçš„é›†åˆç»å¸¸ä¼šå®šä¹‰æ¯”è¾ƒå™¨æ¥è¿›è¡Œé›†åˆæ’åºã€‚æ¯”å¦‚è¦æŒ‰ç…§å­—ç¬¦ä¸²é•¿åº¦å¯¹å­—ç¬¦è¿›è¡Œæ’åºï¼Œå®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„Comparatorå¯¹è±¡å¹¶ä¼ é€’ç»™æ–¹æ³•è¿›è¡Œæ’åºï¼Œå¦‚ï¼š 12345678class LengthComparator implements Comparator&lt;String&gt; &#123; public int compare(String firstStr, String secondStr) &#123; return Integer.compare(firstStr.length(), secondStr.length()); &#125;&#125;Arrays.sort(strings, new LengthComparator()); ç¼–å†™è¿™ä¸€æ®µç”¨äºæ¯”è¾ƒçš„ä»£ç ç‰‡æ®µï¼Œå°è£…åœ¨è‡ªå®šä¹‰çš„Comparatoré‡Œã€‚Arrays.sortæ–¹æ³•ä¼šåœ¨é€‚å½“æ—¶æœºå°±ä¼šè°ƒç”¨æ­¤ä»£ç ç‰‡æ®µï¼Œå¯¹stringsæ•°ç»„è¿›è¡Œæ’åºã€‚é‚£ä¹ˆï¼Œè¿™ä¸ªé€‚å½“æ—¶æœºï¼Œæ˜¯ä»€ä¹ˆæ—¶å€™å‘¢ï¼Ÿå®ƒå¯èƒ½æ˜¯æŸä¸ªæŒ‰é’®è¢«ç‚¹å‡»æ—¶ï¼Œä¹Ÿå¯èƒ½æ˜¯æŸä¸ªæ–°çº¿ç¨‹è¢«å¯åŠ¨æ—¶ï¼Œå¦‚ï¼š 12345678910class MyRunner implements Runnable &#123; public void run() &#123; for(int i = 0; i &lt; 1000; i++) &#123; System.our.println(\"do work\"); &#125; &#125; ...&#125;new Thread(new MyRunner()).start(); æŠŠä¸€æ®µä»£ç å—ä¼ é€’ - çº¿ç¨‹æ± ï¼Œæ’åºæ–¹æ³•ã€‚å¸Œæœ›åœ¨é€‚å½“æ—¶æœºéœ€è¦æ—¶ï¼Œè°ƒç”¨è¿™æ®µä»£ç æ¥è¿›è¡Œç›¸å…³å·¥ä½œæˆ–æ’åºã€‚ åœ¨java8ä»¥å‰ï¼Œæƒ³è¦ä¼ é€’ä»£ç å—å¾ˆä¸å®¹æ˜“ã€‚æˆ‘ä»¬åªèƒ½æŠŠä»£ç å—å†™åœ¨ä¸€ä¸ªç‰¹æ®Šçš„ç±»é‡Œ, æˆ–è€…ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼ï¼Œå®ä¾‹åŒ–ä¸€ä¸ªç±»å¯¹è±¡æ¥ä¼ é€’è¿™æ®µä»£ç ã€‚ Lambdaçš„è¯­æ³•å¯¹äºå­—ç¬¦ä¸²æ’åºï¼Œéœ€è¦æ˜ç¡®ä¸¤ä¸ªé—®é¢˜ å¤„ç†ä¼ å…¥çš„å‚æ•°ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹ï¼Ÿ ä½¿ç”¨ä»€ä¹ˆä»£ç ç‰‡æ®µæ¥è¿›è¡Œå¤„ç†ï¼Ÿ äºæ˜¯ï¼ŒLambdaçš„è¡¨è¾¾å¼å¯ä»¥: 1(String str1, String str2) -&gt; Integer.compare(str1.length(), str2.length()); å¦‚æœå¯ä»¥æ¨æ–­Lambdaçš„å‚æ•°ç±»å‹ï¼Œå¯ä»¥çœç•¥ç±»å‹ï¼Œå¦‚ï¼š 1Comparator&lt;String&gt; com = (str1, str2) -&gt; Integer.compare(str1.length(), str2.length());","categories":[{"name":"Java","slug":"Java","permalink":"https://www.kming6.com/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://www.kming6.com/tags/Java/"}]},{"title":"Mysqlå¯¼å…¥å¯¼å‡ºå‘½ä»¤è¯¦è§£","slug":"Mysqlå¯¼å…¥å¯¼å‡ºå‘½ä»¤è¯¦è§£","date":"2019-08-13T20:10:29.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/62076/","link":"","permalink":"https://www.kming6.com/posts/62076/","excerpt":"Mysqlå¯¼å…¥å¯¼å‡ºæ•°æ®åº“ç»å¸¸ä½¿ç”¨ï¼Œè®°å½•ä¸€ä¸‹ä»¥åæ–¹ä¾¿æŸ¥æ‰¾","text":"Mysqlå¯¼å…¥å¯¼å‡ºæ•°æ®åº“ç»å¸¸ä½¿ç”¨ï¼Œè®°å½•ä¸€ä¸‹ä»¥åæ–¹ä¾¿æŸ¥æ‰¾ å¯¼å‡ºæ•°æ®å’Œè¡¨ç»“æ„ ä½¿ç”¨mysqldumpå¯ä»¥åŠ ä¸Š--default-character-set=utf8é˜²æ­¢ä¹±ç ï¼ŒåŠ ä¸Š--hex-blobå¯¼å‡ºäºŒè¿›åˆ¶æ•°æ®ï¼Œå¦‚æœå¯¼å‡ºæ—¶ä¸è®¾ç½®hex-blobæ¨¡å¼ï¼ŒåŒæ ·å°†å¯¼å‡ºæ•°æ®å†æ¬¡å¯¼å…¥æ—¶äºŒè¿›åˆ¶æ•°æ®ä¼šä¸¢å¤±å’Œé”™ä¹± 12345mysqldump -uç”¨æˆ·å -på¯†ç  --default-character-set=utf8 --hex-blob æ•°æ®åº“å &gt; æ•°æ®åº“å.sqlmysqldump -uroot -p123456 --default-character-set=utf8 test &gt; test.sqlmysqldump -uroot -p test &gt; test.sql åªå¯¼å‡ºè¡¨ç»“æ„123mysqldump -uç”¨æˆ·å -på¯†ç  -d æ•°æ®åº“å &gt; æ•°æ®åº“å.sqlmysqldump -uroot -p123456 -d test &gt; test.sql å¯¼å…¥æ•°æ®åº“ä½¿ç”¨mysqlå‘½ä»¤å¯¼å…¥123mysql -uç”¨æˆ·å -p æ•°æ®åº“å &lt; æ•°æ®åº“å.sqlmysql -uroot -p123456 test &lt; test.sql ä½¿ç”¨sourceå‘½ä»¤å¯¼å…¥12use test; # ä½¿ç”¨å·²ç»åˆ›å»ºçš„æ•°æ®åº“source /home/test/test.sql # å¯¼å…¥å¤‡ä»½çš„sqlæ–‡ä»¶ å¯¼å‡ºè¿œç¨‹æ•°æ®åº“123mysqldump -hè¿œç¨‹æœåŠ¡å™¨ipåœ°å€ -Pç«¯å£å· -uç”¨æˆ·å -på¯†ç  --default-character-set=utf8 test &gt; /home/test/test.sqlmysqldump -h192.168.22.11 â€“P3306 -uroot -ppassword --default-character-set=utf8 test &gt; /home/test/test.sql","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://www.kming6.com/categories/æ•°æ®åº“/"},{"name":"Mysql","slug":"æ•°æ®åº“/Mysql","permalink":"https://www.kming6.com/categories/æ•°æ®åº“/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.kming6.com/tags/Mysql/"}]},{"title":"Mysqlæ•°æ®åº“è®¾è®¡è§„èŒƒ","slug":"Mysqlæ•°æ®åº“è®¾è®¡è§„èŒƒ","date":"2019-08-10T23:03:34.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/14649/","link":"","permalink":"https://www.kming6.com/posts/14649/","excerpt":"ä¸€èˆ¬ä½¿ç”¨Mysqlæ•°æ®æ¯”è¾ƒå¤šï¼Œä½†æ˜¯æœ‰ç‚¹å°ä¼™ä¼´å¾ˆå°‘è€ƒè™‘Mysqlè®¾è®¡ä¸Šçš„ç»†èŠ‚é—®é¢˜ï¼ŒåƒSQLè¯­å¥çš„è§„èŒƒã€ç´¢å¼•ä¸Šçš„è§„èŒƒç­‰ç­‰ï¼Œæœ¬æ–‡ç»è¿‡æ•´ç†åå¾—åˆ°ä¸€äº›å¸¸ç”¨çš„Mysqlæ•°æ®åº“è®¾è®¡è§„èŒƒã€‚","text":"ä¸€èˆ¬ä½¿ç”¨Mysqlæ•°æ®æ¯”è¾ƒå¤šï¼Œä½†æ˜¯æœ‰ç‚¹å°ä¼™ä¼´å¾ˆå°‘è€ƒè™‘Mysqlè®¾è®¡ä¸Šçš„ç»†èŠ‚é—®é¢˜ï¼ŒåƒSQLè¯­å¥çš„è§„èŒƒã€ç´¢å¼•ä¸Šçš„è§„èŒƒç­‰ç­‰ï¼Œæœ¬æ–‡ç»è¿‡æ•´ç†åå¾—åˆ°ä¸€äº›å¸¸ç”¨çš„Mysqlæ•°æ®åº“è®¾è®¡è§„èŒƒã€‚ Mysqlå‘½ä»¤è§„èŒƒ1234- æ‰€æœ‰æ•°æ®åº“è¡¨å‘½åéƒ½ç”¨å°å†™å­—æ¯ã€å¹¶ç”¨ä¸‹æ¢çº¿åˆ†å‰²- æ‰€æœ‰æ•°æ®åº“è¡¨åå°½é‡ä¸è¦ä½¿ç”¨Mysqlå…³é”®å­—å‘½åã€èƒ½çœ‹åˆ°åç§°å¤§æ¦‚äº†è§£è¡¨æ˜¯åšä»€ä¹ˆçš„- ä¸´æ—¶è¡¨ä»¥tmp_ä¸ºå‰ç¼€ã€æ—¥æœŸåç¼€åŒºåˆ†ï¼Œå¤‡ä»½è¡¨ä»¥bak_ä¸ºå‰ç¼€ã€æ—¥æœŸåç¼€- ç›¸åŒçš„æ•°æ®å­—æ®µï¼Œåœ¨æ‰€æœ‰è¡¨ä¸­çš„åˆ—æ˜å’Œç±»å‹å°½é‡ä¿æŒä¸€è‡´ åŸºæœ¬è®¾è®¡è§„èŒƒ1234567891011- å¤§éƒ¨åˆ†æƒ…å†µå°½é‡ä½¿ç”¨InnoDBå¼•æ“ï¼ŒInnoDBæ”¯æŒäº‹åŠ¡ã€è¡Œçº§é”ã€æ€§èƒ½æ›´å¥½- æ•°æ®åº“å°½é‡ä½¿ç”¨utf8mb4çš„å­—ç¬¦é›†ï¼Œå…¼å®¹æ€§å¥½ï¼Œé¿å…ä¹±ç å’Œç´¢å¼•åˆ›å»ºå¤±è´¥çš„é—®é¢˜- è¡¨å’Œå­—æ®µéƒ½å°½é‡åŠ ä¸Šæ³¨é‡Šï¼Œæ–¹ä¾¿ä»¥åç»´æŠ¤- å°½é‡ä¸è¦ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ã€è§†å›¾ã€è§¦å‘å™¨ã€Eventã€‚å¯ä»¥å‡å°‘æ•°æ®åº“èµ„æºçš„å ç”¨ã€å°†è®¡ç®—è½¬ç§»åˆ°æœåŠ¡å±‚- å•è¡¨çš„æ•°æ®é‡å°½é‡æ§åˆ¶åœ¨500ä¸‡ä»¥å†…ï¼Œæ•°æ®é‡è¿‡å¤§å½±å“Mysqlæ€§èƒ½å’Œç»´æŠ¤ï¼Œæ›´å¤šçš„æ•°æ®å¯ä»¥å¯¹æ•°æ®åº“è¿›è¡Œåˆ†åº“åˆ†è¡¨æ‹†åˆ†ï¼Œæ§åˆ¶å•è¡¨çš„æ•°æ®é‡- å°½é‡ä¸è¦ä½¿ç”¨Mysqlçš„åˆ†åŒºåŠŸèƒ½ï¼Œåˆ†åŒºæ˜¯ç‰©ç†ä¸Šå¤šä¸ªæ–‡ä»¶ï¼Œé€»è¾‘ä¸Šä¸€ä¸ªæ–‡ä»¶ï¼ŒæŸ¥è¯¢æ•ˆç‡å¾ˆä½ã€‚å¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶mycatã€sharding-jdbcç­‰è¿›è¡Œç‰©ç†åˆ†åŒº- å°½é‡å‡å°‘è¡¨çš„å®½åº¦ã€æ•°æ®å†·çƒ­æ•°æ®è¿›è¡Œåˆ†ç¦»ã€ä¿è¯æ¯ä¸ªè¡¨éƒ½æœ‰ä¸»é”® - Mysqlåˆ—æ•°é™åˆ¶åœ¨ä¸º4096åˆ—ï¼Œæ¯ä¸€è¡Œæ•°æ®ä¸è¶…è¿‡65535å­—èŠ‚ï¼›å®½åº¦è¶Šå¤§ã€åŠ è½½çš„å†…å­˜å°±è¶Šå¤§ï¼ŒIOæ¶ˆè€—ä¹Ÿå°±è¶Šå¤§ - ç»å¸¸ç”¨çš„æ•°æ®æ”¾åœ¨ä¸€èµ·ï¼Œä¸å¸¸ç”¨çš„æ•°æ®åˆ†ç¦»å‡ºå»ï¼Œå¯ä»¥æå¤§æé«˜æ•ˆç‡ - ä¸»é”®å¯ä»¥æ›´å¥½çš„åˆ©ç”¨ç´¢å¼•ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡- è¡¨ä¸­å°½é‡ä¸ç”¨å¤–é”®ï¼Œé€šè¿‡ç¨‹åºæ¥ç»´æŠ¤ï¼Œå¤–é”®å¯¼è‡´è¡¨ä¸è¡¨ä¹‹é—´è€¦åˆï¼Œæ¶‰åŠç›¸å…³çš„è¡¨ï¼Œååˆ†å½±å“æ€§èƒ½ä¸”å®¹æ˜“é€ æˆæ­»é” å­—æ®µæ¶‰åŠè§„èŒƒ1234567891011121314151617- ä¼˜å…ˆé€‰æ‹©ç¬¦åˆä¸šåŠ¡æœ€å°çš„å­˜å‚¨ç±»å‹ï¼ŒèŠ‚çœæ•°æ®ç©ºé—´å‡å°‘IOæ¶ˆè€—- å­—æ®µå®šä¹‰ä½¿ç”¨Not Nullï¼Œå¯ä»¥æä¾›ä¸€ä¸ªé»˜è®¤å€¼ - nullå€¼ç´¢å¼•å¾ˆéš¾ä¼˜åŒ–ï¼Œnullå€¼æ›´å ç”¨ç©ºé—´ï¼Œéœ€è¦é¢å¤–ç©ºé—´æ ‡è¯† - nullå€¼æ“ä½œåªèƒ½é‡‡ç”¨is nullæˆ–is not null - ä¸èƒ½é‡‡ç”¨=ã€inã€&lt;ã€&lt;&gt;ã€not inã€ï¼=æ“ä½œç¬¦ï¼Œä¸æ–¹ä¾¿æ“ä½œï¼Œwhere name != &apos;abc&apos;, ä¸ä¼šæŸ¥è¯¢å‡ºnameä¸ºnullçš„æ•°æ®- å°½é‡ä¸ä½¿ç”¨Textã€Blobç±»å‹ - Mysqlä½¿ç”¨Textã€Blobç±»å‹å°±ä¸ä½¿ç”¨å†…å­˜ä¸´æ—¶è¡¨è€Œä½¿ç”¨ç£ç›˜ä¸´æ—¶ç©ºé—´ã€æ€§èƒ½å·®æµªè´¹ç£ç›˜å’Œå†…å­˜ç©ºé—´ã€‚ - é™ä½æ•°æ®åº“å†…å­˜å‘½ä¸­ç‡ - å¯ä»¥å•ç‹¬å»ºç«‹æ‰©å±•è¡¨ä½¿ç”¨- å°½é‡ä¸ä½¿ç”¨Enumã€ç”¨Tinyint - ä¿®æ”¹Enumå€¼æ—¶ï¼Œéœ€è¦é€šè¿‡alterä¿®æ”¹è¡¨ - order byçš„æ“ä½œæ•ˆç‡ä½- å°½é‡ä¸è¦ä½¿ç”¨å°æ•°ï¼Œå°¤å…¶æ¶‰åŠé‡‘é’±ç­‰ç²¾åº¦è¦æ±‚è¾ƒé«˜çš„ç±»å‹ - æœ€å¥½ä½¿ç”¨æ•´æ•°ï¼Œå°æ•°å­˜å‚¨æœ‰ç²¾åº¦çš„è¯¯å·®ï¼Œå¯¼è‡´é‡‘é¢å¯¹ä¸ä¸Š- æ—¶é—´å°½é‡ä½¿ç”¨Timestampæˆ–è€…Datetimeç±»å‹å­˜å‚¨æ—¶é—´ï¼Œä¸è¦ä½¿ç”¨Stringç±»å‹ - ä½¿ç”¨Stringæ— æ³•ä½¿ç”¨æ—¥æœŸå‡½æ•°è¿›è¡Œæ¯”è¾ƒæ¯”è¾ƒ - ç”¨Stringä¼šå ç”¨æ›´å¤šçš„ç©ºé—´ ç´¢å¼•è®¾è®¡è§„èŒƒ1234567- è¡¨çš„ç´¢å¼•ä¸è¦å¤ªå¤šï¼Œå°½é‡5ä¸ªä»¥ä¸‹ï¼Œç´¢å¼•å¢åŠ æŸ¥è¯¢æ•ˆç‡åŒæ—¶ä¹Ÿä¼šé™ä½æ’å…¥å’Œæ›´æ–°çš„æ•ˆç‡ - ç´¢å¼•å¤ªå¤šä¼šå½±å“Mysqlä¼˜åŒ–å™¨ï¼Œä¼˜åŒ–å™¨æ¶ˆè€—æ—¶é—´å¢åŠ ï¼Œåè€Œé™ä½æŸ¥è¯¢åˆ°çš„æ€§èƒ½- æ›´æ–°é¢‘ç¹çš„åˆ—ã€æˆ–è€…åˆ—å€¼åŒºåˆ†åº¦ä¸é«˜çš„åˆ—(å¦‚ï¼šæ€§åˆ«ï¼Œåªæœ‰ç”·ã€å¥³ã€æœªçŸ¥)ä¸è¦åŠ ç´¢å¼•- è”åˆç´¢å¼•ï¼ŒæŠŠåŒºåˆ†åº¦é«˜çš„æ”¾åœ¨å·¦ä¾§ï¼Œå°½é‡éµå¾ªæœ€å·¦ç´¢å¼•åŸåˆ™ - åŒºåˆ†åº¦é«˜çš„åˆ—æ”¾åœ¨æœ€å·¦ä¾§ - æŸ¥è¯¢é¢‘ç¹çš„åˆ—æ”¾åœ¨æœ€å·¦ä¾§ - å­—æ®µé•¿åº¦å°çš„æ”¾åœ¨æœ€å·¦ä¾§ SQLè¯­å¥è§„èŒƒ1234567891011121314151617- å°½é‡ä¸è¦ä½¿å±æ€§éšå¼è½¬æ¢ï¼Œéšå¼è½¬æ¢ä½¿ç´¢å¼•å¤±æ•ˆ - SELECT name FROM project WHERE id = `&apos;1000&apos;`; idä¸ºæ•´å‹ï¼Œç”¨`1000`ä»£æ›¿- ç¨‹åºä¸­ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥æ“ä½œæ•°æ®åº“ï¼Œå‡å°‘SQLç¼–è¯‘æ—¶é—´åŒæ—¶é˜²æ­¢SQLæ³¨å…¥- insertè¯­å¥å°½é‡åŒ…å«å­—æ®µ - å¦‚ï¼šINSERT INTO test values(&apos;1&apos;, &apos;abc&apos;);åº”è¯¥INSERT INTO test(id, name) values(&apos;1&apos;, &apos;abc&apos;)- å°½é‡ä¸è¦ä½¿ç”¨%å¼€å¤´çš„æ¨¡ç³ŠæŸ¥è¯¢ - notã€!=ã€&lt;&gt;ã€not inã€not likeä»¥åŠ%å¼€å¤´ç­‰ï¼Œä¼šæ˜¯æŸ¥è¯¢ä¸èµ°ç´¢å¼•è€Œå…¨å˜æ‰«æ- è”åˆç´¢å¼•åªèƒ½æœ‰ä¸€åˆ—è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ - a1,a2,a3è”åˆç´¢å¼•ï¼Œa1èŒƒå›´æŸ¥è¯¢ï¼Œa2ï¼Œa3åˆ—ä¸ä¼šèµ°ç´¢å¼•ï¼Œå¯ä»¥æŠŠa1æ”¾åœ¨æœ€å- Whereè¯­å¥åçš„å­—æ®µå°½é‡ä¸è¦ä½¿ç”¨å‡½æ•°æˆ–è¡¨è¾¾å¼ï¼Œå¦åˆ™ä¸ä¼šèµ°ç´¢å¼• - SELECT id FROM t WHERE num/2=100ï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼Œå¯æ”¹ä¸ºï¼šSELECT id FROM t WHERE num=100*2 - SELECT id FROM t WHERE substring(name,1,3)=&apos;abc&apos;--nameä»¥abcå¼€å¤´çš„idï¼Œåº”æ”¹ä¸º:SELECT id FROM t WHERE name LIKE &apos;abc%&apos; - SELECT id FROM t WHERE datediff(day,createdate,&apos;2005-11-30&apos;)=0--&apos;2015-11-30&apos;ç”Ÿæˆçš„idï¼Œåº”æ”¹ä¸º:SELECT id FROM t WHERE createdate&gt;=&apos;2015-11-30&apos; AND createdate&lt;&apos;2015-12-1&apos;- å¤§è¡¨ä¸è¦ä½¿ç”¨å­æŸ¥è¯¢ï¼Œä¸ä½¿ç”¨JOINæŸ¥è¯¢- é¿å…JOINå…³è”å¤ªå¤šè¡¨- ORæ¡ä»¶å¯ä»¥æ¢æˆINæŸ¥è¯¢- å°½é‡å‡å°‘ä¸æ•°æ®åº“äº¤äº’æ¬¡æ•°","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://www.kming6.com/categories/æ•°æ®åº“/"},{"name":"Mysql","slug":"æ•°æ®åº“/Mysql","permalink":"https://www.kming6.com/categories/æ•°æ®åº“/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.kming6.com/tags/Mysql/"}]},{"title":"Dockerå®‰è£…åæŠ¥Cannot connect to the docker daemon at ...","slug":"Dockerä½¿ç”¨æŠ¥é”™","date":"2019-07-31T23:03:34.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/61412/","link":"","permalink":"https://www.kming6.com/posts/61412/","excerpt":"Dockerå®‰è£…åæŠ¥é”™ï¼šCannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?","text":"Dockerå®‰è£…åæŠ¥é”™ï¼šCannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running? è§£å†³æ–¹å¼æ‰§è¡Œä»¥ä¸‹å‘½ä»¤123systemctl daemon-reloadsudo service docker restartsudo service docker status (should see active (running))","categories":[{"name":"Docker","slug":"Docker","permalink":"https://www.kming6.com/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"https://www.kming6.com/tags/Docker/"}]},{"title":"About Hexo","slug":"Blog","date":"2019-07-31T23:03:34.000Z","updated":"2020-06-06T07:48:46.192Z","comments":true,"path":"posts/15470/","link":"","permalink":"https://www.kming6.com/posts/15470/","excerpt":"Welcome to this Blog!","text":"Welcome to this Blog! Quick StartCreate a new post1hexo new \"My New Post\" More info: Writing Run server1hexo server More info: Server Generate static files1hexo generate More info: Generating Deploy to remote sites1hexo deploy More info: Deployment Clean1hexo clean","categories":[{"name":"Hexo","slug":"Hexo","permalink":"https://www.kming6.com/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://www.kming6.com/tags/Hexo/"}]}]}